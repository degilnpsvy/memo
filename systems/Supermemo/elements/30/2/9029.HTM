<H4 class=subsection style="FONT-SIZE: medium; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">2.17.3 Performing the final link</H4>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-g_t_005fbfd_005flink_005ffinal_005flink-in-target-vector-1916></A><A name=index-target-vector-_0028_005fbfd_005ffinal_005flink_0029-1917></A>When all the input files have been processed, the linker calls the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_bfd_final_link</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>entry point of the output BFD. This routine is responsible for producing the final output file, which has several aspects. It must relocate the contents of the input sections and copy the data into the output sections. It must build an output symbol table including any local symbols from the input files and the global symbols from the hash table. When producing relocatable output, it must modify the input relocs and write them into the output file. There may also be object format dependent work to be done.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The linker will also call the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>write_object_contents</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>entry point when the BFD is closed. The two entry points must work together in order to produce the correct output file.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The details of how this works are inevitably dependent upon the specific object file format. The a.out<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_bfd_final_link</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>routine is<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>NAME(aout,final_link)</CODE>.</P>
<UL class=menu style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<LI><A accessKey=1 href="https://sourceware.org/binutils/docs-2.23.1/bfd/Information-provided-by-the-linker.html#Information-provided-by-the-linker">Information provided by the linker</A></LI>
<LI><A accessKey=2 href="https://sourceware.org/binutils/docs-2.23.1/bfd/Relocating-the-section-contents.html#Relocating-the-section-contents">Relocating the section contents</A></LI>
<LI><A accessKey=3 href="https://sourceware.org/binutils/docs-2.23.1/bfd/Writing-the-symbol-table.html#Writing-the-symbol-table">Writing the symbol table</A></LI></UL>