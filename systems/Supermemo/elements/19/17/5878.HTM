<H3 class=section style="WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">5.24<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE>&#8212;convert error number to string</H3>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-strerror-392></A><STRONG>Synopsis</STRONG></P><PRE class=example style="FONT-WEIGHT: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">     #include &lt;string.h&gt;
     char *strerror(int <VAR>errnum</VAR>);
     char *_strerror_r(struct _reent <VAR>ptr</VAR>, int <VAR>errnum</VAR>,
         int <VAR>internal</VAR>, int *<VAR>error</VAR>);
     
</PRE>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><STRONG>Description</STRONG><BR><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>converts the error number<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>errnum</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>into a string. The value of<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>errnum</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>is usually a copy of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>errno</CODE>. If<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>errnum</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not a known error number, the result points to an empty string.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><FONT class=extract>This implementation of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>prints out the following strings for each of the values defined in `<CODE>errno.h</CODE>':</FONT></P>
<DL style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<DT><FONT class=extract><CODE>0</CODE> </FONT>
<DD><FONT class=extract>Success<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>E2BIG</CODE> </FONT>
<DD><FONT class=extract>Arg list too long<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EACCES</CODE> </FONT>
<DD><FONT class=extract>Permission denied<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EADDRINUSE</CODE> </FONT>
<DD><FONT class=extract>Address already in use<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EADV</CODE> </FONT>
<DD><FONT class=extract>Advertise error<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EAFNOSUPPORT</CODE> </FONT>
<DD><FONT class=extract>Address family not supported by protocol family<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EAGAIN</CODE> </FONT>
<DD><FONT class=extract>No more processes<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EALREADY</CODE> </FONT>
<DD><FONT class=extract>Socket already connected<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EBADF</CODE> </FONT>
<DD><FONT class=extract>Bad file number<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EBADMSG</CODE> </FONT>
<DD><FONT class=extract>Bad message<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EBUSY</CODE> </FONT>
<DD><FONT class=extract>Device or resource busy<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ECHILD</CODE> </FONT>
<DD><FONT class=extract>No children<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ECOMM</CODE> </FONT>
<DD><FONT class=extract>Communication error<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ECONNABORTED</CODE> </FONT>
<DD><FONT class=extract>Software caused connection abort<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ECONNREFUSED</CODE> </FONT>
<DD><FONT class=extract>Connection refused<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EDEADLK</CODE> </FONT>
<DD><FONT class=extract>Deadlock<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EDESTADDRREQ</CODE> </FONT>
<DD><FONT class=extract>Destination address required<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EEXIST</CODE> </FONT>
<DD><FONT class=extract>File exists<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EDOM</CODE> </FONT>
<DD><FONT class=extract>Math argument<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EFAULT</CODE> </FONT>
<DD><FONT class=extract>Bad address<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EFBIG</CODE> </FONT>
<DD><FONT class=extract>File too large<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EHOSTDOWN</CODE> </FONT>
<DD><FONT class=extract>Host is down<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EHOSTUNREACH</CODE> </FONT>
<DD><FONT class=extract>Host is unreachable<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EIDRM</CODE> </FONT>
<DD><FONT class=extract>Identifier removed<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EINPROGRESS</CODE> </FONT>
<DD><FONT class=extract>Connection already in progress<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EINTR</CODE> </FONT>
<DD><FONT class=extract>Interrupted system call<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EINVAL</CODE> </FONT>
<DD><FONT class=extract>Invalid argument<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EIO</CODE> </FONT>
<DD><FONT class=extract>I/O error<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EISCONN</CODE> </FONT>
<DD><FONT class=extract>Socket is already connected<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EISDIR</CODE> </FONT>
<DD><FONT class=extract>Is a directory<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ELIBACC</CODE> </FONT>
<DD><FONT class=extract>Cannot access a needed shared library<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ELIBBAD</CODE> </FONT>
<DD><FONT class=extract>Accessing a corrupted shared library<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ELIBEXEC</CODE> </FONT>
<DD><FONT class=extract>Cannot exec a shared library directly<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ELIBMAX</CODE> </FONT>
<DD><FONT class=extract>Attempting to link in more shared libraries than system limit<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ELIBSCN</CODE> </FONT>
<DD><FONT class=extract><CODE>.lib</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>section in a.out corrupted<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EMFILE</CODE> </FONT>
<DD><FONT class=extract>Too many open files<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EMLINK</CODE> </FONT>
<DD><FONT class=extract>Too many links<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EMSGSIZE</CODE> </FONT>
<DD><FONT class=extract>Message too long<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EMULTIHOP</CODE> </FONT>
<DD><FONT class=extract>Multihop attempted<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENAMETOOLONG</CODE> </FONT>
<DD><FONT class=extract>File or path name too long<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENETDOWN</CODE> </FONT>
<DD><FONT class=extract>Network interface not configured<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENETUNREACH</CODE> </FONT>
<DD><FONT class=extract>Network is unreachable<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENFILE</CODE> </FONT>
<DD><FONT class=extract>Too many open files in system<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENODEV</CODE> </FONT>
<DD><FONT class=extract>No such device<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOENT</CODE> </FONT>
<DD><FONT class=extract>No such file or directory<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOEXEC</CODE> </FONT>
<DD><FONT class=extract>Exec format error<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOLCK</CODE> </FONT>
<DD><FONT class=extract>No lock<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOLINK</CODE> </FONT>
<DD><FONT class=extract>Virtual circuit is gone<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOMEM</CODE> </FONT>
<DD><FONT class=extract>Not enough space<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOMSG</CODE> </FONT>
<DD><FONT class=extract>No message of desired type<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENONET</CODE> </FONT>
<DD><FONT class=extract>Machine is not on the network<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOPKG</CODE> </FONT>
<DD><FONT class=extract>No package<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOPROTOOPT</CODE> </FONT>
<DD><FONT class=extract>Protocol not available<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOSPC</CODE> </FONT>
<DD><FONT class=extract>No space left on device<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOSR</CODE> </FONT>
<DD><FONT class=extract>No stream resources<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOSTR</CODE> </FONT>
<DD><FONT class=extract>Not a stream<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOSYS</CODE> </FONT>
<DD><FONT class=extract>Function not implemented<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTBLK</CODE> </FONT>
<DD><FONT class=extract>Block device required<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTCONN</CODE> </FONT>
<DD><FONT class=extract>Socket is not connected<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTDIR</CODE> </FONT>
<DD><FONT class=extract>Not a directory<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTEMPTY</CODE> </FONT>
<DD><FONT class=extract>Directory not empty<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTSOCK</CODE> </FONT>
<DD><FONT class=extract>Socket operation on non-socket<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTSUP</CODE> </FONT>
<DD><FONT class=extract>Not supported<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTTY</CODE> </FONT>
<DD><FONT class=extract>Not a character device<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENXIO</CODE> </FONT>
<DD><FONT class=extract>No such device or address<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EPERM</CODE> </FONT>
<DD><FONT class=extract>Not owner<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EPIPE</CODE> </FONT>
<DD><FONT class=extract>Broken pipe<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EPROTO</CODE> </FONT>
<DD><FONT class=extract>Protocol error<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EPROTOTYPE</CODE> </FONT>
<DD><FONT class=extract>Protocol wrong type for socket<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EPROTONOSUPPORT</CODE> </FONT>
<DD><FONT class=extract>Unknown protocol<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ERANGE</CODE> </FONT>
<DD><FONT class=extract>Result too large<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EREMOTE</CODE> </FONT>
<DD><FONT class=extract>Resource is remote<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EROFS</CODE> </FONT>
<DD><FONT class=extract>Read-only file system<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ESHUTDOWN</CODE> </FONT>
<DD><FONT class=extract>Can't send after socket shutdown<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ESOCKTNOSUPPORT</CODE> </FONT>
<DD><FONT class=extract>Socket type not supported<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ESPIPE</CODE> </FONT>
<DD><FONT class=extract>Illegal seek<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ESRCH</CODE> </FONT>
<DD><FONT class=extract>No such process<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ESRMNT</CODE> </FONT>
<DD><FONT class=extract>Srmount error<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ETIME</CODE> </FONT>
<DD><FONT class=extract>Stream ioctl timeout<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ETIMEDOUT</CODE> </FONT>
<DD><FONT class=extract>Connection timed out<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ETXTBSY</CODE> </FONT>
<DD><FONT class=extract>Text file busy<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EXDEV</CODE> </FONT>
<DD><FONT class=extract>Cross-device link<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ECANCELED</CODE> </FONT>
<DD><FONT class=extract>Operation canceled<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ENOTRECOVERABLE</CODE> </FONT>
<DD><FONT class=extract>State not recoverable<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>EOWNERDEAD</CODE> </FONT>
<DD><FONT class=extract>Previous owner died<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></FONT>
<DT><FONT class=extract><CODE>ESTRPIPE</CODE> </FONT>
<DD><FONT class=extract>Strings pipe error</FONT></DD></DL>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><CODE>_strerror_r</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a reentrant version of the above.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><BR><STRONG>Returns</STRONG><BR>This function returns a pointer to a string. Your application must not modify that string.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><BR><STRONG>Portability</STRONG><BR>ANSI C requires<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE>, but does not specify the strings used for each error number.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">Although this implementation of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is reentrant (depending on<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE>), ANSI C declares that subsequent calls to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>may overwrite the result string; therefore portable code cannot depend on the reentrancy of this subroutine.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">Although this implementation of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>guarantees a non-null result with a NUL-terminator, some implementations return<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>NULL</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>on failure. Although POSIX allows<CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to set<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>errno</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to EINVAL on failure, this implementation does not do so (unless you provide<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE>).</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">POSIX recommends that unknown<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>errnum</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>result in a message including that value, however it is not a requirement and this implementation does not provide that information (unless you provide<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE>).</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">This implementation of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>provides for user-defined extensibility.<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>errno.h</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>defines<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>__ELASTERROR</VAR>, which can be used as a base for user-defined error values. If the user supplies a routine named<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>errnum</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>passed to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>does not match any of the supported values,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is called with three arguments. The first is of type<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>int</VAR>, and is the<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>errnum</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>value unknown to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE>. The second is of type<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>int</VAR>, and matches the<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>internal</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_strerror_r</CODE>; this should be zero if called from<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and non-zero if called from any other function;<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>can use this information to satisfy the POSIX rule that no other standardized function can overwrite a static buffer reused by<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE>. The third is of type<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>int *</VAR>, and matches the<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>error</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_strerror_r</CODE>; if a non-zero value is stored into that location (usually<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>EINVAL</VAR>), then<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>will set<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>errno</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to that value, and the XPG variant of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror_r</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>will return that value instead of zero or<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>ERANGE</VAR>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>returns a<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>char *</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>value; returning<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>NULL</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>implies that the user function did not choose to handle<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>errnum</VAR>. The default<CODE>_user_strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>returns<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>NULL</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>for all input values. Note that<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_user_sterror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>must be thread-safe, and only denote errors via the third argument rather than modifying<CODE>errno</CODE>, if<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>strerror_r</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>are are to comply with POSIX.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><CODE>strerror</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>requires no supporting OS subroutines.