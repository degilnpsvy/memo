<H3 class=section style="WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">4.67<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>ungetwc</CODE>&#8212;push wide character data back into a stream</H3>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-ungetwc-323></A><A name=index-g_t_005fungetwc_005fr-324></A><STRONG>Synopsis</STRONG></P><PRE class=example style="FONT-WEIGHT: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">     #include &lt;stdio.h&gt;
     #include &lt;wchar.h&gt;
     wint_t ungetwc(wint_t <VAR>wc</VAR>, FILE *<VAR>stream</VAR>);
     
     wint_t _ungetwc_r(struct _reent *<VAR>reent</VAR>, wint_t <VAR>wc</VAR>, FILE *<VAR>stream</VAR>);
     
</PRE>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><STRONG>Description</STRONG><BR><CODE>ungetwc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is used to return wide characters back to<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>stream</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>to be read again. If<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>wc</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>is WEOF, the stream is unchanged. Otherwise, the wide character<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>wc</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>is put back on the stream, and subsequent reads will see the wide chars pushed back in reverse order. Pushed wide chars are lost if the stream is repositioned, such as by<CODE>fseek</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>fsetpos</CODE>, or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>rewind</CODE>.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The underlying file is not changed, but it is possible to push back something different than what was originally read. Ungetting a character will clear the end-of-stream marker, and decrement the file position indicator. Pushing back beyond the beginning of a file gives unspecified behavior.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The alternate function<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_ungetwc_r</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a reentrant version. The extra argument<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reent</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a pointer to a reentrancy structure.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><BR><STRONG>Returns</STRONG><BR>The wide character pushed back, or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>WEOF</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>on error.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><BR><STRONG>Portability</STRONG><BR>C99