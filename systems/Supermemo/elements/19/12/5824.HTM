<H3 class=section style="WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">4.44<SPAN class=Apple-converted-space>&nbsp;</SPAN><FONT class=extract><CODE>putc</CODE>&#8212;write a character (macro)</FONT></H3>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-putc-246></A><A name=index-g_t_005fputc_005fr-247></A><STRONG>Synopsis</STRONG></P><PRE class=example style="FONT-WEIGHT: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">     #include &lt;stdio.h&gt;
     int putc(int <VAR>ch</VAR>, FILE *<VAR>fp</VAR>);
     
     #include &lt;stdio.h&gt;
     int _putc_r(struct _reent *<VAR>ptr</VAR>, int <VAR>ch</VAR>, FILE *<VAR>fp</VAR>);
     
</PRE>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><STRONG>Description</STRONG><BR><FONT class=extract><CODE>putc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a macro, defined in<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>stdio.h</CODE>.</FONT><SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>putc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>writes the argument<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>ch</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>to the file or stream identified by<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>fp</VAR>, after converting it from an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>int</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>unsigned char</CODE>.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">If the file was opened with append mode (or if the stream cannot support positioning), then the new character goes at the end of the file or stream. Otherwise, the new character is written at the current value of the position indicator, and the position indicator advances by one.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">For a subroutine version of this macro, see<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>fputc</CODE>.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>_putc_r</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function is simply the reentrant version of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>putc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>that takes an additional reentrant structure argument:<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>ptr</VAR>.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><BR><STRONG>Returns</STRONG><BR>If successful,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>putc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>returns its argument<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>ch</VAR>. If an error intervenes, the result is<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>EOF</CODE>. You can use `<CODE>ferror(</CODE><VAR>fp</VAR><CODE>)</CODE>' to query for errors.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><BR><STRONG>Portability</STRONG><BR>ANSI C requires<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>putc</CODE>; it suggests, but does not require, that<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>putc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>be implemented as a macro. The standard explicitly permits macro implementations of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>putc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to use the<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>fp</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument more than once; therefore, in a portable program, you should not use an expression with side effects as this argument.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">Supporting OS subroutines required:<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>close</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>fstat</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>isatty</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>lseek</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>read</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>sbrk</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>write</CODE>.