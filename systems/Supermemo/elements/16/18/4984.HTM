<H3 class=section style="FONT-FAMILY: 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">15.4 Code evaluation and security issues</H3>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Org provides tools to work with the code snippets, including evaluating them.</P>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Running code on your machine always comes with a security risk. Badly written or malicious code can be executed on purpose or by accident. Org has default settings which will only evaluate such code if you give explicit permission to do so, and as a casual user of these features you should leave these precautions intact.</P>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">For people who regularly work with such code, the confirmation prompts can become annoying, and you might want to turn them off. This can be done, but you must be aware of the risks that are involved.</P>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Code evaluation can happen under the following circumstances:</P>
<DL style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">
<DT style="MARGIN-BOTTOM: 3px; FONT-SIZE: 16px; FONT-FAMILY: 'Courier New'; COLOR: rgb(28,48,48); PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 3px; PADDING-RIGHT: 3px"><I>Source code blocks</I></DT>
<DD style="MARGIN-BOTTOM: 14pt; TEXT-ALIGN: justify">Source code blocks can be evaluated during export, or when pressing<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>C-c C-c</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>in the block. The most important thing to realize here is that Org mode files which contain code snippets are, in a certain sense, like executable files. So you should accept them and load them into Emacs only from trusted sources&#8212;just like you would do with a program you install on your computer.
<P style="TEXT-ALIGN: justify; MARGIN-TOP: 0px">Make sure you know what you are doing before customizing the variables which take off the default security brakes.</P>
<DIV class=defun>&#8212; User Option:<SPAN class=Apple-converted-space>&nbsp;</SPAN><B>org-confirm-babel-evaluate</B><VAR><A name=index-org_002dconfirm_002dbabel_002devaluate-1996></A></VAR><BR>
<BLOCKQUOTE>
<P style="TEXT-ALIGN: justify; MARGIN-TOP: 0px">When t (the default), the user is asked before every code block evaluation. When<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>nil</CODE>, the user is not asked. When set to a function, it is called with two arguments (language and body of the code block) and should return t to ask and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>nil</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>not to ask.</P></BLOCKQUOTE></DIV>
<P style="TEXT-ALIGN: justify; MARGIN-TOP: 0px">For example, here is how to execute "ditaa" code (which is considered safe) without asking:</P><PRE class=lisp style="OVERFLOW: auto; MARGIN-BOTTOM: 14pt; FONT-SIZE: 14px; BORDER-TOP: medium none; FONT-FAMILY: 'Courier New'; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; COLOR: black; PADDING-BOTTOM: 12pt; PADDING-TOP: 12pt; PADDING-LEFT: 12pt; BORDER-LEFT: medium none; PADDING-RIGHT: 12pt; BACKGROUND-COLOR: rgb(238,238,238); box-shadow: rgb(136, 136, 136) 5px 5px 5px">          (defun my-org-confirm-babel-evaluate (lang body)
            (not (string= lang "ditaa")))  ; don't ask for ditaa
          (setq org-confirm-babel-evaluate 'my-org-confirm-babel-evaluate)
</PRE><BR></DD>
<DT style="MARGIN-BOTTOM: 3px; FONT-SIZE: 16px; FONT-FAMILY: 'Courier New'; COLOR: rgb(28,48,48); PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 3px; PADDING-RIGHT: 3px"><I>Following<SPAN class=Apple-converted-space>&nbsp;</SPAN></I><CODE>shell</CODE><I><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN></I><CODE>elisp</CODE><I><SPAN class=Apple-converted-space>&nbsp;</SPAN>links</I></DT>
<DD style="MARGIN-BOTTOM: 14pt; TEXT-ALIGN: justify">Org has two link types that can directly evaluate code (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="FONT-WEIGHT: normal; TEXT-DECORATION: none" href="http://orgmode.org/org.html#External-links">External links</A>). These links can be problematic because the code to be evaluated is not visible.
<DIV class=defun>&#8212; User Option:<SPAN class=Apple-converted-space>&nbsp;</SPAN><B>org-confirm-shell-link-function</B><VAR><A name=index-org_002dconfirm_002dshell_002dlink_002dfunction-1997></A></VAR><BR>
<BLOCKQUOTE>
<P style="TEXT-ALIGN: justify; MARGIN-TOP: 0px">Function to queries user about shell link execution.</P></BLOCKQUOTE></DIV>
<DIV class=defun>&#8212; User Option:<SPAN class=Apple-converted-space>&nbsp;</SPAN><B>org-confirm-elisp-link-function</B><VAR><A name=index-org_002dconfirm_002delisp_002dlink_002dfunction-1998></A></VAR><BR>
<BLOCKQUOTE>
<P style="TEXT-ALIGN: justify; MARGIN-TOP: 0px">Functions to query user for Emacs Lisp link execution.</P></BLOCKQUOTE></DIV><BR></DD>
<DT style="MARGIN-BOTTOM: 3px; FONT-SIZE: 16px; FONT-FAMILY: 'Courier New'; COLOR: rgb(28,48,48); PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 3px; PADDING-RIGHT: 3px"><I>Formulas in tables</I></DT>
<DD style="MARGIN-BOTTOM: 14pt; TEXT-ALIGN: justify">Formulas in tables (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="FONT-WEIGHT: normal; TEXT-DECORATION: none" href="http://orgmode.org/org.html#The-spreadsheet">The spreadsheet</A>) are code that is evaluated either by the<SPAN class=Apple-converted-space>&nbsp;</SPAN><I>calc</I><SPAN class=Apple-converted-space>&nbsp;</SPAN>interpreter, or by the<SPAN class=Apple-converted-space>&nbsp;</SPAN><I>Emacs Lisp</I><SPAN class=Apple-converted-space>&nbsp;</SPAN>interpreter.</DD></DL>