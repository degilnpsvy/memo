<H4 class=subsection style="FONT-SIZE: 15px; FONT-FAMILY: 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: 19px; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">10.3.1 The weekly/daily agenda</H4>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><A name=index-agenda-1103></A><A name=index-weekly-agenda-1104></A><A name=index-daily-agenda-1105></A>The purpose of the weekly/daily<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM>agenda</EM><SPAN class=Apple-converted-space>&nbsp;</SPAN>is to act like a page of a paper agenda, showing all the tasks for the current week or day.<A name=index-org_002dagenda_002c-command-1106></A><A name=index-C_002dc-a-a-1107></A><A name=index-org_002dagenda_002dlist-1108></A></P>
<DL style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">
<DT style="MARGIN-BOTTOM: 3px; FONT-SIZE: 16px; FONT-FAMILY: 'Courier New'; COLOR: rgb(28,48,48); PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 3px; PADDING-RIGHT: 3px"><FONT class=extract><KBD>C-c a a &nbsp;&nbsp;&nbsp;&nbsp;(</KBD><CODE>org-agenda-list</CODE><KBD>)</KBD> </FONT>
<DD style="MARGIN-BOTTOM: 14pt; TEXT-ALIGN: justify"><FONT class=extract>Compile an agenda for the current week from a list of Org files. The agenda shows the entries for each day. With a numeric prefix</FONT><A style="FONT-WEIGHT: normal; TEXT-DECORATION: none" href="http://orgmode.org/org.html#fn-102" name=fnd-102 rel=footnote><SUP><FONT class=extract>102</FONT></SUP></A><FONT class=extract><SPAN class=Apple-converted-space>&nbsp;</SPAN>(like<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>C-u 2 1 C-c a a</KBD>) you may set the number of days to be displayed.</FONT></DD></DL>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><A name=index-org_002dagenda_002dspan-1109></A><A name=index-org_002dagenda_002dndays-1110></A><A name=index-org_002dagenda_002dstart_002dday-1111></A><A name=index-org_002dagenda_002dstart_002don_002dweekday-1112></A>The default number of days displayed in the agenda is set by the variable<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>org-agenda-span</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(or the obsolete<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>org-agenda-ndays</CODE>). This variable can be set to any number of days you want to see by default in the agenda, or to a span name, such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>day</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>week</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>month</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>year</CODE>. For weekly agendas, the default is to start on the previous monday (see<CODE>org-agenda-start-on-weekday</CODE>). You can also set the start date using a date shift:<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>(setq org-agenda-start-day "+10d")</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>will start the agenda ten days from today in the future.</P>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Remote editing from the agenda buffer means, for example, that you can change the dates of deadlines and appointments from the agenda buffer. The commands available in the Agenda buffer are listed in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="FONT-WEIGHT: normal; TEXT-DECORATION: none" href="http://orgmode.org/org.html#Agenda-commands">Agenda commands</A>.</P>
<H5 class=subsubheading style="FONT-FAMILY: 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Calendar/Diary integration</H5>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><A name=index-calendar-integration-1113></A><A name=index-diary-integration-1114></A>Emacs contains the calendar and diary by Edward M. Reingold. The calendar displays a three-month calendar with holidays from different countries and cultures. The diary allows you to keep track of anniversaries, lunar phases, sunrise/set, recurrent appointments (weekly, monthly) and more. In this way, it is quite complementary to Org. It can be very useful to combine output from Org with the diary.</P>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><FONT class=extract>In order to include entries from the Emacs diary into Org mode's agenda, you only need to customize the variable</FONT></P><PRE class=lisp style="OVERFLOW: auto; MARGIN-BOTTOM: 14pt; FONT-SIZE: 14px; BORDER-TOP: medium none; FONT-FAMILY: 'Courier New'; BORDER-RIGHT: medium none; FONT-VARIANT: normal; BORDER-BOTTOM: medium none; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); PADDING-BOTTOM: 12pt; FONT-STYLE: normal; PADDING-TOP: 12pt; PADDING-LEFT: 12pt; BORDER-LEFT: medium none; LETTER-SPACING: normal; PADDING-RIGHT: 12pt; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; box-shadow: rgb(136, 136, 136) 5px 5px 5px"><FONT class=extract>     (setq org-agenda-include-diary t)
</FONT></PRE>
<P class=noindent style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><FONT class=extract>After that, everything will happen automatically. All diary entries including holidays, anniversaries, etc., will be included in the agenda buffer created by Org mode. &lt;SPC&gt;, &lt;TAB&gt;, and &lt;RET&gt; can be used from the agenda buffer to jump to the diary file in order to edit existing diary entries. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>i</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>command to insert new entries for the current date works in the agenda buffer, as well as the commands<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>S</KBD>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>M</KBD>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>C</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>to display Sunrise/Sunset times, show lunar phases and to convert to other calendars, respectively.<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>c</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>can be used to switch back and forth between calendar and agenda.</FONT></P>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><FONT class=extract>If you are using the diary only for sexp entries and holidays, it is faster to not use the above setting, but instead to copy or even move the entries into an Org file. Org mode evaluates diary-style sexp entries, and does it faster because there is no overhead for first creating the diary display. Note that the sexp entries must start at the left margin, no whitespace is allowed before them. For example, the following segment of an Org file will be processed and entries will be made in the agenda:</FONT></P><PRE class=example style="OVERFLOW: auto; MARGIN-BOTTOM: 14pt; FONT-SIZE: 14px; BORDER-TOP: medium none; FONT-FAMILY: 'Courier New'; BORDER-RIGHT: medium none; FONT-VARIANT: normal; BORDER-BOTTOM: medium none; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); PADDING-BOTTOM: 12pt; FONT-STYLE: normal; PADDING-TOP: 12pt; PADDING-LEFT: 12pt; BORDER-LEFT: medium none; LETTER-SPACING: normal; PADDING-RIGHT: 12pt; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; box-shadow: rgb(136, 136, 136) 5px 5px 5px"><FONT class=extract>     * Birthdays and similar stuff
     #+CATEGORY: Holiday
     %%(org-calendar-holiday)   ; special function for holiday names
     #+CATEGORY: Ann
     %%(org-anniversary 1956  5 14)</FONT><A style="FONT-WEIGHT: normal; TEXT-DECORATION: none" href="http://orgmode.org/org.html#fn-103" name=fnd-103 rel=footnote><SUP><FONT class=extract>103</FONT></SUP></A><FONT class=extract> Arthur Dent is %d years old
     %%(org-anniversary 1869 10  2) Mahatma Gandhi would be %d years old</FONT>
</PRE>
<H5 class=subsubheading style="FONT-FAMILY: 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Anniversaries from BBDB</H5>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><A name=index-BBDB_002c-anniversaries-1115></A><A name=index-anniversaries_002c-from-BBDB-1116></A>If you are using the Big Brothers Database to store your contacts, you will very likely prefer to store anniversaries in BBDB rather than in a separate Org or diary file. Org supports this and will show BBDB anniversaries as part of the agenda. All you need to do is to add the following to one of your agenda files:</P><PRE class=example style="OVERFLOW: auto; MARGIN-BOTTOM: 14pt; FONT-SIZE: 14px; BORDER-TOP: medium none; FONT-FAMILY: 'Courier New'; BORDER-RIGHT: medium none; FONT-VARIANT: normal; BORDER-BOTTOM: medium none; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); PADDING-BOTTOM: 12pt; FONT-STYLE: normal; PADDING-TOP: 12pt; PADDING-LEFT: 12pt; BORDER-LEFT: medium none; LETTER-SPACING: normal; PADDING-RIGHT: 12pt; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; box-shadow: rgb(136, 136, 136) 5px 5px 5px">     * Anniversaries
       :PROPERTIES:
       :CATEGORY: Anniv
       :END:
     %%(org-bbdb-anniversaries)
</PRE>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">You can then go ahead and define anniversaries for a BBDB record. Basically, you need to press<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD>C-o anniversary &lt;RET&gt;</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>with the cursor in a BBDB record and then add the date in the format<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>YYYY-MM-DD</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>MM-DD</CODE>, followed by a space and the class of the anniversary (&#8216;<SAMP><SPAN class=samp>birthday</SPAN></SAMP>&#8217; or &#8216;<SAMP><SPAN class=samp>wedding</SPAN></SAMP>&#8217;, or a format string). If you omit the class, it will default to &#8216;<SAMP><SPAN class=samp>birthday</SPAN></SAMP>&#8217;. Here are a few examples, the header for the file<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=file>org-bbdb.el</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>contains more detailed information.</P><PRE class=example style="OVERFLOW: auto; MARGIN-BOTTOM: 14pt; FONT-SIZE: 14px; BORDER-TOP: medium none; FONT-FAMILY: 'Courier New'; BORDER-RIGHT: medium none; FONT-VARIANT: normal; BORDER-BOTTOM: medium none; TEXT-TRANSFORM: none; WORD-SPACING: 0px; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); PADDING-BOTTOM: 12pt; FONT-STYLE: normal; PADDING-TOP: 12pt; PADDING-LEFT: 12pt; BORDER-LEFT: medium none; LETTER-SPACING: normal; PADDING-RIGHT: 12pt; BACKGROUND-COLOR: rgb(238,238,238); TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px; box-shadow: rgb(136, 136, 136) 5px 5px 5px">     1973-06-22
     06-22
     1955-08-02 wedding
     2008-04-14 %s released version 6.01 of org mode, %d years ago
</PRE>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">After a change to BBDB, or for the first agenda display during an Emacs session, the agenda display will suffer a short delay as Org updates its hash with anniversaries. However, from then on things will be very fast&#8212;much faster in fact than a long list of &#8216;<SAMP><SPAN class=samp>%%(diary-anniversary)</SPAN></SAMP>&#8217; entries in an Org or Diary file.</P>
<H5 class=subsubheading style="FONT-FAMILY: 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; FONT-VARIANT: normal; WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><FONT class=extract>Appointment reminders</FONT></H5>
<P style="WHITE-SPACE: normal; TEXT-TRANSFORM: none; WORD-SPACING: 0px; COLOR: rgb(0,0,0); TEXT-ALIGN: justify; FONT: 15px/19px 'Droid Serif', 'Lucida Grande', 'Lucida Sans Unicode', 'DejaVu Sans', Verdana, sans-serif; MARGIN-TOP: 0px; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><A name=index-g_t_0040file_007bappt_002eel_007d-1117></A><A name=index-appointment-reminders-1118></A><A name=index-appointment-1119></A><A name=index-reminders-1120></A><FONT class=extract>Org can interact with Emacs appointments notification facility. To add the appointments of your agenda files, use the command<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>org-agenda-to-appt</CODE>. This command lets you filter through the list of your appointments and add only those belonging to a specific category or matching a regular expression. It also reads a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>APPT_WARNTIME</CODE>property which will then override the value of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>appt-message-warning-time</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>for this appointment. See the docstring for details.</FONT>