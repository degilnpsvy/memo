/* Return the exception level we're running at if this is our mmu_idx */<BR>static inline int arm_mmu_idx_to_el(ARMMMUIdx mmu_idx)<BR>{<BR>&nbsp;&nbsp;&nbsp; assert(mmu_idx &lt; ARMMMUIdx_S2NS);<BR>&nbsp;&nbsp;&nbsp; return mmu_idx &amp; 3;<BR>}</P>
<P>/* Determine the current mmu_idx to use for normal loads/stores */<BR>static inline int cpu_mmu_index(CPUARMState *env, bool ifetch)<BR>{<BR>&nbsp;&nbsp;&nbsp; int el = arm_current_el(env);</P>
<P>&nbsp;&nbsp;&nbsp; if (el &lt; 2 &amp;&amp; arm_is_secure_below_el3(env)) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ARMMMUIdx_S1SE0 + el;<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; return el;<BR>}