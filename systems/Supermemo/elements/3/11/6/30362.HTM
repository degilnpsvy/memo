/* Function for determing whether guest cp register reads and writes should<BR>&nbsp;* access the secure or non-secure bank of a cp register.&nbsp; When EL3 is<BR>&nbsp;* operating in AArch32 state, the NS-bit determines whether the secure<BR>&nbsp;* instance of a cp register should be used. When EL3 is AArch64 (or if<BR>&nbsp;* it doesn't exist at all) then there is no register banking, and all<BR>&nbsp;* accesses are to the non-secure version.<BR>&nbsp;*/<BR>static inline bool access_secure_reg(CPUARMState *env)<BR>{<BR>&nbsp;&nbsp;&nbsp; bool ret = (arm_feature(env, ARM_FEATURE_EL3) &amp;&amp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !arm_el_is_aa64(env, 3) &amp;&amp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !(env-&gt;cp15.scr_el3 &amp; SCR_NS)); 
<P></P>
<P>&nbsp;&nbsp;&nbsp; return ret;<BR>}