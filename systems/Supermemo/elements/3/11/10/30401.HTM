&nbsp;list_for_each_entry(sif, &amp;bus-&gt;p-&gt;interfaces, node)<BR>&nbsp;&nbsp;if (sif-&gt;add_dev)<BR>&nbsp;&nbsp;&nbsp;sif-&gt;add_dev(dev, sif);
<P></P>
<P><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#330" name=330>330</A><SPAN class=c>/**</P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#331" name=331>331</A> * struct subsys_interface - interfaces to device functions<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#332" name=332>332</A> * @name:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name of the device function<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#333" name=333>333</A> * @subsys:&nbsp;&nbsp;&nbsp;&nbsp; subsytem of the devices to attach to<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#334" name=334>334</A> * @node:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the list of functions registered at the subsystem<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#335" name=335>335</A> * @add_dev:&nbsp;&nbsp;&nbsp; device hookup to device function handler<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#336" name=336>336</A> * @remove_dev: device hookup to device function handler<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#337" name=337>337</A> *<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#338" name=338>338</A> * Simple interfaces attached to a subsystem. Multiple interfaces can<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#339" name=339>339</A> * attach to a subsystem and its devices. Unlike drivers, they do not<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#340" name=340>340</A> * exclusively claim or control devices. Interfaces usually represent<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#341" name=341>341</A> * a specific functionality of a <A href="http://172.29.26.110:8080/source/s?path=subsystem/">subsystem</A>/<A href="http://172.29.26.110:8080/source/s?path=subsystem/class">class</A> of devices.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#342" name=342>342</A> */</SPAN><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#343" name=343>343</A><B>struct</B> <A class=xs name=subsys_interface></A><A class=xs href="http://172.29.26.110:8080/source/s?refs=subsys_interface&amp;project=Linux-v4.8">subsys_interface</A> {<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#344" name=344>344</A> <B>const</B> <B>char</B> *<A class=xmb name=name></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=name&amp;project=Linux-v4.8">name</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#345" name=345>345</A> <B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#bus_type">bus_type</A> *<A class=xmb name=subsys></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=subsys&amp;project=Linux-v4.8">subsys</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#346" name=346>346</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=list_head&amp;project=Linux-v4.8">list_head</A> <A class=xmb name=node></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=node&amp;project=Linux-v4.8">node</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#347" name=347>347</A> <B>int</B> (*<A class=xmb name=add_dev></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=add_dev&amp;project=Linux-v4.8">add_dev</A>)(<B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#device">device</A> *<A href="http://172.29.26.110:8080/source/s?defs=dev&amp;project=Linux-v4.8">dev</A>, <B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#subsys_interface">subsys_interface</A> *<A href="http://172.29.26.110:8080/source/s?defs=sif&amp;project=Linux-v4.8">sif</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#348" name=348>348</A> <B>void</B> (*<A class=xmb name=remove_dev></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=remove_dev&amp;project=Linux-v4.8">remove_dev</A>)(<B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#device">device</A> *<A href="http://172.29.26.110:8080/source/s?defs=dev&amp;project=Linux-v4.8">dev</A>, <B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#subsys_interface">subsys_interface</A> *<A href="http://172.29.26.110:8080/source/s?defs=sif&amp;project=Linux-v4.8">sif</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/include/linux/device.h#349" name=349>349</A>};</P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#3" name=3>3</A><SPAN class=c>/**<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#4" name=4>4</A> * struct subsys_private - structure to hold the private to the driver core portions of the <A href="http://172.29.26.110:8080/source/s?path=bus_type/">bus_type</A>/<A href="http://172.29.26.110:8080/source/s?path=bus_type/class">class</A> structure.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#5" name=5>5</A> *<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#6" name=6>6</A> * @subsys - the struct kset that defines this subsystem<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#7" name=7>7</A> * @devices_kset - the subsystem's 'devices' directory<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#8" name=8>8</A> * @interfaces - list of subsystem interfaces associated<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#9" name=9>9</A> * @mutex - protect the devices, and interfaces lists.<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#10" name=10>10</A> *<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#11" name=11>11</A> * @drivers_kset - the list of drivers associated<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#12" name=12>12</A> * @klist_devices - the klist to iterate over the @devices_kset<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#13" name=13>13</A> * @klist_drivers - the klist to iterate over the @drivers_kset<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#14" name=14>14</A> * @bus_notifier - the bus notifier list for anything that cares about things<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#15" name=15>15</A> *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on this bus.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#16" name=16>16</A> * @bus - pointer back to the struct bus_type that this structure is associated<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#17" name=17>17</A> *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#18" name=18>18</A> *<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#19" name=19>19</A> * @glue_dirs - "glue" directory to put in-between the parent device to<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#20" name=20>20</A> *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; avoid namespace conflicts<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#21" name=21>21</A> * @class - pointer back to the struct class that this structure is associated<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#22" name=22>22</A> *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; with.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#23" name=23>23</A> *<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#24" name=24>24</A> * This structure is the one that is the actual kobject allowing struct<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#25" name=25>25</A> * <A href="http://172.29.26.110:8080/source/s?path=bus_type/">bus_type</A>/<A href="http://172.29.26.110:8080/source/s?path=bus_type/class">class</A> to be statically allocated safely.&nbsp; Nothing outside of the<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#26" name=26>26</A> * driver core should ever touch these fields.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#27" name=27>27</A> */</SPAN><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#28" name=28>28</A><B>struct</B> <A class=xs name=subsys_private></A><A class=xs href="http://172.29.26.110:8080/source/s?refs=subsys_private&amp;project=Linux-v4.8">subsys_private</A> {<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#29" name=29>29</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.8">kset</A> <A class=xmb name=subsys></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=subsys&amp;project=Linux-v4.8">subsys</A>;<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#30" name=30>30</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.8">kset</A> *<A class=xmb name=devices_kset></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=devices_kset&amp;project=Linux-v4.8">devices_kset</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#31" name=31>31</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=list_head&amp;project=Linux-v4.8">list_head</A> <A class=xmb name=interfaces></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=interfaces&amp;project=Linux-v4.8">interfaces</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#32" name=32>32</A> <B>struct</B> <A class=xmb name=mutex></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=mutex&amp;project=Linux-v4.8">mutex</A> <A class=xmb name=mutex></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=mutex&amp;project=Linux-v4.8">mutex</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#33" name=33>33</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#34" name=34>34</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.8">kset</A> *<A class=xmb name=drivers_kset></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=drivers_kset&amp;project=Linux-v4.8">drivers_kset</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#35" name=35>35</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist&amp;project=Linux-v4.8">klist</A> <A class=xmb name=klist_devices></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=klist_devices&amp;project=Linux-v4.8">klist_devices</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#36" name=36>36</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist&amp;project=Linux-v4.8">klist</A> <A class=xmb name=klist_drivers></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=klist_drivers&amp;project=Linux-v4.8">klist_drivers</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#37" name=37>37</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=blocking_notifier_head&amp;project=Linux-v4.8">blocking_notifier_head</A> <A class=xmb name=bus_notifier></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=bus_notifier&amp;project=Linux-v4.8">bus_notifier</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#38" name=38>38</A> <B>unsigned</B> <B>int</B> <A class=xmb name=drivers_autoprobe></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=drivers_autoprobe&amp;project=Linux-v4.8">drivers_autoprobe</A>:<SPAN class=n>1</SPAN>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#39" name=39>39</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=bus_type&amp;project=Linux-v4.8">bus_type</A> *<A class=xmb name=bus></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=bus&amp;project=Linux-v4.8">bus</A>;<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#40" name=40>40</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#41" name=41>41</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.8">kset</A> <A class=xmb name=glue_dirs></A><A class=xmb href="http://172.29.26.110:8080/source/s?refs=glue_dirs&amp;project=Linux-v4.8">glue_dirs</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#42" name=42>42</A> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=class&amp;project=Linux-v4.8">class</A> *<A href="http://172.29.26.110:8080/source/s?defs=class&amp;project=Linux-v4.8">class</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.8/drivers/base/base.h#43" name=43>43</A>};