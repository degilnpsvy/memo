#ifndef CONFIG_USER_ONLY<BR>/* Execute the code without caching the generated code. An interpreter<BR>&nbsp;&nbsp; could be used if available. */<BR>static void cpu_exec_nocache(CPUState *cpu, int max_cycles,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TranslationBlock *orig_tb, bool ignore_icount)<BR>{<BR>&nbsp;&nbsp;&nbsp; TranslationBlock *tb;<BR>&nbsp;&nbsp;&nbsp; bool old_tb_flushed;</P>
<P>&nbsp;&nbsp;&nbsp; /* Should never happen.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We only end up here when an existing TB is too long.&nbsp; */<BR>&nbsp;&nbsp;&nbsp; if (max_cycles &gt; CF_COUNT_MASK)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max_cycles = CF_COUNT_MASK;</P>
<P>&nbsp;&nbsp;&nbsp; old_tb_flushed = cpu-&gt;tb_flushed;<BR>&nbsp;&nbsp;&nbsp; cpu-&gt;tb_flushed = false;<BR>&nbsp;&nbsp;&nbsp; tb = tb_gen_code(cpu, orig_tb-&gt;pc, orig_tb-&gt;cs_base, orig_tb-&gt;flags,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; max_cycles | CF_NOCACHE<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | (ignore_icount ? CF_IGNORE_ICOUNT : 0));<BR>&nbsp;&nbsp;&nbsp; tb-&gt;orig_tb = cpu-&gt;tb_flushed ? NULL : orig_tb;<BR>&nbsp;&nbsp;&nbsp; cpu-&gt;tb_flushed |= old_tb_flushed;<BR>&nbsp;&nbsp;&nbsp; /* execute the generated code */<BR>&nbsp;&nbsp;&nbsp; trace_exec_tb_nocache(tb, tb-&gt;pc);<BR>&nbsp;&nbsp;&nbsp; cpu_tb_exec(cpu, tb);<BR>&nbsp;&nbsp;&nbsp; tb_phys_invalidate(tb, -1);<BR>&nbsp;&nbsp;&nbsp; tb_free(tb);<BR>}<BR>#endif