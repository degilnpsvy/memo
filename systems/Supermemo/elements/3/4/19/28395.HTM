<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both">Interface properties</H2></DIV></DIV></DIV>
<P>GObject interfaces can also have properties. Declaration of the interface properties is similar to declaring the properties of ordinary GObject types as explained in <A title="Object properties" class=xref href="https://developer.gnome.org/gobject/stable/gobject-properties.html">the section called &#8220;Object properties&#8221;</A>, except that <CODE class=function><A title=g_object_interface_install_property&nbsp;() class=link href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-interface-install-property">g_object_interface_install_property</A></CODE> is used to declare the properties instead of <CODE class=function><A title=g_object_class_install_property&nbsp;() class=link href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-class-install-property">g_object_class_install_property</A></CODE>. </P>
<P>To include a property named 'autosave-frequency' of type <SPAN class=type>gdouble</SPAN> in the <SPAN class=type>ViewerEditable</SPAN> interface example code above, we only need to add one call in <CODE class=function>viewer_editable_default_init</CODE> as shown below: </P>
<DIV class=informalexample>
<TABLE class=listing_frame cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD class=listing_code><PRE class=programlisting><SPAN class="gtkdoc kwb">static void</SPAN>
<SPAN class=function>viewer_editable_default_init</SPAN> <SPAN class="gtkdoc opt">(</SPAN>ViewerEditableInterface <SPAN class="gtkdoc opt">*</SPAN>iface<SPAN class="gtkdoc opt">)</SPAN>
<SPAN class="gtkdoc opt">{</SPAN>
  <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-interface-install-property">g_object_interface_install_property</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>iface<SPAN class="gtkdoc opt">,</SPAN>
                                       <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-Standard-Parameter-and-Value-Types.html#g-param-spec-double">g_param_spec_double</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"autosave-frequency"</SPAN><SPAN class="gtkdoc opt">,</SPAN>
                                                            <SPAN class=string>"Autosave frequency"</SPAN><SPAN class="gtkdoc opt">,</SPAN>
                                                            <SPAN class=string>"Frequency (in per-seconds) to autosave backups of the editable content at. "</SPAN>
                                                            <SPAN class=string>"Or zero to disable autosaves."</SPAN><SPAN class="gtkdoc opt">,</SPAN>
                                                            <SPAN class=number>0.0</SPAN><SPAN class="gtkdoc opt">,</SPAN>  <SPAN class=comment>/* minimum */</SPAN>
                                                            G_MAXDOUBLE<SPAN class="gtkdoc opt">,</SPAN>  <SPAN class=comment>/* maximum */</SPAN>
                                                            <SPAN class=number>0.0</SPAN><SPAN class="gtkdoc opt">,</SPAN>  <SPAN class=comment>/* default */</SPAN>
                                                            G_PARAM_READWRITE<SPAN class="gtkdoc opt">));</SPAN>
<SPAN class="gtkdoc opt">}</SPAN></PRE></TD></TR></TBODY></TABLE></DIV>
<P></P>
<P>One point worth noting is that the declared property wasn't assigned an integer ID. The reason being that integer IDs of properties are used only inside the <CODE class=function>get_property</CODE> and <CODE class=function>set_property</CODE> virtual methods. Since interfaces declare but do not <SPAN class=emphasis><EM>implement</EM></SPAN> properties, there is no need to assign integer IDs to them. </P>
<P>An implementation declares and defines its properties in the usual way as explained in <A title="Object properties" class=xref href="https://developer.gnome.org/gobject/stable/gobject-properties.html">the section called &#8220;Object properties&#8221;</A>, except for one small change: it can declare the properties of the interface it implements using <CODE class=function><A title=g_object_class_override_property&nbsp;() class=link href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-class-override-property">g_object_class_override_property</A></CODE> instead of <CODE class=function><A title=g_object_class_install_property&nbsp;() class=link href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-class-install-property">g_object_class_install_property</A></CODE>. The following code snippet shows the modifications needed in the <SPAN class=type>ViewerFile</SPAN> declaration and implementation above: </P>
<DIV class=informalexample>
<TABLE class=listing_frame cellSpacing=0 cellPadding=0 border=0>
<TBODY>
<TR>
<TD class=listing_code><PRE class=programlisting><SPAN class="gtkdoc kwb">struct</SPAN> _ViewerFile
<SPAN class="gtkdoc opt">{</SPAN>
  GObject parent_instance<SPAN class="gtkdoc opt">;</SPAN>

  gdouble autosave_frequency<SPAN class="gtkdoc opt">;</SPAN>
<SPAN class="gtkdoc opt">};</SPAN>

<SPAN class="gtkdoc kwb">enum</SPAN>
<SPAN class="gtkdoc opt">{</SPAN>
  PROP_AUTOSAVE_FREQUENCY <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=number>1</SPAN><SPAN class="gtkdoc opt">,</SPAN>
  N_PROPERTIES
<SPAN class="gtkdoc opt">};</SPAN>

<SPAN class="gtkdoc kwb">static void</SPAN>
<SPAN class=function>viewer_file_set_property</SPAN> <SPAN class="gtkdoc opt">(</SPAN>GObject      <SPAN class="gtkdoc opt">*</SPAN>object<SPAN class="gtkdoc opt">,</SPAN>
                          guint         prop_id<SPAN class="gtkdoc opt">,</SPAN>
                          <SPAN class="gtkdoc kwb">const</SPAN> GValue <SPAN class="gtkdoc opt">*</SPAN>value<SPAN class="gtkdoc opt">,</SPAN>
                          GParamSpec   <SPAN class="gtkdoc opt">*</SPAN>pspec<SPAN class="gtkdoc opt">)</SPAN>
<SPAN class="gtkdoc opt">{</SPAN>
  ViewerFile <SPAN class="gtkdoc opt">*</SPAN>file <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=function>VIEWER_FILE</SPAN> <SPAN class="gtkdoc opt">(</SPAN>object<SPAN class="gtkdoc opt">);</SPAN>

  <SPAN class=keyword>switch</SPAN> <SPAN class="gtkdoc opt">(</SPAN>prop_id<SPAN class="gtkdoc opt">)</SPAN>
    <SPAN class="gtkdoc opt">{</SPAN>
    <SPAN class=keyword>case</SPAN> PROP_AUTOSAVE_FREQUENCY<SPAN class="gtkdoc opt">:</SPAN>
      file<SPAN class="gtkdoc opt">-&gt;</SPAN>autosave_frequency <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-Standard-Parameter-and-Value-Types.html#g-value-get-double">g_value_get_double</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>value<SPAN class="gtkdoc opt">);</SPAN>
      <SPAN class=keyword>break</SPAN><SPAN class="gtkdoc opt">;</SPAN>

    <SPAN class=keyword>default</SPAN><SPAN class="gtkdoc opt">:</SPAN>
      <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#G-OBJECT-WARN-INVALID-PROPERTY-ID:CAPS">G_OBJECT_WARN_INVALID_PROPERTY_ID</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>object<SPAN class="gtkdoc opt">,</SPAN> prop_id<SPAN class="gtkdoc opt">,</SPAN> pspec<SPAN class="gtkdoc opt">);</SPAN>
      <SPAN class=keyword>break</SPAN><SPAN class="gtkdoc opt">;</SPAN>
    <SPAN class="gtkdoc opt">}</SPAN>
<SPAN class="gtkdoc opt">}</SPAN>

<SPAN class="gtkdoc kwb">static void</SPAN>
<SPAN class=function>viewer_file_get_property</SPAN> <SPAN class="gtkdoc opt">(</SPAN>GObject    <SPAN class="gtkdoc opt">*</SPAN>object<SPAN class="gtkdoc opt">,</SPAN>
                          guint       prop_id<SPAN class="gtkdoc opt">,</SPAN>
                          GValue     <SPAN class="gtkdoc opt">*</SPAN>value<SPAN class="gtkdoc opt">,</SPAN>
                          GParamSpec <SPAN class="gtkdoc opt">*</SPAN>pspec<SPAN class="gtkdoc opt">)</SPAN>
<SPAN class="gtkdoc opt">{</SPAN>
  ViewerFile <SPAN class="gtkdoc opt">*</SPAN>file <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=function>VIEWER_FILE</SPAN> <SPAN class="gtkdoc opt">(</SPAN>object<SPAN class="gtkdoc opt">);</SPAN>

  <SPAN class=keyword>switch</SPAN> <SPAN class="gtkdoc opt">(</SPAN>prop_id<SPAN class="gtkdoc opt">)</SPAN>
    <SPAN class="gtkdoc opt">{</SPAN>
    <SPAN class=keyword>case</SPAN> PROP_AUTOSAVE_FREQUENCY<SPAN class="gtkdoc opt">:</SPAN>
      <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-Standard-Parameter-and-Value-Types.html#g-value-set-double">g_value_set_double</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>value<SPAN class="gtkdoc opt">,</SPAN> file<SPAN class="gtkdoc opt">-&gt;</SPAN>autosave_frequency<SPAN class="gtkdoc opt">);</SPAN>
      <SPAN class=keyword>break</SPAN><SPAN class="gtkdoc opt">;</SPAN>

    <SPAN class=keyword>default</SPAN><SPAN class="gtkdoc opt">:</SPAN>
      <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#G-OBJECT-WARN-INVALID-PROPERTY-ID:CAPS">G_OBJECT_WARN_INVALID_PROPERTY_ID</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>object<SPAN class="gtkdoc opt">,</SPAN> prop_id<SPAN class="gtkdoc opt">,</SPAN> pspec<SPAN class="gtkdoc opt">);</SPAN>
      <SPAN class=keyword>break</SPAN><SPAN class="gtkdoc opt">;</SPAN>
    <SPAN class="gtkdoc opt">}</SPAN>
<SPAN class="gtkdoc opt">}</SPAN>

<SPAN class="gtkdoc kwb">static void</SPAN>
<SPAN class=function>viewer_file_class_init</SPAN> <SPAN class="gtkdoc opt">(</SPAN>ViewerFileClass <SPAN class="gtkdoc opt">*</SPAN>klass<SPAN class="gtkdoc opt">)</SPAN>
<SPAN class="gtkdoc opt">{</SPAN>
  GObjectClass <SPAN class="gtkdoc opt">*</SPAN>object_class <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#G-OBJECT-CLASS:CAPS">G_OBJECT_CLASS</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>klass<SPAN class="gtkdoc opt">);</SPAN>

  object_class<SPAN class="gtkdoc opt">-&gt;</SPAN>set_property <SPAN class="gtkdoc opt">=</SPAN> viewer_file_set_property<SPAN class="gtkdoc opt">;</SPAN>
  object_class<SPAN class="gtkdoc opt">-&gt;</SPAN>get_property <SPAN class="gtkdoc opt">=</SPAN> viewer_file_get_property<SPAN class="gtkdoc opt">;</SPAN>

  <SPAN class=function><A href="https://developer.gnome.org/gobject/stable/gobject-The-Base-Object-Type.html#g-object-class-override-property">g_object_class_override_property</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>object_class<SPAN class="gtkdoc opt">,</SPAN> PROP_AUTOSAVE_FREQUENCY<SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"autosave-frequency"</SPAN><SPAN class="gtkdoc opt">);</SPAN>
<SPAN class="gtkdoc opt">}</SPAN></PRE></TD></TR></TBODY></TABLE></DIV>