void <FONT class=clozed>tb_free</FONT>(TranslationBlock *tb)<BR>{<BR>&nbsp;&nbsp;&nbsp; /* In practice this is mostly used for single use temporary TB<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ignore the hard cases and just back up if this TB happens to<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; be the last one generated.&nbsp; */<BR>&nbsp;&nbsp;&nbsp; if (tcg_ctx.tb_ctx.nb_tbs &gt; 0 &amp;&amp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tb == &amp;tcg_ctx.tb_ctx.tbs[tcg_ctx.tb_ctx.nb_tbs - 1]) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_ctx.<SPAN class=cloze>[...]</SPAN> = tb-&gt;tc_ptr;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_ctx.tb_ctx.nb_tbs--;<BR>&nbsp;&nbsp;&nbsp; }<BR>}