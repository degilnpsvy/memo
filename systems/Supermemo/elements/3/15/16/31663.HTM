B5.18 Shareability domains</P>
<P>RJMHL There are two conceptual Shareability domains:<BR>&#8226; The Inner Shareability domain.<BR>&#8226; The Outer Shareability domain.</P>
<P>IXQWM The following diagram shows the Shareability domains:</P>
<P>RMCPS All observers in an Inner Shareability domain are data coherent for data accesses to memory that has the Inner-shareable Shareability attribute.</P>
<P>RSVCR All observers in an Outer Shareability domain are data coherent for data accesses to memory that has the Outer-shareable Shareability attribute.</P>
<P>RJMFS Each observer is a member of only a single Inner Shareability domain.</P>
<P>RBNWH Each observer is a member of only a single Outer Shareability domain.</P>
<P>RFVBG All members of the same Inner Shareability domain are always members of the same Outer Shareability domain.</P>
<P>RWFMV Accesses to a shareable memory location are coherent within the Shareability domain of that location.</P>
<P>IDHJF An Inner Shareability domain is a subset of an Outer Shareability domain, although it is not required to be a proper subset.</P>
<P>RXHJL Hardware is required to ensure coherency and ordering within the Shareability domain if all of the following apply:<BR>&#8226; Before writing to a location not using the Write-Back attribute, a location in the caches that might have been written with the Write-Back attribute by an agent has been invalidated or cleaned.<BR>&#8226; After writing the location with the Write-Back attribute, the location has been cleaned from the caches to make the write visible to external memory.<BR>&#8226; Before reading the location with a cacheable attribute, the location has been invalidated from the caches, to ensure that any value that is held in the caches reflects the last value made visible in external memory.<BR>&#8226; A DMB barrier instruction has been executed, with a scope that applies to the common Shareability of the accesses, between any accesses to the same memory location that use different attributes.</P>
<P>See also:<BR>&#8226; Observability of memory accesses on page B5-125.<BR>&#8226; Shareability attributes on page B5-140.