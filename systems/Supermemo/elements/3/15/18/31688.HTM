B6.4 Exclusive access instructions and the monitors</P>
<P>RVXWN The Store-Exclusive instruction defines the register to which the status value of the monitors is returned.</P>
<P>RDTRN A Store-Exclusive instruction performs a conditional store to memory that depends on the state of the local monitor monitor:<BR>If the local monitor is in the Exclusive Access state<BR>&nbsp; &#8226; If the address of the Store-Exclusive instruction is the same as the address that has been marked in the monitor by an earlier Load-Exclusive instruction, then the store occurs. Otherwise, it is IMPLEMENTATION DEFINED whether the store occurs.<BR>&nbsp; &#8226; A status value is returned to a register:<BR>&nbsp;&nbsp;&nbsp; &#8213; If the store took place the status value is 0.<BR>&nbsp;&nbsp;&nbsp; &#8213; Otherwise, the status value is 1.<BR>&nbsp; &#8226; The local monitor of the executing PE transitions to the Open Access state.<BR>If the local monitor is in the Open Access state<BR>&nbsp; &#8226; No store takes place.<BR>&nbsp; &#8226; A status value of 1 is returned to a register.<BR>&nbsp; &#8226; The local monitor remains in the Open Access state.</P>
<P>RDFNB A Store-Exclusive instruction performs a store to Shareable memory that depends on the state of both the local monitor and the global monitor:<BR>If both the local monitor and the global monitor are in the Exclusive Access state<BR>&nbsp; &#8226; If the address of the Store-Exclusive instruction is the same as the address that has been marked in the monitor by an earlier Load-Exclusive instruction, then the store occurs. Otherwise, it is IMPLEMENTATION DEFINED whether the store occurs.<BR>&nbsp; &#8226; A status value is returned to a register:<BR>&nbsp;&nbsp;&nbsp; &#8213; If the store took place the status value is 0.<BR>&nbsp;&nbsp;&nbsp; &#8213; Otherwise, the status value is 1.<BR>&nbsp; &#8226; The local monitor of the executing PE transitions to the Open Access state.<BR>If either the local monitor or the global monitor is in the Open Access state<BR>&nbsp; &#8226; No store takes place.<BR>&nbsp; &#8226; A status value of 1 is returned to a register.<BR>&nbsp; &#8226; The local monitor of the executing PE transitions to the Open Access state.<BR>&nbsp; &#8226; The global monitor that is associated with the executing PE transitions to the Open Access state.</P>
<P>See also:<BR>&#8226; The local monitors on page B6-161.<BR>&#8226; The global monitor on page B6-162.