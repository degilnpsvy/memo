static inline void *tcg_malloc(int size)<BR>{<BR>&nbsp;&nbsp;&nbsp; TCGContext *s = &amp;tcg_ctx;<BR>&nbsp;&nbsp;&nbsp; uint8_t *ptr, *ptr_end;<BR>&nbsp;&nbsp;&nbsp; size = <FONT class=clozed>(size + sizeof(long) - 1) &amp; ~(sizeof(long) - 1)</FONT>;<BR>&nbsp;&nbsp;&nbsp; ptr = s-&gt;pool_cur;<BR>&nbsp;&nbsp;&nbsp; ptr_end = ptr + size;<BR>&nbsp;&nbsp;&nbsp; if (unlikely(<FONT class=clozed>ptr_end &gt; s-&gt;pool_end</FONT>)) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return tcg_malloc_internal(&amp;tcg_ctx, size);<BR>&nbsp;&nbsp;&nbsp; } else {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s-&gt;pool_cur = ptr_end;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return ptr;<BR>&nbsp;&nbsp;&nbsp; }<BR>} 
<P></P>
<P>&nbsp;</P>
<P>In tcg/tcg.h