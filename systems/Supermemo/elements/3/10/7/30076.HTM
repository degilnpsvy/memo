klist_del</P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#225" name=225>225</A><SPAN class=c>/**
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#226" name=226>226</A> * klist_del - Decrement the reference count of node and try to remove.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#227" name=227>227</A> * @n: node we're deleting.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#228" name=228>228</A> */</SPAN><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#229" name=229>229</A><B>void</B> <A class=xf name=klist_del></A><A class=xf href="http://172.29.26.110:8080/source/s?refs=klist_del&amp;project=Linux-v4.7">klist_del</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist_node&amp;project=Linux-v4.7">klist_node</A> *n)<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#230" name=230>230</A>{<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#231" name=231>231</A>	<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#klist_put">klist_put</A>(n, <B>true</B>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#232" name=232>232</A>}<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#233" name=233>233</A><A href="http://172.29.26.110:8080/source/s?defs=EXPORT_SYMBOL_GPL&amp;project=Linux-v4.7">EXPORT_SYMBOL_GPL</A>(<A class=xv name=klist_del></A><A class=xv href="http://172.29.26.110:8080/source/s?refs=klist_del&amp;project=Linux-v4.7">klist_del</A>);</P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#205" name=205>205</A><B>static</B> <B>int</B> <A class=xf name=klist_dec_and_del></A><A class=xf href="http://172.29.26.110:8080/source/s?refs=klist_dec_and_del&amp;project=Linux-v4.7">klist_dec_and_del</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist_node&amp;project=Linux-v4.7">klist_node</A> *n)<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#206" name=206>206</A>{<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#207" name=207>207</A>	<B>return</B> <A href="http://172.29.26.110:8080/source/s?defs=kref_put&amp;project=Linux-v4.7">kref_put</A>(&amp;n-&gt;<A href="http://172.29.26.110:8080/source/s?defs=n_ref&amp;project=Linux-v4.7">n_ref</A>, <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#klist_release">klist_release</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#208" name=208>208</A>}<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#209" name=209>209</A><BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#210" name=210>210</A><B>static</B> <B>void</B> <A class=xf name=klist_put></A><A class=xf href="http://172.29.26.110:8080/source/s?refs=klist_put&amp;project=Linux-v4.7">klist_put</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist_node&amp;project=Linux-v4.7">klist_node</A> *n, <B>bool</B> <A class=xa name=kill></A><A class=xa href="http://172.29.26.110:8080/source/s?refs=kill&amp;project=Linux-v4.7">kill</A>)<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#211" name=211>211</A>{<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#212" name=212>212</A>	<B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#klist">klist</A> *k = <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#knode_klist">knode_klist</A>(n);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#213" name=213>213</A>	<B>void</B> (*<A href="http://172.29.26.110:8080/source/s?defs=put&amp;project=Linux-v4.7">put</A>)(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist_node&amp;project=Linux-v4.7">klist_node</A> *) = k-&gt;<A href="http://172.29.26.110:8080/source/s?defs=put&amp;project=Linux-v4.7">put</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#214" name=214>214</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#215" name=215>215</A>	<A href="http://172.29.26.110:8080/source/s?defs=spin_lock&amp;project=Linux-v4.7">spin_lock</A>(&amp;k-&gt;<A href="http://172.29.26.110:8080/source/s?defs=k_lock&amp;project=Linux-v4.7">k_lock</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#216" name=216>216</A>	<B>if</B> (<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#kill">kill</A>)<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#217" name=217>217</A>		<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#knode_kill">knode_kill</A>(n);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#218" name=218>218</A>	<B>if</B> (!<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#klist_dec_and_del">klist_dec_and_del</A>(n))<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#219" name=219>219</A>		<A href="http://172.29.26.110:8080/source/s?defs=put&amp;project=Linux-v4.7">put</A> = <A href="http://172.29.26.110:8080/source/s?defs=NULL&amp;project=Linux-v4.7">NULL</A>;<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#220" name=220>220</A>	<A href="http://172.29.26.110:8080/source/s?defs=spin_unlock&amp;project=Linux-v4.7">spin_unlock</A>(&amp;k-&gt;<A href="http://172.29.26.110:8080/source/s?defs=k_lock&amp;project=Linux-v4.7">k_lock</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#221" name=221>221</A>	<B>if</B> (<A href="http://172.29.26.110:8080/source/s?defs=put&amp;project=Linux-v4.7">put</A>)<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#222" name=222>222</A>		<A href="http://172.29.26.110:8080/source/s?defs=put&amp;project=Linux-v4.7">put</A>(n);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#223" name=223>223</A>}