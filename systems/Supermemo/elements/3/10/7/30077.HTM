klist_remove</P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#235" name=235>235</A><SPAN class=c>/**
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#236" name=236>236</A> * klist_remove - Decrement the refcount of node and wait for it to go away.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#237" name=237>237</A> * @n: node we're removing.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#238" name=238>238</A> */</SPAN><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#239" name=239>239</A><B>void</B> <A class=xf name=klist_remove></A><A class=xf href="http://172.29.26.110:8080/source/s?refs=klist_remove&amp;project=Linux-v4.7">klist_remove</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=klist_node&amp;project=Linux-v4.7">klist_node</A> *n)<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#240" name=240>240</A>{<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#241" name=241>241</A>	<B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#klist_waiter">klist_waiter</A> <A class=xl name=waiter></A><A class=xl href="http://172.29.26.110:8080/source/s?refs=waiter&amp;project=Linux-v4.7">waiter</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#242" name=242>242</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#243" name=243>243</A>	<A href="http://172.29.26.110:8080/source/s?defs=waiter&amp;project=Linux-v4.7">waiter</A>.<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#node">node</A> = n;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#244" name=244>244</A>	<A href="http://172.29.26.110:8080/source/s?defs=waiter&amp;project=Linux-v4.7">waiter</A>.<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#process">process</A> = <A href="http://172.29.26.110:8080/source/s?defs=current&amp;project=Linux-v4.7">current</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#245" name=245>245</A>	<A href="http://172.29.26.110:8080/source/s?defs=waiter&amp;project=Linux-v4.7">waiter</A>.<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#woken">woken</A> = 0;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#246" name=246>246</A>	<A href="http://172.29.26.110:8080/source/s?defs=spin_lock&amp;project=Linux-v4.7">spin_lock</A>(&amp;<A href="http://172.29.26.110:8080/source/s?defs=klist_remove_lock&amp;project=Linux-v4.7">klist_remove_lock</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#247" name=247>247</A>	<A href="http://172.29.26.110:8080/source/s?defs=list_add&amp;project=Linux-v4.7">list_add</A>(&amp;<A href="http://172.29.26.110:8080/source/s?defs=waiter&amp;project=Linux-v4.7">waiter</A>.<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#list">list</A>, &amp;<A href="http://172.29.26.110:8080/source/s?defs=klist_remove_waiters&amp;project=Linux-v4.7">klist_remove_waiters</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#248" name=248>248</A>	<A href="http://172.29.26.110:8080/source/s?defs=spin_unlock&amp;project=Linux-v4.7">spin_unlock</A>(&amp;<A href="http://172.29.26.110:8080/source/s?defs=klist_remove_lock&amp;project=Linux-v4.7">klist_remove_lock</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#249" name=249>249</A><BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#250" name=250>250</A>	<A href="http://172.29.26.110:8080/source/s?defs=klist_del&amp;project=Linux-v4.7">klist_del</A>(n);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#251" name=251>251</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#252" name=252>252</A>	<B>for</B> (;;) {<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#253" name=253>253</A>		<A href="http://172.29.26.110:8080/source/s?defs=set_current_state&amp;project=Linux-v4.7">set_current_state</A>(<A href="http://172.29.26.110:8080/source/s?defs=TASK_UNINTERRUPTIBLE&amp;project=Linux-v4.7">TASK_UNINTERRUPTIBLE</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#254" name=254>254</A>		<B>if</B> (<A href="http://172.29.26.110:8080/source/s?defs=waiter&amp;project=Linux-v4.7">waiter</A>.<A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#woken">woken</A>)<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#255" name=255>255</A>			<B>break</B>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#256" name=256>256</A>		<A href="http://172.29.26.110:8080/source/s?defs=schedule&amp;project=Linux-v4.7">schedule</A>();<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#257" name=257>257</A>	}<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#258" name=258>258</A>	<A href="http://172.29.26.110:8080/source/s?defs=__set_current_state&amp;project=Linux-v4.7">__set_current_state</A>(<A href="http://172.29.26.110:8080/source/s?defs=TASK_RUNNING&amp;project=Linux-v4.7">TASK_RUNNING</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#259" name=259>259</A>}<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/lib/klist.c#260" name=260>260</A><A href="http://172.29.26.110:8080/source/s?defs=EXPORT_SYMBOL_GPL&amp;project=Linux-v4.7">EXPORT_SYMBOL_GPL</A>(<A class=xv name=klist_remove></A><A class=xv href="http://172.29.26.110:8080/source/s?refs=klist_remove&amp;project=Linux-v4.7">klist_remove</A>);