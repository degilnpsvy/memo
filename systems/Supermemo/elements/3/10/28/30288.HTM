/* Generate an old-style exception return. Marks pc as dead. */<BR>static void gen_exception_return(DisasContext *s, TCGv_i32 pc)<BR>{<BR>&nbsp;&nbsp;&nbsp; TCGv_i32 tmp;<BR>&nbsp;&nbsp;&nbsp; store_reg(s, 15, pc);<BR>&nbsp;&nbsp;&nbsp; tmp = load_cpu_field(spsr);<BR>&nbsp;&nbsp;&nbsp; gen_helper_cpsr_write_eret(cpu_env, tmp);<BR>&nbsp;&nbsp;&nbsp; tcg_temp_free_i32(tmp);<BR>&nbsp;&nbsp;&nbsp; s-&gt;is_jmp = DISAS_JUMP;<BR>}</P>
<P>/* Generate a v6 exception return.&nbsp; Marks both values as dead.&nbsp; */<BR>static void gen_rfe(DisasContext *s, TCGv_i32 pc, TCGv_i32 cpsr)<BR>{<BR>&nbsp;&nbsp;&nbsp; gen_helper_cpsr_write_eret(cpu_env, cpsr);<BR>&nbsp;&nbsp;&nbsp; tcg_temp_free_i32(cpsr);<BR>&nbsp;&nbsp;&nbsp; store_reg(s, 15, pc);<BR>&nbsp;&nbsp;&nbsp; s-&gt;is_jmp = DISAS_JUMP;<BR>}