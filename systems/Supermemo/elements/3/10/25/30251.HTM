void tcg_gen_concat_i32_i64(TCGv_i64 dest, TCGv_i32 low, TCGv_i32 high)<BR>{<BR>&nbsp;&nbsp;&nbsp; TCGv_i64 tmp;
<P></P>
<P>&nbsp;&nbsp;&nbsp; if (TCG_TARGET_REG_BITS == 32) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_gen_mov_i32(TCGV_LOW(dest), low);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_gen_mov_i32(TCGV_HIGH(dest), high);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return;<BR>&nbsp;&nbsp;&nbsp; }</P>
<P>&nbsp;&nbsp;&nbsp; tmp = tcg_temp_new_i64();<BR>&nbsp;&nbsp;&nbsp; /* These extensions are only needed for type correctness.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; We may be able to do better given target specific information.&nbsp; */<BR>&nbsp;&nbsp;&nbsp; tcg_gen_extu_i32_i64(tmp, high);<BR>&nbsp;&nbsp;&nbsp; tcg_gen_extu_i32_i64(dest, low);<BR>&nbsp;&nbsp;&nbsp; /* If deposit is available, use it.&nbsp; Otherwise use the extra<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; knowledge that we have of the zero-extensions above.&nbsp; */<BR>&nbsp;&nbsp;&nbsp; if (TCG_TARGET_HAS_deposit_i64 &amp;&amp; TCG_TARGET_deposit_i64_valid(32, 32)) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_gen_deposit_i64(dest, dest, tmp, 32, 32);<BR>&nbsp;&nbsp;&nbsp; } else {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_gen_shli_i64(tmp, tmp, 32);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; tcg_gen_or_i64(dest, dest, tmp);<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; tcg_temp_free_i64(tmp);<BR>}