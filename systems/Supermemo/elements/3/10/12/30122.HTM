<STRONG>Kset&#30340;&#21021;&#22987;&#21270;&#12289;&#27880;&#20876;</STRONG> 
<P></P>
<P>Kset&#26159;&#19968;&#20010;&#29305;&#27530;&#30340;kobject&#65292;&#22240;&#27492;&#20854;&#21021;&#22987;&#21270;&#12289;&#27880;&#20876;&#31561;&#25805;&#20316;&#20063;&#20250;&#35843;&#29992;kobject&#30340;&#30456;&#20851;&#25509;&#21475;&#65292;&#38500;&#27492;&#20043;&#22806;&#65292;&#20250;&#26377;&#23427;&#29305;&#26377;&#30340;&#37096;&#20998;&#12290;&#21478;&#22806;&#65292;&#21644;Kobject&#19968;&#26679;&#65292;kset&#30340;&#20869;&#23384;&#20998;&#37197;&#65292;&#21487;&#20197;&#30001;&#19978;&#23618;&#36719;&#20214;&#36890;&#36807;kmalloc&#33258;&#34892;&#20998;&#37197;&#65292;&#20063;&#21487;&#20197;&#30001;Kobject&#27169;&#22359;&#36127;&#36131;&#20998;&#37197;&#65292;&#20855;&#20307;&#22914;&#19979;&#12290; </P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#175" name=175>175</A><B>extern</B> <B>void</B> <A href="http://172.29.26.110:8080/source/s?defs=kset_init&amp;project=Linux-v4.7">kset_init</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A> *<A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#176" name=176>176</A><B>extern</B> <B>int</B> <A href="http://172.29.26.110:8080/source/s?defs=__must_check&amp;project=Linux-v4.7">__must_check</A> <A href="http://172.29.26.110:8080/source/s?defs=kset_register&amp;project=Linux-v4.7">kset_register</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A> *<A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#177" name=177>177</A><B>extern</B> <B>void</B> <A href="http://172.29.26.110:8080/source/s?defs=kset_unregister&amp;project=Linux-v4.7">kset_unregister</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A> *<A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#178" name=178>178</A><B>extern</B> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=kset&amp;project=Linux-v4.7">kset</A> * <A href="http://172.29.26.110:8080/source/s?defs=__must_check&amp;project=Linux-v4.7">__must_check</A> <A href="http://172.29.26.110:8080/source/s?defs=kset_create_and_add&amp;project=Linux-v4.7">kset_create_and_add</A>(<B>const</B> <B>char</B> *<A href="http://172.29.26.110:8080/source/s?defs=name&amp;project=Linux-v4.7">name</A>,<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#179" name=179>179</A> <B>const</B> <B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#kset_uevent_ops">kset_uevent_ops</A> *u,<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#180" name=180>180</A> <B>struct</B> <A class=d href="http://172.29.26.110:8080/source/xref/Linux-v4.7/include/linux/kobject.h#kobject">kobject</A> *<A href="http://172.29.26.110:8080/source/s?defs=parent_kobj&amp;project=Linux-v4.7">parent_kobj</A>);</P>
<BLOCKQUOTE>
<P>kset_init&#65292;&#35813;&#25509;&#21475;&#29992;&#20110;&#21021;&#22987;&#21270;&#24050;&#20998;&#37197;&#30340;kset&#65292;&#20027;&#35201;&#21253;&#25324;&#35843;&#29992;kobject_init_internal&#21021;&#22987;&#21270;&#20854;kobject&#65292;&#28982;&#21518;&#21021;&#22987;&#21270;kset&#30340;&#38142;&#34920;&#12290;&#38656;&#35201;&#27880;&#24847;&#30340;&#26102;&#65292;&#22914;&#26524;&#20351;&#29992;&#27492;&#25509;&#21475;&#65292;&#19978;&#23618;&#36719;&#20214;&#24517;&#39035;&#25552;&#20379;&#35813;kset&#20013;&#30340;kobject&#30340;ktype&#12290; </P>
<P>kset_register&#65292;&#20808;&#35843;&#29992;kset_init&#65292;&#28982;&#21518;&#35843;&#29992;kobject_add_internal&#23558;&#20854;kobject&#28155;&#21152;&#21040;kernel&#12290; </P>
<P>kset_unregister&#65292;&#30452;&#25509;&#35843;&#29992;kobject_put&#37322;&#25918;&#20854;kobject&#12290;&#24403;&#20854;kobject&#30340;&#24341;&#29992;&#35745;&#25968;&#20026;0&#26102;&#65292;&#21363;&#35843;&#29992;ktype&#30340;release&#25509;&#21475;&#37322;&#25918;kset&#21344;&#29992;&#30340;&#31354;&#38388;&#12290; </P>
<P>kset_create_and_add&#65292;&#20250;&#35843;&#29992;&#20869;&#37096;&#25509;&#21475;kset_create&#21160;&#24577;&#21019;&#24314;&#19968;&#20010;kset&#65292;&#24182;&#35843;&#29992;kset_register&#23558;&#20854;&#27880;&#20876;&#21040;kernel&#12290; </P>
<P>==========================&#20869;&#37096;&#25509;&#21475;====================================== </P>
<P>kset_create&#65292;&#35813;&#25509;&#21475;&#20351;&#29992;kzalloc&#20998;&#37197;&#19968;&#20010;kset&#31354;&#38388;&#65292;&#24182;&#23450;&#20041;&#19968;&#20010;kset_ktype&#31867;&#22411;&#30340;ktype&#65292;&#29992;&#20110;&#37322;&#25918;&#25152;&#26377;&#30001;&#23427;&#20998;&#37197;&#30340;kset&#31354;&#38388;&#12290;</P></BLOCKQUOTE>