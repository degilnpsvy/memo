A3.4 Synchronization and semaphores 
<P></P>
<P><FONT class=extract>Exclusive access instructions support non-blocking shared memory synchronization primitives that allow calculation to be performed on the semaphore between the read and write phases, and scale for multiprocessor system designs.</FONT></P>
<P><FONT class=extract>In ARMv7-M, the synchronization primitives provided are:<BR>&#8226; Load-Exclusives:<BR>&nbsp; &#8213; LDREX, see LDREX on page A7-305<BR>&nbsp; &#8213; LDREXB, see LDREXB on page A7-306<BR>&nbsp; &#8213; LDREXH, see LDREXH on page A7-307<BR>&#8226; Store-Exclusives:<BR>&nbsp; &#8213; STREX, see STREX on page A7-485<BR>&nbsp; &#8213; STREXB, see STREXB on page A7-486<BR>&nbsp; &#8213; STREXH, see STREXH on page A7-487<BR>&nbsp; &#8213; Clear-Exclusive, CLREX, see CLREX on page A7-255.</FONT></P>
<P><FONT class=extract>Note<BR>This section describes the operation of a Load-Exclusive/Store-Exclusive pair of synchronization primitives using, as examples, the LDREX and STREX instructions. The same description applies to any other pair of synchronization primitives:<BR>&#8226; LDREXB used with STREXB<BR>&#8226; LDREXH used with STREXH.</FONT></P>
<P><FONT class=extract>Each Load-Exclusive instruction must be used only with the corresponding Store-Exclusive instruction.</FONT></P>
<P>STREXD and LDREXD are not supported in ARMv7-M.</P>
<P><FONT class=extract>The model for the use of a Load-Exclusive/Store-Exclusive instruction pair, accessing memory address x is:<BR>&#8226; The Load-Exclusive instruction always successfully reads a value from memory address x<BR>&#8226; The corresponding Store-Exclusive instruction succeeds in writing back to memory address x only if no other processor or process has performed a more recent store of address x. The Store-Exclusive operation returns a status bit that indicates whether the memory write succeeded.</FONT></P>
<P><FONT class=extract>A Load-Exclusive instruction tags a small block of memory for exclusive access. The size of the taggedblock is IMPLEMENTATION DEFINED, see Tagging and the size of the tagged memory block on page A3-96. A Store-Exclusive instruction to the same address clears the tag.</FONT>