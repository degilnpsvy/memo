B1.4.3 The special-purpose mask registers 
<P></P>
<P><FONT class=extract>An ARMv7-M processor implements the following special-purpose registers for exception priority boosting:<BR>* PRIMASK The exception mask register, a 1-bit register. Setting PRIMASK to 1 raises the execution priority to 0.<BR>* BASEPRI The base priority mask, an 8-bit register. BASEPRI changes the priority level required for exception preemption. It has an effect only when BASEPRI has a lower value than the unmasked priority level of the currently executing software.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; The number of implemented bits in BASEPRI is the same as the number of implemented bits in each field of the priority registers, and BASEPRI has the same format as those fields. For more information see Maximum supported priority value on page B1-636.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; A value of zero disables masking by BASEPRI.<BR>* FAULTMASK The fault mask, a 1-bit register. Setting FAULTMASK to 1 raises the execution priority to -1, the priority of HardFault. Only privileged software executing at a priority below -1 can set FAULTMASK to 1. This means HardFault and NMI handlers cannot set FAULTMASK to 1. Returning from any exception except NMI clears FAULTMASK to 0.</FONT></P>
<P>A reset clears all the mask registers to zero. The processor ignores unprivileged writes to the mask registers. Execution priority and priority boosting on page B1-637 gives more information about their function.</P>
<P>Software can access these registers using the MRS and MSR instructions, see MRS on page B5-803 and MSR on page B5-805. The MSR instruction accepts a register masking argument, BASEPRI_MAX, that updates BASEPRI only if BASEPRI masking is disabled, or the new value increases the BASEPRI priority level. Figure B1-2 shows the formats of MRS and MSR accesses to the mask registers.</P>
<P>&nbsp;</P>
<P>PRIMASK ([31:1] Reserved) ([0] PM)</P>
<P>FAULTMASK ([31:1] Reserved) ([0] PM)</P>
<P>BASEPRI ([31:8] Reserved</P>
<P>Figure B1-2 The special-purpose mask registers</P>
<P>In addition:<BR><FONT class=extract>&#8226; FAULTMASK is set to 1 by the execution of the instruction CPSID f<BR>&#8226; FAULTMASK is cleared to 0 by the execution of the instruction CPSIE f<BR>&#8226; PRIMASK is set to 1 by the execution of the instruction CPSID i<BR>&#8226; PRIMASK is cleared to 0 by the execution of the instruction CPSIE i.</FONT>