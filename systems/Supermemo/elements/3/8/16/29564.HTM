&nbsp;klist_iter_init_node(&amp;subsys-&gt;p-&gt;klist_devices, &amp;i, NULL);<BR>&nbsp;while ((dev = next_device(&amp;i))) {<BR>&nbsp;&nbsp;if (dev-&gt;id == id &amp;&amp; get_device(dev)) {<BR>&nbsp;&nbsp;&nbsp;klist_iter_exit(&amp;i);<BR>&nbsp;&nbsp;&nbsp;return dev;<BR>&nbsp;&nbsp;}<BR>&nbsp;}<BR>&nbsp;klist_iter_exit(&amp;i);