static void driver_deferred_probe_add(struct device *dev)<BR>{<BR><FONT class=clozed>&nbsp;mutex_lock(&amp;deferred_probe_mutex);<BR>&nbsp;if (list_empty(&amp;dev-&gt;p-&gt;deferred_probe)) {<BR>&nbsp;&nbsp;dev_dbg(dev, "Added to deferred list\n");<BR>&nbsp;&nbsp;list_add_tail(&amp;dev-&gt;p-&gt;deferred_probe, &amp;deferred_probe_pending_list);<BR>&nbsp;}<BR>&nbsp;mutex_unlock(&amp;deferred_probe_mutex);</FONT><BR>} 
<P></P>
<P>void driver_deferred_probe_del(struct device *dev)<BR>{<BR><FONT class=clozed>&nbsp;mutex_lock(&amp;deferred_probe_mutex);<BR>&nbsp;if (!list_empty(&amp;dev-&gt;p-&gt;deferred_probe)) {<BR>&nbsp;&nbsp;dev_dbg(dev, "Removed from deferred list\n");<BR>&nbsp;&nbsp;list_del_init(&amp;dev-&gt;p-&gt;deferred_probe);<BR>&nbsp;}<BR>&nbsp;mutex_unlock(&amp;deferred_probe_mutex);</FONT><BR>}