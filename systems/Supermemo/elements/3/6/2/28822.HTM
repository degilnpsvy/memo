initialize with resources and platform_device_register()</P><PRE><A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#455" name=455>455</A><SPAN class=c>/**
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#456" name=456>456</A> * platform_device_register - add a platform-level device
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#457" name=457>457</A> * @pdev: platform device we're adding
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#458" name=458>458</A> */</SPAN>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#459" name=459>459</A><B>int</B> <A class=xf name=platform_device_register></A><A class=xf href="http://172.21.12.145:8080/source/s?refs=platform_device_register&amp;project=linux-4.5">platform_device_register</A>(<B>struct</B> <A href="http://172.21.12.145:8080/source/s?defs=platform_device&amp;project=linux-4.5">platform_device</A> *<A class=xa name=pdev></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=pdev&amp;project=linux-4.5">pdev</A>)
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#460" name=460>460</A>{
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#461" name=461>461</A>	<A href="http://172.21.12.145:8080/source/s?defs=device_initialize&amp;project=linux-4.5">device_initialize</A>(&amp;<A href="http://172.21.12.145:8080/source/s?defs=pdev&amp;project=linux-4.5">pdev</A>-&gt;<A href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.5">dev</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#462" name=462>462</A>	<A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#arch_setup_pdev_archdata">arch_setup_pdev_archdata</A>(<A href="http://172.21.12.145:8080/source/s?defs=pdev&amp;project=linux-4.5">pdev</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#463" name=463>463</A>	<B>return</B> <A href="http://172.21.12.145:8080/source/s?defs=platform_device_add&amp;project=linux-4.5">platform_device_add</A>(<A href="http://172.21.12.145:8080/source/s?defs=pdev&amp;project=linux-4.5">pdev</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#464" name=464>464</A>}
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/drivers/base/platform.c#465" name=465>465</A><A href="http://172.21.12.145:8080/source/s?defs=EXPORT_SYMBOL_GPL&amp;project=linux-4.5">EXPORT_SYMBOL_GPL</A>(<A class=xv name=platform_device_register></A><A class=xv href="http://172.21.12.145:8080/source/s?refs=platform_device_register&amp;project=linux-4.5">platform_device_register</A>);</PRE>