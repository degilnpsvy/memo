&nbsp;int i; 
<P></P>
<P>&nbsp;i = vsnprintf(buf, size, fmt, args);</P>
<P>&nbsp;if (likely(i &lt; size))<BR>&nbsp;&nbsp;return i;<BR>&nbsp;if (size != 0)<BR>&nbsp;&nbsp;return size - 1;<BR>&nbsp;return 0;