D1.2.199 TPIU_FFCR, TPIU Formatter and Flush Control Register<BR>The TPIU_FFCR characteristics are:<BR>Purpose Controls the TPIU formatter. This register might contain other formatter and flush control<BR>fields that are outside the scope of the architecture. Contact ARM for more information.<BR>Usage constraints Privileged access permitted only. Unprivileged accesses generate a BusFault.<BR>This register is word accessible only. Halfword and byte accesses are UNPREDICTABLE.<BR>If the Main Extension is not implemented then it is IMPLEMENTATION DEFINED whether this<BR>register is accessible only to the debugger and RES0 for software. Otherwise the register is<BR>accessible to the debugger and software.<BR>Configurations Present only if the TPIU is implemented.<BR>This register is RES0 if the TPIU is not implemented.<BR>Attributes 32-bit read/write register located at 0xE0040304.<BR>This register is not banked between Security states.<BR>Field descriptions<BR>The TPIU_FFCR bit assignments are:<BR>Bits [31:15,11,7,3:2]<BR>Reserved, RES0.<BR>Bits [14:12]<BR>Reserved for formatter stop controls.<BR>Reserved, RES0.<BR>Bits [10:9]<BR>Reserved for additional trigger mark controls.<BR>Reserved, RES0.<BR>TrigIn, bit [8]<BR>Trigger input asserted. Indicate a trigger on the trace port when an IMPLEMENTATION DEFINED<BR>TRIGIN signal is asserted.<BR>It is IMPLEMENTATION DEFINED whether this bit is R/W or RAO.<BR>This bit resets to zero on a Cold reset.<BR>FOnMan, bit [6]<BR>Flush On Manual. Setting this bit to 1 generates a flush. The TPIU clears the bit to 0 when the flush<BR>completes.<BR>This bit resets to zero on a Cold reset.<BR>Bits [5:4]<BR>Reserved for additional flush controls.<BR>Reserved, RES0.<BR>EnFmt, bits [1:0]<BR>Formatter control. Selects the output formatting mode.<BR>The possible values of this field are:<BR>0b00 Bypass. Disable formatting. Only supported when SWO mode is selected. Only a single<BR>trace source is supported in bypass mode:<BR>&#8226; If only a single trace source is connected to this TPIU, it is selected.<BR>&#8226; If multiple sources (including the ITM) are implemented and connected to this<BR>TPIU, then all other trace sources, except for the ITM, must be disabled.<BR>Otherwise, the trace output is UNPREDICTABLE.<BR>All other trace sources are discarded.<BR>0b10 Continuous. Enable formatting and embed triggers and null cycles in the formatted<BR>output.<BR>All other values are reserved.<BR>If no formatter is implemented, this field is RES0. This field must be set to 0b10 when the parallel<BR>trace port is selected, or when using multiple trace sources. Changing the value of this field when<BR>TPIU_FFSR.FtStopped is 0 is UNPREDICTABLE.<BR>This field resets to zero on a Cold reset.<BR>Note<BR>An optional TRACECTL pin might be implemented as part of the parallel trace port that allows<BR>Bypass mode when using a parallel trace port and a further mode, EnFmt == 0b01. The CoreSight<BR>architecture describes EnFmt[1] as the EnFCont bit and EnFmt[0] as the EnFTC bit.