<H1>Introduction to CSE 421/521</H1>
<DIV class=sect1><A id=_operating_systems_briefly_defined class=anchor></A>
<H2><FONT class=extract>Operating Systems Briefly Defined</FONT></H2>
<DIV class=sectionbody>
<DIV class="olist arabic">
<DIV class=title><FONT class=extract>Operating System:</FONT></DIV>
<OL class=arabic>
<LI>
<P><FONT class=extract>A <STRONG>computer program</STRONG> that</FONT></P>
<LI>
<P><FONT class=extract><STRONG>multiplexes hardware resources</STRONG> and</FONT></P>
<LI>
<P><FONT class=extract><STRONG>implements useful abstractions</STRONG>.</FONT></P></LI></OL></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P><FONT class=extract>The OS is just another computer program! <SPAN class=slide>(If a large, complex, mature and mission critical one.)</SPAN></FONT></P></DIV></DIV></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P><FONT class=extract><STRONG>Multiplexing</STRONG> allows multiple people or programs to use the same set of hardware resources&#8212;&#8203;processors, memory, disks, network connection&#8212;&#8203;safely and efficiently. </FONT></P></DIV></DIV></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P><FONT class=extract><STRONG>Abstractions</STRONG>--processes, threads, address spaces, files, and sockets&#8212;&#8203;simplify the usage of hardware resources by organizing information or implementing new capabilities.</FONT></P></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_motivating_this_class class=anchor></A>
<H2>Motivating This Class</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>How many of you have participated in OS development?</P>
<LI>
<P>How many of you regularly program in languages that use operating system abstractions directly?</P>
<LI>
<P>So why study operating systems? Why is this class even offered? <STRONG>Why is it required?</STRONG></P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_why_study_operating_systems class=anchor></A>
<H2>Why Study Operating Systems?</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P><STRONG>Reality</STRONG>: this is how computers really work, and as a computer scientist or engineer you should know how computers really work.</P>
<LI>
<P><STRONG>Ubiquity</STRONG>: operating systems are everywhere and you are likely to eventually encounter them or their limitations.</P>
<LI>
<P><STRONG>Beauty</STRONG>: operating systems are examples of mature solutions to difficult design and engineering problems. Studying them will improve your ability to design and implement abstractions.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_why_program_operating_systems class=anchor></A>
<H2>Why Program Operating Systems?</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P><STRONG>Design</STRONG>: programming operating systems stresses the importance of careful design and specification before coding begins. You will learn the value of design, probably the hard way.</P>
<LI>
<P><STRONG>Difficulty</STRONG>: operating systems are large existing code bases where new solutions have stringent performance requirements. Programming operating systems will make you a better programmer and improve all of your subsequent work. </P>
<LI>
<P><STRONG>Debugging</STRONG>: debugging operating systems is challenging due to their multi- threaded nature and the lack of typical debugging support provided to applications. Again, debugging operating systems will sharpen your debugging skills. </P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_course_structure class=anchor></A>
<H2>Course Structure</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Conceptual learning&#8230;&#8203;</P>
<DIV class=ulist>
<UL>
<LI>
<P>Lectures</P>
<LI>
<P>Recitations</P>
<LI>
<P>Exams</P></LI></UL></DIV>
<LI>
<P>&#8230;&#8203;by doing (programming).</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_learning_objectives_conceptual class=anchor></A>
<H2>Learning Objectives: Conceptual</H2>
<DIV class=sectionbody>
<DIV class="olist arabic">
<DIV class=title>When you finish CSE 421/521 you will:</DIV>
<OL class=arabic>
<LI>
<P>understand the abstractions supported by modern operating systems</P>
<LI>
<P>be able to describe how operating systems policies and mechanisms safely and efficiently multiplex hardware resources</P>
<LI>
<P>be able to analyze historical, current, and emerging operating system designs and features</P></LI></OL></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P>The main way we will know that you are learning is by your participation in class and recitations.</P></DIV></DIV></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P>You will be tested for mastery on exams.</P></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_conceptual_progression class=anchor></A>
<H2>Conceptual Progression</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Introduction to operating system abstractions and structure.</P>
<LI>
<P>Abstracting and multiplexing:</P>
<DIV class=ulist>
<UL>
<LI>
<P>the CPU&#8212;&#8203;interrupts, context, threads, processes, processor scheduling, thread synchronization.</P>
<LI>
<P>memory&#8212;&#8203;memory layout, address translation, paging and segmentation, address spaces, translation caching, page fault handling, page eviction,</P>
<LI>
<P>swapping.</P>
<LI>
<P>storage&#8212;&#8203;spinning disks and Flash, spinning disk scheduling, on-disk layout, files, buffer cache, crash and recovery.</P></LI></UL></DIV>
<LI>
<P>Virtualization.</P>
<LI>
<P>Networking (time permitting)</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_learning_the_concepts class=anchor></A>
<H2>Learning the Concepts</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Attend class.</P>
<LI>
<P>Come to class on time:</P>
<DIV class=ulist>
<UL>
<LI>
<P>Music starts as soon as I can get into the room&#8230;&#8203;</P>
<LI>
<P>Lectures will start at 2:05PM sharp and finish by 2:50PM.</P></LI></UL></DIV>
<LI>
<P>Ask questions during class.</P>
<DIV class=ulist>
<UL>
<LI>
<P>I&#8217;m very flexible about how much we cover this semester.</P>
<LI>
<P>I would rather teach less and have everyone understand it.</P>
<LI>
<P>Our back-and-forth during class is the one of the few indicators I have of how much you are absorbing&#8230;&#8203;</P></LI></UL></DIV></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_references class=anchor></A>
<H2>References</H2>
<DIV class=sectionbody>
<DIV class=openblock>
<DIV class=content>
<DIV class="imageblock hascaption">
<DIV class=content><A class=image href="http://www.amazon.com/Modern-Operating-Systems-Andrew-Tanenbaum/dp/013359162X/" target=_blank><IMG style="WIDTH: 25%" alt=51dqadCuRiL.jpg src="https://www.ops-class.org/img/internalize/x49ffd29a350e6a2723b8828488f29594.jpg.pagespeed.ic.dxY7TWzRug.jpg" data-pagespeed-url-hash="543711991"></A> </DIV>
<DIV class=title>Figure 1. Modern Operating Systems by Andrew Tanenbaum</DIV></DIV></DIV></DIV>
<DIV style="PAGE-BREAK-AFTER: always"></DIV>
<DIV class=openblock>
<DIV class=content>
<DIV class="imageblock hascaption">
<DIV class=content><A class=image href="http://www.amazon.com/C-Programming-Language-2nd/dp/0131103628/" target=_blank><IMG style="WIDTH: 25%" alt=71RwRPoFK%2BL.jpg src="https://www.ops-class.org/img/internalize/xd1e0544af8535c0c1f60ca1fb42ad94c.jpg.pagespeed.ic.yH1Yo64x0l.jpg" data-pagespeed-url-hash="3262019413"></A> </DIV>
<DIV class=title>Figure 2. The C Programming Language by Kernighan and Ritchie</DIV></DIV></DIV></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P><STRONG>Material presented in lecture takes priority over anything you find in a book or online.</STRONG></P></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_learning_objectives_programming class=anchor></A>
<H2>Learning Objectives: Programming</H2>
<DIV class=sectionbody>
<DIV class="olist arabic">
<DIV class=title>When you finish CSE 421/521 you will:</DIV>
<OL class=arabic>
<LI>
<P>be able to design and implement well-structured systems software</P>
<LI>
<P>utilize appropriate synchronization primitives</P>
<LI>
<P>identify and correct bugs in complex multi-threaded systems</P>
<LI>
<P>be able to formulate and test performance hypotheses</P></LI></OL></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P>We will know that you are learning by your participation in class, recitations, and office hours, and your use of online testing resources.</P></DIV></DIV></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P>You will be tested for mastery by each programming assignment.</P></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_programming_progression class=anchor></A>
<H2>Programming Progression</H2>
<DIV class=sectionbody>
<DIV class=paragraph>
<P><STRONG>All due dates Friday @ 5PM EST.</STRONG></P></DIV>
<DIV class="ulist slide">
<UL>
<LI>
<P>ASST0: Introduction to OS/161&#8212;&#8203;Due Friday 2/12 @ 5PM.</P>
<DIV class=ulist>
<UL>
<LI>
<P>Become comfortable using standard UNIX development tools.</P>
<LI>
<P>Learn to navigate the OS/161 source tree.</P>
<LI>
<P>Configuring, building and running your first kernel.</P></LI></UL></DIV></LI></UL></DIV>
<DIV class="ulist slide">
<UL>
<LI>
<P>ASST1: Synchronization Primitives&#8212;&#8203;Due Friday 2/12 @ 5PM.</P>
<DIV class=ulist>
<UL>
<LI>
<P>Design and implement locks and condition variables.</P>
<LI>
<P>Use them to solve several toy synchronization problems.</P></LI></UL></DIV></LI></UL></DIV>
<DIV class=paragraph>
<P><STRONG>All due dates Friday @ 5PM EST.</STRONG></P></DIV>
<DIV class=openblock>
<DIV class=content>
<DIV class="ulist slide">
<UL>
<LI>
<P>ASST2: System Calls and Process Support&#8212;&#8203;due Friday March 11th @ 5PM.</P>
<DIV class=ulist>
<UL>
<LI>
<P>The file system system calls: <CODE>open()</CODE>, <CODE>close()</CODE>, <CODE>read()</CODE>, <CODE>write()</CODE>, <CODE>lseek()</CODE>, <CODE>dup2()</CODE>, <CODE>chdir()</CODE>, and <CODE>getcwd()</CODE>. does this work</P>
<LI>
<P>The process-related system calls: <CODE>fork()</CODE>, <CODE>execv()</CODE>, <CODE>waitpid()</CODE>, <CODE>\_exit()</CODE>.</P>
<LI>
<P>Several process scheduling algorithms.</P></LI></UL></DIV></LI></UL></DIV>
<DIV class="ulist slide">
<UL>
<LI>
<P>ASST3: Virtual Memory&#8212;&#8203;due Friday May 13th @ 5PM.</P>
<DIV class=ulist>
<UL>
<LI>
<P>TLB fault handling</P>
<LI>
<P>Paging to disk</P>
<LI>
<P>Several TLB entry and page replacement algorithms</P>
<LI>
<P><CODE>sbrk()</CODE></P></LI></UL></DIV></LI></UL></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_os_161 class=anchor></A>
<H2>OS/161</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>OS/161 is an instructional operating system developed by David Holland at Harvard University.</P>
<LI>
<P>It attempts to strike a balance between Linux and other extremely-mature systems&#8212;&#8203;too difficult to hack on&#8212;&#8203;and existing instructional operating systems frameworks&#8212;&#8203;not realistic enough.</P>
<LI>
<P>Your OS/161 kernel runs in an emulator, <CODE>sys161</CODE>, which emulates an MIPS r2000/ r3000 instruction set architecture (ISA).</P>
<LI>
<P>Using <CODE>sys161</CODE> allows us to simplify debugging and hardware support.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_10_000_hours class=anchor></A>
<H2>10,000 Hours</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>While many operating systems concepts are elegantly simple, implementing them is not.</P>
<LI>
<P>Therefor, this class is not easy:</P>
<DIV class=ulist>
<UL>
<LI>
<P><SPAN class=red>3.52 (-0.57)</SPAN> and <SPAN class=red>4.03 (-0.06)</SPAN> on "Appropriate Workload" score in 2013 course evaluations for 421 and 521 respectively (90%+ response rate).</P></LI></UL></DIV>
<LI>
<P>However, this class is also worthwhile:</P>
<DIV class=ulist>
<UL>
<LI>
<P><SPAN class=green>4.14 (+0.31)</SPAN> and <SPAN class=green>4.59 (+0.76)</SPAN> overall rating (2013).</P></LI></UL></DIV></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_ops_class_org_website class=anchor></A>
<H2>ops-class.org Website</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>It&#8217;s not ready&#8230;&#8203; but should be soon.</P>
<LI>
<P>We&#8217;re in the process of making a lot of improvements this year, so please bear with us&#8230;&#8203;</P>
<LI>
<P>If it interferes with the deadlines we&#8217;ll adjust them. ASST0 should be posted by the end of the week and you will be provided access to the resources you need to complete it.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_grading class=anchor></A>
<H2>Grading</H2>
<DIV class=sectionbody>
<DIV class=openblock>
<DIV class=content>
<DIV class=ulist>
<UL>
<LI>
<P>Conceptual--(50%)</P>
<DIV class=ulist>
<UL>
<LI>
<P>5%--Preterm Exam (Wednesday)</P>
<LI>
<P>15%--Midterm Exam</P>
<LI>
<P>30%--Final Exam</P></LI></UL></DIV>
<LI>
<P>Programming--(50%)</P>
<DIV class=ulist>
<UL>
<LI>
<P>5%--ASST0</P>
<LI>
<P>10%--ASST1</P>
<LI>
<P>15%--ASST2</P>
<LI>
<P>20%--ASST3</P></LI></UL></DIV></LI></UL></DIV></DIV></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P>The preterm exam is free points: 5% for showing up and doing your best. If you do not take the preterm your midterm and final exam scores will be scaled appropriately.</P></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_continuous_choose_your_own_grade_programming_evaluations class=anchor></A>
<H2>Continuous Choose-Your-Own Grade Programming Evaluations</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Almost all assignment grading in CSE421/521 is automated.</P>
<LI>
<P>Therefore&#8230;&#8203; you can have your code graded repeatedly whenever you like.</P>
<LI>
<P>Therefore&#8230;&#8203; you can stop each assignment whenever you are satisfied with your grade.</P>
<LI>
<P>We are still deciding how to handle the hand-graded parts of the assignments&#8230;&#8203; stay tuned.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_continuous_choose_your_own_grade_details_and_caveats class=anchor></A>
<H2>Continuous Choose-Your-Own Grade Details and Caveats</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Assignments are done in pairs, so find a partner who is interested in achieving the same grade as you are.</P>
<LI>
<P>Note that we do not allow students to work alone except in extremely unusual circumstances. </P>
<DIV class=ulist>
<UL>
<LI>
<P>"I want to work alone" does not represent one of these situations! </P></LI></UL></DIV>
<LI>
<P>Assignments are cumulative and we will not distribute solution sets without a significant penalty.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_communication class=anchor></A>
<H2>Communication</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>We will sign you all up for a mass email list.</P>
<LI>
<P>We also have a Discourse forum linked off the website which is the best way to get help quickly.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_using_email class=anchor></A>
<H2>Using Email</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>If you need to email the course staff (<MARK>staff@ops-class.org</MARK>), please consider the following:</P>
<DIV class=ulist>
<UL>
<LI>
<P>Is this information likely to be available on the website? If yes, go find it!</P>
<LI>
<P>Is the answer to this question likely to benefit other students? If yes, use Discourse.</P></LI></UL></DIV></LI></UL></DIV>
<DIV class=ulist>
<UL>
<LI>
<P>Before you email me directly, please also consider the following:</P>
<DIV class=ulist>
<UL>
<LI>
<P>Is this something that the course staff could answer? If yes, email them.</P></LI></UL></DIV>
<LI>
<P>Here&#8217;s the bottom line: the more time we spend answering repetitive email, the less time we have available to help you with real problems.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_getting_help_recitations class=anchor></A>
<H2>Getting Help: Recitations</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Ali and Jerry will be holding recitations. Unfortunately recitations this year are for undergraduates only and one is at 8AM.</P>
<LI>
<P>Recitations this year will cover a mix of conceptual and assignment-driven material. </P>
<LI>
<P>We will also try to post some screencasts this year!</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_getting_help_office_hours class=anchor></A>
<H2>Getting Help: Office Hours</H2>
<DIV class=sectionbody>
<DIV class=openblock>
<DIV class=content>
<DIV class=ulist>
<UL>
<LI>
<P>All TAs and Ninjas will be holding office hours.</P>
<DIV class=ulist>
<UL>
<LI>
<P>We are hoping to have around 40 hours of office hours scheduled per week, meaning that you have plenty of opportunities to complete the challenging CSE 421 assignments.</P></LI></UL></DIV>
<LI>
<P>Office hours are the best place to get help on the programming assignments.</P>
<LI>
<P>CSE 421/521 office hours will be in Davis Hall in locations announced on the calendar, but probably near Davis 301B or in the Second Floor atrium.</P>
<LI>
<P>Just come in and do the assignments during office hours&#8212;&#8203;that way, when you get stuck, you are in the right place.</P></LI></UL></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_getting_help_working_in_pairs class=anchor></A>
<H2>Getting Help: Working in Pairs</H2>
<DIV class=sectionbody>
<DIV class=paragraph>
<P>Partner groups are jointly responsible for joint work.</P></DIV>
<DIV class=ulist>
<UL>
<LI>
<P>If any part is plagiarized, both partners fail.</P>
<LI>
<P>If any part is plagiarized, both partners fail.</P>
<LI>
<P>If you have concerns about work your partner has submitted, immediately approach the course staff.</P>
<LI>
<P>If you do not we will assume later that your consent was given.</P>
<LI>
<P>It is entirely your responsibility to ensure that your team&#8217;s submission is fair and reflects your contributions.</P></LI></UL></DIV>
<DIV class="openblock slide">
<DIV class=content>
<DIV class=paragraph>
<P>Pair programming assignments for CSE 421/521 are very clear about what kinds of collaboration are permitted. We consider violating these expectations to be cheating.</P></DIV></DIV></DIV></DIV></DIV>
<DIV class=sect1><A id=_getting_help_helping_each_other class=anchor></A>
<H2>Getting Help: Helping Each Other</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>The course staff will be working as hard as you&#8212;&#8203;and sometimes harder&#8212;&#8203;but there are many of you and few of us. Look to your left and your right: these are your comrades.</P>
<LI>
<P>Good classes come through CSE 421/521 as a team.</P></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_collaboration class=anchor></A>
<H2>Collaboration</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>Simple rule: talking about code is collaborating, talking in code (or exchanging code) is cheating.</P>
<DIV class=ulist>
<UL>
<LI>
<P>Unless you are talking to your partner in which case anything goes.</P></LI></UL></DIV></LI></UL></DIV></DIV></DIV>
<DIV class=sect1><A id=_cheaters class=anchor></A>
<H2>Cheaters</H2>
<DIV class=sectionbody>
<DIV class=ulist>
<UL>
<LI>
<P>I take cheating very seriously:</P>
<DIV class=ulist>
<UL>
<LI>
<P>Not because I am vindictive and mean&#8230;&#8203;</P>
<LI>
<P>&#8230;&#8203; but because I believe in protecting and honoring those of you that work hard and play by the rules.</P></LI></UL></DIV></LI></UL></DIV>
<DIV class=ulist>
<UL>
<LI>
<P>We will use an online service to detect and investigating code similarity.</P>
<DIV class=ulist>
<UL>
<LI>
<P>It is very fast, so we can it on every submission.</P>
<LI>
<P>It is very accurate.</P>
<LI>
<P>We will compare your assignment against everything we can think of: this years', last years', anything you can find online, assignments submitted at Harvard, etc.</P>
<LI>
<P>I have a <EM>huge</EM> repository of old assignments now. If you can find it, I&#8217;ve already got it.</P></LI></UL></DIV></LI></UL></DIV>
<DIV class=ulist>
<UL>
<LI>
<P>We catch and fail cheaters. Not for the assignment: for the entire class.</P></LI></UL></DIV></DIV></DIV>