<FONT class=clozed>static ssize_t drv_attr_show(struct kobject *kobj, struct attribute *attr,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *buf)<BR>{<BR>&nbsp;struct driver_attribute *drv_attr = to_drv_attr(attr);<BR>&nbsp;struct driver_private *drv_priv = to_driver(kobj);<BR>&nbsp;ssize_t ret = -EIO; </FONT>
<P></P>
<P><FONT class=clozed>&nbsp;if (drv_attr-&gt;show)<BR>&nbsp;&nbsp;ret = drv_attr-&gt;show(drv_priv-&gt;driver, buf);<BR>&nbsp;return ret;<BR>}</FONT></P>
<P><FONT class=clozed>static ssize_t drv_attr_store(struct kobject *kobj, struct attribute *attr,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const char *buf, size_t count)<BR>{<BR>&nbsp;struct driver_attribute *drv_attr = to_drv_attr(attr);<BR>&nbsp;struct driver_private *drv_priv = to_driver(kobj);<BR>&nbsp;ssize_t ret = -EIO;</FONT></P>
<P><FONT class=clozed>&nbsp;if (drv_attr-&gt;store)<BR>&nbsp;&nbsp;ret = drv_attr-&gt;store(drv_priv-&gt;driver, buf, count);<BR>&nbsp;return ret;<BR>}</FONT></P>
<P>static const struct sysfs_ops driver_sysfs_ops = {<BR>&nbsp;.show&nbsp;= drv_attr_show,<BR>&nbsp;.store&nbsp;= drv_attr_store,<BR>};