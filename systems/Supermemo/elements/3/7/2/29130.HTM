int platform_add_devices(struct platform_device **pdevs, int ndev);</P><PRE><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#187" name=187>187</A><SPAN class=c>/**
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#188" name=188>188</A> * platform_add_devices - add a numbers of platform devices
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#189" name=189>189</A> * @devs: array of platform devices to add
<A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#190" name=190>190</A> * @num: number of platform devices in array
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#191" name=191>191</A> */</SPAN>
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#192" name=192>192</A><B>int</B> <A class=xf name=platform_add_devices></A><A class=xf href="http://172.29.26.110:8080/source/s?refs=platform_add_devices&amp;project=Linux-v4.6">platform_add_devices</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=platform_device&amp;project=Linux-v4.6">platform_device</A> **<A class=xa name=devs></A><A class=xa href="http://172.29.26.110:8080/source/s?refs=devs&amp;project=Linux-v4.6">devs</A>, <B>int</B> <A class=xa name=num></A><A class=xa href="http://172.29.26.110:8080/source/s?refs=num&amp;project=Linux-v4.6">num</A>)
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#193" name=193>193</A>{
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#194" name=194>194</A>	<B>int</B> i, <A class=xl name=ret></A><A class=xl href="http://172.29.26.110:8080/source/s?refs=ret&amp;project=Linux-v4.6">ret</A> = 0;
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#195" name=195>195</A>
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#196" name=196>196</A>	<B>for</B> (i = 0; i &lt; <A href="http://172.29.26.110:8080/source/s?defs=num&amp;project=Linux-v4.6">num</A>; i++) {
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#197" name=197>197</A>		<A href="http://172.29.26.110:8080/source/s?defs=ret&amp;project=Linux-v4.6">ret</A> = <A href="http://172.29.26.110:8080/source/s?defs=platform_device_register&amp;project=Linux-v4.6">platform_device_register</A>(<A href="http://172.29.26.110:8080/source/s?defs=devs&amp;project=Linux-v4.6">devs</A>[i]);
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#198" name=198>198</A>		<B>if</B> (<A href="http://172.29.26.110:8080/source/s?defs=ret&amp;project=Linux-v4.6">ret</A>) {
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#199" name=199>199</A>			<B>while</B> (--i &gt;= 0)
<A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#200" name=200>200</A>				<A href="http://172.29.26.110:8080/source/s?defs=platform_device_unregister&amp;project=Linux-v4.6">platform_device_unregister</A>(<A href="http://172.29.26.110:8080/source/s?defs=devs&amp;project=Linux-v4.6">devs</A>[i]);
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#201" name=201>201</A>			<B>break</B>;
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#202" name=202>202</A>		}
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#203" name=203>203</A>	}
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#204" name=204>204</A>
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#205" name=205>205</A>	<B>return</B> <A href="http://172.29.26.110:8080/source/s?defs=ret&amp;project=Linux-v4.6">ret</A>;
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#206" name=206>206</A>}
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.6/drivers/base/platform.c#207" name=207>207</A><A href="http://172.29.26.110:8080/source/s?defs=EXPORT_SYMBOL_GPL&amp;project=Linux-v4.6">EXPORT_SYMBOL_GPL</A>(<A class=xv name=platform_add_devices></A><A class=xv href="http://172.29.26.110:8080/source/s?refs=platform_add_devices&amp;project=Linux-v4.6">platform_add_devices</A>);</PRE>