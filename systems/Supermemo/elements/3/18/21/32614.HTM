<DIV class=article_title>
<H1><SPAN class=link_title><A href="http://blog.csdn.net/lulu901130/article/details/47001401">QEMU-System mode emulation&#20998;&#26512;(1) </A></SPAN></H1></DIV>
<DIV class="article_manage clearfix">
<DIV class=article_r><SPAN class=link_postdate>2015-07-22 12:00</SPAN> <SPAN title=&#38405;&#35835;&#27425;&#25968; class=link_view>464&#20154;&#38405;&#35835;</SPAN> <SPAN title=&#35780;&#35770;&#27425;&#25968; class=link_comments><A href="http://blog.csdn.net/lulu901130/article/details/47001401#comments" ?blog_articles_pinglun?])? ?onclick?, ?_gaq.push([?_trackEvent?,?function?,>&#35780;&#35770;</A>(0)</SPAN> <SPAN class="link_collect tracking-ad" data-mod="popu_171"><A title=&#25910;&#34255; target=_blank void(0);? false;? ?javascript:collectArticle(?QEMU-System+mode+emulation%e5%88%86%e6%9e%90(1)?,?47001401?);return>&#25910;&#34255;</A></SPAN> <SPAN class=link_report><A title=&#20030;&#25253; href="http://blog.csdn.net/lulu901130/article/details/47001401#report" false;? ?javascript:report(47001401,2);return>&#20030;&#25253;</A></SPAN> </DIV></DIV>
<DIV class="category clearfix">
<DIV class=category_l><IMG src="http://static.blog.csdn.net/images/category_icon.jpg"> <SPAN>&#20998;&#31867;&#65306;</SPAN> </DIV>
<DIV class=category_r><LABEL ?GetCategoryArticles(?3058457?,?lulu901130?,?top?,?47001401?);?><SPAN ?onclick?, ?_gaq.push([?_trackEvent?,?function?, ?blog_articles_fenlei?]);?>qemu<EM>&#65288;2&#65289;</EM></SPAN> <IMG class=arrow-down style="DISPLAY: inline" src="http://static.blog.csdn.net/images/arrow_triangle%20_down.jpg"> </LABEL></DIV></DIV>
<DIV class=bog_copyright>
<P class=copyright_p>&#29256;&#26435;&#22768;&#26126;&#65306;&#26412;&#25991;&#20026;&#21338;&#20027;&#21407;&#21019;&#25991;&#31456;&#65292;&#26410;&#32463;&#21338;&#20027;&#20801;&#35768;&#19981;&#24471;&#36716;&#36733;&#12290;</P></DIV>
<DIV id=article_content class=article_content>
<H2>1.&nbsp;&#25191;&#34892;&#20027;&#27969;&#31243;&#31616;&#21333;&#20998;&#26512;</H2>
<DIV><SPAN style="WHITE-SPACE: pre">&#22312;&#35813;&#27169;&#24335;&#19979;&#65292;qemu&#38500;&#20102;&#27169;&#25311;cpu&#25191;&#34892;&#65292;&#36824;&#35201;&#31649;&#29702;&#12289;&#27169;&#25311;&#22806;&#22260;&#35774;&#22791;&#65292;&#22240;&#27492;&#31995;&#32479;&#27169;&#24335;&#27169;&#25311;&#27604;&#29992;&#25143;&#27169;&#24335;&#27169;&#25311;&#22810;&#20986;&#24456;&#22810;&#38656;&#35201;&#25105;&#20204;&#20851;&#24515;&#30340;&#22320;&#26041;&#65292;&#27604;&#22914;&#65292;&#26426;&#22120;&#31649;&#29702;&#65292;&#35774;&#22791;&#31649;&#29702;&#65292;&#24635;&#32447;&#27169;&#25311;&#65292;&#20013;&#26029;&#27169;&#25311;&#65292;mmu&#27169;&#25311;&#65292;&#20197;&#21450;&#23427;&#20204;&#26159;&#22914;&#20309;&#21327;&#21516;&#24037;&#20316;&#30340;&#31561;&#31561;&#12290;&#26412;&#33410;&#20027;&#35201;&#31616;&#21333;&#20998;&#26512;&#19979;qemu&#31995;&#32479;&#27169;&#24335;&#30340;&#25191;&#34892;&#20027;&#27969;&#31243;&#12290;&#22914;&#19979;&#22270;&#25152;&#31034;&#65306;</SPAN></DIV>
<DIV><SPAN style="WHITE-SPACE: pre"><IMG style="HEIGHT: 736px; WIDTH: 1092px" alt="" src="http://img.blog.csdn.net/20150722120852482?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width=860 height=620><BR></SPAN></DIV>
<DIV><SPAN style="WHITE-SPACE: pre"><SPAN style="WHITE-SPACE: pre"></SPAN></SPAN></DIV>
<DIV><BR></DIV>
<DIV>
<P><SPAN style="WHITE-SPACE: pre"></SPAN>&#19978;&#22270;&#20027;&#35201;&#25551;&#36848;&#25972;&#20010;&#27169;&#25311;&#22120;&#25191;&#34892;&#36807;&#31243;&#30340;&#22823;&#20307;&#26694;&#26550;&#65292;&#30001;&#22270;&#21487;&#30693;&#65292;main_loop&#26159;&#27169;&#25311;&#22120;&#36816;&#34892;&#26102;&#30340;&#20027;&#24490;&#29615;&#65292;cpu_exec_all()&#20989;&#25968;&#26159;&#29992;&#26469;&#25191;&#34892;cpu&#25351;&#20196;&#65292;main_loop_wait&#26159;&#29992;&#26469;&#25191;&#34892;&#22806;&#22260;&#35774;&#22791;&#27169;&#25311;&#20195;&#30721;&#65292;&#24403;&#28982;&#36825;&#20123;&#24182;&#19981;&#26159;&#23436;&#20840;&#32477;&#23545;&#30340;&#65292;&#27604;&#22914;cpu&#22312;&#23545;io&#35774;&#22791;&#30340;&#22320;&#22336;&#31354;&#38388;&#36827;&#34892;load/store&#25805;&#20316;&#26102;&#65292;&#23601;&#20250;&#35843;&#29992;io&#35774;&#22791;&#35835;&#20889;handler&#12290;</P><BR></DIV>
<DIV><SPAN style="WHITE-SPACE: pre"></SPAN>&#37027;cpu_exec_all&#20989;&#25968;&#30340;&#25191;&#34892;&#27969;&#31243;&#21448;&#26159;&#24590;&#20040;&#26679;&#30340;&#21602;&#65311;&#22914;&#19979;&#22270;&#65306;<BR></DIV>
<DIV><SPAN style="WHITE-SPACE: pre"><IMG style="HEIGHT: 709px; WIDTH: 1068px" alt="" src="http://img.blog.csdn.net/20150722121117003?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width=861 height=622></SPAN></DIV>
<DIV><SPAN style="WHITE-SPACE: pre"></SPAN>
<P><SPAN style="WHITE-SPACE: pre"></SPAN>&#30001;&#19978;&#22270;&#21487;&#30693;&#65292;&#22312;&#20989;&#25968;cpu_exec_all&#20013;&#65292;&#20250;&#21435;&#36941;&#21382;&#21644;&#36816;&#34892;&#27599;&#20010;cpu&#65292;&#28982;&#21518;&#21435;&#35843;&#29992;qemu_cpu_exec&#20989;&#25968;&#65292;&#26368;&#21518;&#21435;&#35843;&#29992;cpu_exec&#20989;&#25968;&#65292;cpu_exec&#20989;&#25968;&#20998;&#26512;&#22312;&#21069;&#25991;&#30340;&#29992;&#25143;&#27169;&#24335;&#24050;&#32463;&#20998;&#26512;&#36807;&#65292;&#20195;&#30721;&#32763;&#35793;&#12289;&#20195;&#30721;&#25191;&#34892;&#12289;&#24322;&#24120;&#20135;&#29983;&#37117;&#22312;&#37027;&#36793;&#23436;&#25104;&#65292;&#35814;&#32454;&#20998;&#26512;&#21442;&#32771;&#21069;&#25991;&#12290;</P>
<P><SPAN style="WHITE-SPACE: pre"></SPAN>&#25509;&#19979;&#26469;&#65292;&#20998;&#26512;&#19979;main_loop_wait&#20989;&#25968;&#65292;&#35813;&#20989;&#25968;&#26368;&#20027;&#35201;&#30340;&#21151;&#33021;&#26159;&#21709;&#24212;&#22806;&#22260;&#36755;&#20837;&#65292;&#20197;&#21450;&#22788;&#29702;timer&#20107;&#20214;&#12290;&#35265;&#19979;&#22270;&#65292;&#35813;&#22270;&#26159;main_loop_wait&#25191;&#34892;&#30340;&#24635;&#20307;&#36807;&#31243;&#12290;&#36825;&#20010;&#36807;&#31243;&#20013;&#19981;&#26029;&#22320;&#21435;&#30417;&#21548;&#23545;&#24212;&#30340;host&#35774;&#22791;&#26159;&#21542;&#26377;&#36755;&#20837;&#36755;&#20986;&#65292;&#33509;&#26377;&#65292;&#21017;&#35843;&#29992;&#30456;&#24212;&#30340;&#22238;&#35843;&#20989;&#25968;&#21435;&#22788;&#29702;&#12290;</P>&#26368;&#21518;&#21435;&#25195;&#25551;&#19979;&#25152;&#26377;&#30340;qemu_timer,&#33509;&#35774;&#23450;&#26102;&#38388;&#24050;&#32463;&#21040;&#36798;&#65292;&#21017;&#25191;&#34892;&#23545;&#24212;&#38057;&#23376;&#20989;&#25968;&#36827;&#34892;&#22788;&#29702;&#12290;&#20855;&#20307;&#20851;&#20110;qemu_timer&#30340;&#23454;&#29616;&#26426;&#21046;&#21644;&#20351;&#29992;&#26041;&#27861;&#65292;&#20250;&#22312;&#21518;&#38754;&#26377;&#25152;&#20171;&#32461;<BR>.</DIV>
<DIV><IMG style="HEIGHT: 743px; WIDTH: 1158px" alt="" src="http://img.blog.csdn.net/20150722121309070?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" width=861 height=622><BR></DIV>
<DIV>
<P><SPAN style="WHITE-SPACE: pre"></SPAN>&#20998;&#26512;&#21040;&#36825;&#37324;&#65292;&#20320;&#26159;&#21542;&#26377;&#20010;&#30097;&#38382;&#65292;&#24403;cpu&#25191;&#34892;&#24341;&#25806;&#22312;&#25191;&#34892;cpu&#25351;&#20196;&#30340;&#26102;&#20505;&#65292;&#23427;&#22914;&#20309;&#21709;&#24212;&#22806;&#22260;&#35774;&#22791;&#30340;&#36755;&#20837;&#65311;<SPAN style="COLOR: red">&#29992;</SPAN><SPAN style="COLOR: red">alarm</SPAN><SPAN style="COLOR: red">&#20449;&#21495;</SPAN>&#65292;qemu&#20250;&#26681;&#25454;qemu_timer&#38142;&#34920;&#37324;&#38754;&#30340;&#20449;&#24687;&#21160;&#24577;&#22320;&#35774;&#32622;&#19979;&#27425;&#21457;&#29983;alarm&#20449;&#21495;&#30340;&#26102;&#38388;&#65292;&#28982;&#21518;&#22312;signal_handler&#20013;&#26029;&#24320;tb&#38142;&#65292;&#24182;&#35774;&#32622;&#36864;&#20986;&#26631;&#24535;&#65292;&#20174;&#32780;&#20013;&#26029;cpu&#30340;&#25191;&#34892;&#65292;&#20351;qemu&#21435;&#22788;&#29702;&#22806;&#22260;&#30340;&#36755;&#20837;&#21644;timer&#20107;&#20214;&#30340;&#22788;&#29702;&#20989;&#25968;&#65292;&#20174;&#32780;&#23454;&#29616;&#22806;&#22260;&#35774;&#22791;&#30340;&#27169;&#25311;&#21644;&#21516;&#27493;&#12290;&#36825;&#37324;&#20063;&#28041;&#21450;&#21040;&#20102;qemu_timer&#65292;&#20197;&#21518;&#20250;&#26377;&#35814;&#32454;&#20171;&#32461;&#23427;&#30340;&#23454;&#29616;&#26426;&#21046;&#12290;</P></DIV></DIV>