device_create_file</P>
<P><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#582" name=582>582</A><SPAN class=c>/**
<A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#583" name=583>583</A> * device_create_file - create sysfs attribute file for device.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#584" name=584>584</A> * @dev: device.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#585" name=585>585</A> * @attr: device attribute descriptor.<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#586" name=586>586</A> */</SPAN><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#587" name=587>587</A><B>int</B> <A class=xf name=device_create_file></A><A class=xf href="http://172.29.26.110:8080/source/s?refs=device_create_file&amp;project=Linux-v4.7">device_create_file</A>(<B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=device&amp;project=Linux-v4.7">device</A> *<A class=xa name=dev></A><A class=xa href="http://172.29.26.110:8080/source/s?refs=dev&amp;project=Linux-v4.7">dev</A>,<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#588" name=588>588</A>		&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <B>const</B> <B>struct</B> <A href="http://172.29.26.110:8080/source/s?defs=device_attribute&amp;project=Linux-v4.7">device_attribute</A> *<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>)<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#589" name=589>589</A>{<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#590" name=590>590</A>	<B>int</B> <A class=xl name=error></A><A class=xl href="http://172.29.26.110:8080/source/s?refs=error&amp;project=Linux-v4.7">error</A> = 0;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#591" name=591>591</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#592" name=592>592</A>	<B>if</B> (<A href="http://172.29.26.110:8080/source/s?defs=dev&amp;project=Linux-v4.7">dev</A>) {<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#593" name=593>593</A>		<A href="http://172.29.26.110:8080/source/s?defs=WARN&amp;project=Linux-v4.7">WARN</A>(((<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>.<A href="http://172.29.26.110:8080/source/s?defs=mode&amp;project=Linux-v4.7">mode</A> &amp; <A href="http://172.29.26.110:8080/source/s?defs=S_IWUGO&amp;project=Linux-v4.7">S_IWUGO</A>) &amp;&amp; !<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=store&amp;project=Linux-v4.7">store</A>),<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#594" name=594>594</A>			<SPAN class=s>"Attribute %s: write permission without 'store'\n"</SPAN>,<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#595" name=595>595</A>			<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>.<A href="http://172.29.26.110:8080/source/s?defs=name&amp;project=Linux-v4.7">name</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#596" name=596>596</A>		<A href="http://172.29.26.110:8080/source/s?defs=WARN&amp;project=Linux-v4.7">WARN</A>(((<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>.<A href="http://172.29.26.110:8080/source/s?defs=mode&amp;project=Linux-v4.7">mode</A> &amp; <A href="http://172.29.26.110:8080/source/s?defs=S_IRUGO&amp;project=Linux-v4.7">S_IRUGO</A>) &amp;&amp; !<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=show&amp;project=Linux-v4.7">show</A>),<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#597" name=597>597</A>			<SPAN class=s>"Attribute %s: read permission without 'show'\n"</SPAN>,<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#598" name=598>598</A>			<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>.<A href="http://172.29.26.110:8080/source/s?defs=name&amp;project=Linux-v4.7">name</A>);<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#599" name=599>599</A>		<A href="http://172.29.26.110:8080/source/s?defs=error&amp;project=Linux-v4.7">error</A> = <A href="http://172.29.26.110:8080/source/s?defs=sysfs_create_file&amp;project=Linux-v4.7">sysfs_create_file</A>(&amp;<A href="http://172.29.26.110:8080/source/s?defs=dev&amp;project=Linux-v4.7">dev</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=kobj&amp;project=Linux-v4.7">kobj</A>, &amp;<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>-&gt;<A href="http://172.29.26.110:8080/source/s?defs=attr&amp;project=Linux-v4.7">attr</A>);<BR><A class=hl href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#600" name=600>600</A>	}<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#601" name=601>601</A><BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#602" name=602>602</A>	<B>return</B> <A href="http://172.29.26.110:8080/source/s?defs=error&amp;project=Linux-v4.7">error</A>;<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#603" name=603>603</A>}<BR><A class=l href="http://172.29.26.110:8080/source/xref/Linux-v4.7/drivers/base/core.c#604" name=604>604</A><A href="http://172.29.26.110:8080/source/s?defs=EXPORT_SYMBOL_GPL&amp;project=Linux-v4.7">EXPORT_SYMBOL_GPL</A>(<A class=xv name=device_create_file></A><A class=xv href="http://172.29.26.110:8080/source/s?refs=device_create_file&amp;project=Linux-v4.7">device_create_file</A>);