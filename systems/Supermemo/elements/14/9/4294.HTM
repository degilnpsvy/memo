In emacs, you can use <SPAN class=cloze>[...]</SPAN>to put a buffer into C++ mode.