<B><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; FONT-FAMILY: Arial; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">8.2.13.3 Guidelines for creating a base protocol target </SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; FONT-FAMILY: Arial; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt"></SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">a) Instantiate one target socket of class <B>tlm_target_socket </B>(or a derived class) for each connection to a memory-mapped bus. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">b) Allow the <B>tlm_target_socket </B>to take the default value <B>tlm_base_protocol_types </B>for the template TYPES argument. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">c) Implement the methods <B>b_transport</B>, <B>nb_transport_fw</B>, <B>get_direct_mem_ptr</B>, and <B>transport_dbg</B>. (A target can avoid the need to implement every method explicitly by using the convenience socket <B>simple_target_socket</B>.) </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">d) In the implementations of the methods <B>b_transport </B>and <B>nb_transport_fw</B>, inspect and act upon the value of every attribute of the generic payload with the exception of the response status, the DMI hint, and any extensions. Rather than implementing the full functionality of the generic payload, a target may choose to respond to a given attribute by generating an error response. Set the value of the response status attribute to indicate the success or failure of the transaction. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">e) Obey the base protocol rules concerning phase sequencing, flow control, timing annotation, and transaction ordering. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">f) In the implementation of <B>get_direct_mem_ptr</B>, either return the value <B>false</B>, or inspect and act upon the values of the command and address attributes of the generic payload and set the return value and all the attributes of the DMI descriptor appropriately (class <B>tlm_dmi</B>). </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">g) In the implementation of <B>transport_dbg</B>, either return the value 0, or inspect and act upon the values of the command, address, data length, and data pointer attributes of the generic payload. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">h) For each interface, the target may inspect and act upon any ignorable extensions in the generic payload, but is not obliged to do so. </SPAN>