drm_gem_get_pages<BR>Prev &nbsp;GEM Function Reference&nbsp; Next<BR>Name</P>
<P>drm_gem_get_pages &#8212; helper to allocate backing pages for a GEM object from shmem<BR>Synopsis<BR>struct page ** drm_gem_get_pages (&nbsp;struct drm_gem_object * obj);<BR>&nbsp;<BR>Arguments</P>
<P>obj</P>
<P>&nbsp;&nbsp;&nbsp; obj in question </P>
<P>Description</P>
<P>This reads the page-array of the shmem-backing storage of the given gem object. An array of pages is returned. If a page is not allocated or swapped-out, this will allocate/swap-in the required pages. Note that the whole object is covered by the page-array and pinned in memory.</P>
<P>Use drm_gem_put_pages to release the array and unpin all pages.</P>
<P>This uses the GFP-mask set on the shmem-mapping (see mapping_set_gfp_mask). If you require other GFP-masks, you have to do those allocations yourself.</P>
<P>Note that you are not allowed to change gfp-zones during runtime. That is, shmem_read_mapping_page_gfp must be called with the same gfp_zone(gfp) as set during initialization. If you have special zone constraints, set them after drm_gem_init_object via mapping_set_gfp_mask. shmem-core takes care to keep pages in the required zone during swap-in.<BR>Prev &nbsp;Up&nbsp; Next<BR>drm_gem_create_mmap_offset &nbsp;Home&nbsp; drm_gem_put_pages