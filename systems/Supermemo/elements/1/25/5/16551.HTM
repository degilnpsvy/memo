<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H1 style="BACKGROUND-IMAGE: url(http://d4bb7yl96lyl1.cloudfront.net/assets/debut_dark.png); BOX-SIZING: border-box; BORDER-BOTTOM: rgb(51,51,51) 1px solid; PADDING-BOTTOM: 30px; LINE-HEIGHT: 46px; BACKGROUND-COLOR: rgb(89,89,89); MARGIN: 0px -296px 40px; PADDING-LEFT: 296px; PADDING-RIGHT: 296px; FONT-FAMILY: heading, Helvetica, sans-serif; BACKGROUND-POSITION: 50% 0%; LETTER-SPACING: -1px; COLOR: rgb(255,255,255); FONT-SIZE: 36px; BORDER-TOP: rgb(0,0,0) 1px dashed; PADDING-TOP: 100px" class=title>Chapter&nbsp;9.&nbsp;Metaprogramming</H1></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px/22px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; MARGIN-BOTTOM: 20px; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=metaprogramming_id1><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming class=indexterm></A>One of the most important mantras of software development is "don&#8217;t repeat yourself." That is, any time you are faced with a problem of creating highly repetitive code (or cutting or pasting source code), it often pays to look for a more elegant solution. In Python, such problems are often solved under the category of "metaprogramming." In a nutshell, metaprogramming is about creating functions and classes whose main goal is to manipulate code (e.g., modifying, generating, or wrapping existing code). The main features for this include decorators, class decorators, and metaclasses. However, a variety of other useful topics&#8212;including signature objects, execution of code with<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>, and inspecting the internals of functions and classes&#8212;enter the picture. The main purpose of this chapter is to explore various metaprogramming techniques and to give examples of how they can be used to customize the behavior of Python to your own whims.</P>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_putting_a_wrapper_around_a_function class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Putting a Wrapper Around a Function</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_144 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=decoratorswrapp><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_wrappers_as class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_functions_wrapper_layers_for class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_decorators class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogrammingfunctionwrappers class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators class=indexterm></A>You want to put a wrapper layer around a function that adds extra processing (e.g., logging, timing, etc.).</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_144 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_ever_nee_id2>If you ever need to wrap a function with extra code, define a decorator function. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_time_fro_id1 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>time</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Decorator that reports the execution time.</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>result</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>result</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_exam_id20>Here is an example of using the decorator:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=timethis__id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Counts down</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>countdown 0.008917808532714844</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>10000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>countdown 0.87188299392912</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_144 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_decorator_is_>A decorator is a function that accepts a function as input and returns a new function as output. Whenever you write code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=timethis_def_c class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=its_the_same_a>it&#8217;s the same as if you had performed these separate steps:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_countdownn_id1 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_an_aside_bu>As an aside, built-in decorators such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763596 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763604 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763612 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@staticmethod</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@classmethod</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@property</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>work in the same way. For example, these two code fragments are equivalent:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_a_class class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Equivalent definition of a class method</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>method</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>classmethod</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_code_inside>The code inside a decorator typically involves creating a new function that accepts any arguments using<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763780 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763788 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE>, as shown with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>wrapper()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function in this recipe. Inside this function, you place a call to the original input function and return its result. However, you also place whatever extra code you want to add (e.g., timing). The newly created function<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>wrapper</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is returned as a result and takes the place of the original function.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=its_critical_t>It&#8217;s critical to emphasize that decorators generally do not alter the calling signature or return value of the function being wrapped. The use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is there to make sure that any input arguments can be accepted. The return value of a decorator is almost always the result of calling<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>func(*args, **kwargs)</CODE>, where<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>func</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is the original unwrapped function.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=when_first_lear>When first learning about decorators, it is usually very easy to get started with some simple examples, such as the one shown. However, if you are going to write decorators for real, there are some subtle details to consider. For example, the use of the decorator<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps(func)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>in the solution is an easy to forget but important technicality related to preserving function metadata, which is described in the next recipe. The next few recipes that follow fill in some details that will be important if you wish to write decorator functions of your own.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763873 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763883 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763893 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id763903 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=decoratormeta class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Preserving Function Metadata When Writing Decorators</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_145 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=wraps_decorato_id1><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_wraps_decorator_functools_module_functionmetadata class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_preservingfunctionmetadata_in class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogrammingfunctionmetadata_in_decorators class=indexterm></A>You&#8217;ve written a decorator, but when you apply it to a function, important metadata such as the name, doc string, annotations, and calling signature are lost.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_145 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=whenever_you_de>Whenever you define a decorator, you should always remember to apply the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator from the<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>functools</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>library to the underlying wrapper function. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_time_fro_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>time</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Decorator that reports the execution time.</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>result</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>result</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_exam_id21>Here is an example of using the decorator and examining the resulting function metadata:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=timethis__id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Counts down</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>countdown 0.008917808532714844</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'countdown'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__doc__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'\n\tCounts down\n\t'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__annotations__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>{'n': &lt;class 'int'&gt;}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_145 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=copying_decorat>Copying decorator metadata is an important part of writing decorators. If you forget to use<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE>, you&#8217;ll find that the decorated function loses all sorts of useful information. For instance, if omitted, the metadata in the last example would look like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=countdown__id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'wrapper'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__doc__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__annotations__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>{}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=an_important_fe_id1>An important feature of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator is that it makes the wrapped function available to you in the<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id764699 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id764707 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute. For example, if you want to access the wrapped function directly, you could do this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=countdown__id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__wrapped__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_presence_of>The presence of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute also makes decorated functions properly expose the underlying signature of the wrapped function. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspec_id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(n:int)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_common_ques>One common question that sometimes arises is how to make a decorator that directly copies the calling signature of the original function being wrapped (as opposed to using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE>). In general, this is difficult to implement without resorting to some trick involving the generator of code strings and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>. Frankly, you&#8217;re usually best off using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and relying on the fact that the underlying function signature can be propagated by access to the underlying<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute. See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Enforcing an Argument Signature on *args and **kwargs" href="about:ch09.html#signatures">&#8220;Enforcing an Argument Signature on *args and **kwargs&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for more information about signatures.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id764903 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id764914 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id764924 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_unwrapping_a_decorator class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Unwrapping a Decorator</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_146 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=wraps_decorato_id2><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_wraps_decorator_functools_module_unwrapping class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_unwrapping class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_decorators_unwrapping class=indexterm></A>A decorator has been applied to a function, but you want to "undo" it, gaining access to the original unwrapped function.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_146 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=assuming_that_t>Assuming that the decorator has been implemented properly using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Preserving Function Metadata When Writing Decorators" href="about:ch09.html#decoratormeta">&#8220;Preserving Function Metadata When Writing Decorators&#8221;</A>), you can usually gain access to the original function by accessing the<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=somedecora class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@somedecorator</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_add</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__wrapped__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>7</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_146 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=gaining_direct_>Gaining direct access to the unwrapped function behind a decorator can be useful for debugging, introspection, and other operations involving functions. However, this recipe only works if the implementation of a decorator properly copies metadata using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>from the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>functools</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module or sets the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute directly.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_multiple_dec>If multiple decorators have been applied to a function, the behavior of accessing<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is currently undefined and should probably be avoided. In Python 3.3, it bypasses all of the layers. For example, suppose you have code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id5 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorator1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Decorator 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorator2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Decorator 2'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@decorator1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@decorator2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_what_ha_id1>Here is what happens when you call the decorated function and the original function through<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__wrapped__</CODE>:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=add__d class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Decorator 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Decorator 2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__wrapped__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=however_this_b>However, this behavior has been reported as a bug (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://bugs.python.org/issue17482" target=_top>http://bugs.python.org/issue17482</A>) and may be changed to explose the proper decorator chain in a future release.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=last_but_not_l_id15>Last, but not least, be aware that not all decorators utilize<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@wraps</CODE>, and thus, they may not work as described. In particular, the built-in decorators<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id765795 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id765805 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@staticmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@classmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>create descriptor objects that don&#8217;t follow this convention (instead, they store the original function in a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__func__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute). Your mileage may vary.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id765836 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id765846 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id765856 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_defining_a_decorator_that_takes_arguments class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining a Decorator That Takes Arguments</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_147 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=decoratorswith_><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_with_arguments class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_decorators_with_arguments class=indexterm></A>You want to write a decorator function that takes arguments.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_147 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=lets_illustrat>Let&#8217;s illustrate the process of accepting arguments with an example. Suppose you want to write a decorator that adds logging to a function, but allows the user to specify the logging level and other details as arguments. Here is how you might define the decorator:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id6 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>logging</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Add logging to a function.  level is the logging</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    level, name is the logger name, and message is the</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    log message.  If name and message aren't specified,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    they default to the function's module and name.</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logname</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__module__</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>getLogger</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>decorate</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>DEBUG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CRITICAL</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'example'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=on_first_glance>On first glance, the implementation looks tricky, but the idea is relatively simple. The outermost function<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>logged()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>accepts the desired arguments and simply makes them available to the inner functions of the decorator. The inner function<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>decorate()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>accepts a function and puts a wrapper around it as normal. The key part is that the wrapper is allowed to use the arguments passed to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>logged()</CODE>.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_147 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=writing_a_decor>Writing a decorator that takes arguments is tricky because of the underlying calling sequence involved. Specifically, if you have code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=decoratorx_y class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@decorator</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_decoration_>The decoration process evaluates as follows:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_funca_b class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>decorator</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=carefully_obser_id3>Carefully observe that the result of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>decorator(x, y, z)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>must be a callable which, in turn, takes a function as input and wraps it. See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Enforcing Type Checking on a Function Using a Decorator" href="about:ch09.html#typeassertdecorator">&#8220;Enforcing Type Checking on a Function Using a Decorator&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for another example of a decorator taking arguments.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id766795 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id766805 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=decorator_parms class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining a Decorator with User Adjustable Attributes</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_148 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=accessor_functi_id2><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_accessor_functions_adjusting_decorators_with class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_adjustable_attributes_for class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_adjustable_attributes class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_nonlocal_declarations_adjusting_decorators_with class=indexterm></A>You want to write a decorator function that wraps a function, but has user adjustable attributes that can be used to control the behavior of the decorator at runtime.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_148 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_a_solut>Here is a solution that expands on the last recipe by introducing accessor functions that change internal variables through the use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>nonlocal</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>variable declarations. The accessor functions are then attached to the wrapper function as function attributes.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id7 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>logging</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Utility decorator to attach a function as an attribute of obj</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>attach_wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>obj</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>attach_wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>obj</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>setattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>obj</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Add logging to a function.  level is the logging</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    level, name is the logger name, and message is the</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    log message.  If name and message aren't specified,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    they default to the function's module and name.</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logname</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__module__</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>getLogger</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Attach setter functions</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@attach_wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>set_level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>newlevel</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>nonlocal</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>newlevel</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@attach_wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>set_message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>newmsg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>nonlocal</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>newmsg</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>decorate</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>DEBUG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CRITICAL</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'example'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_inte_id3>Here is an interactive session that shows the various attributes being changed after definition:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_logg_id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>logging</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>basicConfig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>DEBUG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>DEBUG:__main__:add</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Change the log message</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>set_message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Add called'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>DEBUG:__main__:Add called</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Change the log level</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>set_level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>WARNING</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>WARNING:__main__:Add called</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_148 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_key_to_this_id1>The key to this recipe lies in the accessor functions [e.g.,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>set_message()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>set_level()</CODE>] that get attached to the wrapper as attributes. Each of these accessors allows internal parameters to be adjusted through the use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>nonlocal</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>assignments.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=an_amazing_feat>An amazing feature of this recipe is that the accessor functions will propagate through multiple levels of decoration (if all of your decorators utilize<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@functools.wraps</CODE>). For example, suppose you introduced an additional decorator, such as the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@timethis</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator from<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Preserving Function Metadata When Writing Decorators" href="about:ch09.html#decoratormeta">&#8220;Preserving Function Metadata When Writing Decorators&#8221;</A>, and wrote code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=timethis_logg class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>DEBUG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=youll_find_tha>You&#8217;ll find that the accessor methods still work:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=countdown class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>10000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>DEBUG:__main__:countdown</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>countdown 0.8198461532592773</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>set_level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>WARNING</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>set_message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>"Counting down to zero"</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>10000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>WARNING:__main__:Counting down to zero</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>countdown 0.8225970268249512</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=youll_also_fin>You&#8217;ll also find that it all still works exactly the same way if the decorators are composed in the opposite order, like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=loggedlogging class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>DEBUG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=although_its_n_id2>Although it&#8217;s not shown, accessor functions to return the value of various settings could also be written just as easily by adding extra code such as this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=attach_wra class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@attach_wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>get_level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Alternative</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>get_level</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>lambda</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_extremely_s>One extremely subtle facet of this recipe is the choice to use accessor functions in the first place. For example, you might consider an alternative formulation solely based on direct access to function attributes like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=wrapsfunc class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Attach adjustable attributes</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_approach_w>This approach would work to a point, but only if it was the topmost decorator. If you had another decorator applied on top (such as the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@timethis</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>example), it would shadow the underlying attributes and make them unavailable for modification. The use of accessor functions avoids this limitation.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=last_but_not_l_id16>Last, but not least, the solution shown in this recipe might be a possible alternative for decorators defined as classes, as shown in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Defining Decorators As Classes" href="about:ch09.html#decoratorasclass">&#8220;Defining Decorators As Classes&#8221;</A>.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id768987 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id768997 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id769007 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id769018 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_defining_a_decorator_that_takes_an_optional_argument class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining a Decorator That Takes an Optional Argument</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_149 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=decoratorsoptio><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_optional_arguments_for class=indexterm></A>You would like to write a single decorator that can be used without arguments, such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@decorator</CODE>, or with optional arguments, such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@decorator(x,y,z)</CODE>. However, there seems to be no straightforward way to do it due to differences in calling conventions between simple decorators and decorators taking arguments.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_149 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_a_varia>Here is a variant of the logging code shown in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Defining a Decorator with User Adjustable Attributes" href="about:ch09.html#decorator_parms">&#8220;Defining a Decorator with User Adjustable Attributes&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>that defines such a decorator:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id8 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>logging</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>DEBUG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logname</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__module__</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>getLogger</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>message</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>log</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logmsg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CRITICAL</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'example'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_you_can_see__id3>As you can see from the example, the decorator can be used in both a simple form (i.e.,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@logged</CODE>) or with optional arguments supplied (i.e.,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@logged(level=logging.CRITICAL, name='example')</CODE>).</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_149 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_problem_add_id4>The problem addressed by this recipe is really one of programming consistency. When using decorators, most programmers are used to applying them without any arguments at all or with arguments, as shown in the example. Technically speaking, a decorator where all arguments are optional could be applied, like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=logged_def_a class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=however_this_i>However, this is not a form that&#8217;s especially common, and might lead to common usage errors if programmers forget to add the extra parentheses. The recipe simply makes the decorator work with or without parentheses in a consistent way.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_understand_h>To understand how the code works, you need to have a firm understanding of how decorators get applied to functions and their calling conventions. For a simple decorator such as this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=example_use_ class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_calling_seq_id1>The calling sequence is as follows:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_addx_y__id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_case_t_id2>In this case, the function to be wrapped is simply passed to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>logged</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>as the first argument. Thus, in the solution, the first argument of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>logged()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is the function being wrapped. All of the other arguments must have default values.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=for_a_decorator>For a decorator taking arguments such as this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=loggedlevell class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CRITICAL</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'example'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_calling_seq_id2>The calling sequence is as follows:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_spam_pri class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logged</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>level</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CRITICAL</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'example'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=on_the_initial_>On the initial invocation of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>logged()</CODE>, the function to be wrapped is not passed. Thus, in the decorator, it has to be optional. This, in turn, forces the other arguments to be specified by keyword. Furthermore, when arguments are passed, a decorator is supposed to return a function that accepts the function and wraps it (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Defining a Decorator with User Adjustable Attributes" href="about:ch09.html#decorator_parms">&#8220;Defining a Decorator with User Adjustable Attributes&#8221;</A>). To do this, the solution uses a clever trick involving<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id770346 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>functools.partial</CODE>. Specifically, it simply returns a partially applied version of itself where all arguments are fixed except for the function to be wrapped. See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Making an N-Argument Callable Work As a Callable with Fewer Arguments" href="about:ch07.html#partial">&#8220;Making an N-Argument Callable Work As a Callable with Fewer Arguments&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for more details about using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>partial()</CODE>.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id770372 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=typeassertdecorator class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Enforcing Type Checking on a Function Using a Decorator</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_150 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=decoratorsforci><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_forcing_type_checking_with class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_type_checking_data_forcing_with_decorator_functions class=indexterm></A>You want to optionally enforce type checking of function arguments as a kind of assertion or contract.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_150 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=before_showing_>Before showing the solution code, the aim of this recipe is to have a means of enforcing type contracts on the input arguments to a function. Here is a short example that illustrates the idea:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=typeassert_id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@typeassert</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"contract.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>33</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Argument y must be &lt;class 'int'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=now_here_is_an>Now, here is an implementation of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@typeassert</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspect_im_id1 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>typeassert</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ty_args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ty_kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># If in optimized mode, disable type checking</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__debug__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Map function argument names to supplied types</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind_partial</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ty_args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ty_kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Enforce type assertions across supplied arguments</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]):</CODE>
                      <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE>
                        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Argument {} must be {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>])</CODE>
                        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>decorate</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=you_will_find_t_id1>You will find that this decorator is rather flexible, allowing types to be specified for all or a subset of a function&#8217;s arguments. Moreover, types can be specified by position or by keyword. Here is an example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=typeassert_id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@typeassert</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1 2 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1 hello 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'world'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"contract.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>33</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Argument z must be &lt;class 'int'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_150 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_recipe_is__id5>This recipe is an advanced decorator example that introduces a number of important and useful concepts.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=first_one_aspe>First, one aspect of decorators is that they only get applied once, at the time of function definition. In certain cases, you may want to disable the functionality added by a decorator. To do this, simply have your decorator function return the function unwrapped. In the solution, the following code fragment returns the function unmodified if the value of the global<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id771706 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__debug__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>variable is set to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>False</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(as is the case when Python executes in optimized mode with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id771726 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id771732 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>-O</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>-OO</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>options to the interpreter):</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_decorat class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># If in optimized mode, disable type checking</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__debug__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=sig_modulenext><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_sig_module class=indexterm></A>Next, a tricky part of writing this decorator is that it involves examining and working with the argument signature of the function being wrapped. Your tool of choice here should be the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id771848 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>inspect.signature()</CODE>function. Simply stated, it allows you to extract signature information from a callable. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspec_id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(x, y, z=42)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>mappingproxy(OrderedDict([('x', &lt;Parameter at 0x10077a050 'x'&gt;),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>('y', &lt;Parameter at 0x10077a158 'y'&gt;), ('z', &lt;Parameter at 0x10077a1b0 'z'&gt;)]))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'z'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'z'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'z'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>default</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>42</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'z'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kind</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;_ParameterKind: 'POSITIONAL_OR_KEYWORD'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_the_first_pa>In the first part of our decorator, we use the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id772202 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>bind_partial()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method of signatures to perform a partial binding of the supplied types to argument names. Here is an example of what happens:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=bound_types class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind_partial</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;inspect.BoundArguments object at 0x10069bb50&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>OrderedDict([('x', &lt;class 'int'&gt;), ('z', &lt;class 'int'&gt;)])</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_partial>In this partial binding, you will notice that missing arguments are simply ignored (i.e., there is no binding for argument<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>y</CODE>). However, the most important part of the binding is the creation of the ordered dictionary<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>bound_types.arguments</CODE>. This dictionary maps the argument names to the supplied values in the same order as the function signature. In the case of our decorator, this mapping contains the type assertions that we&#8217;re going to enforce.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_the_actual_w>In the actual wrapper function made by the decorator, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id772357 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>sig.bind()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method is used.<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>bind()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is like<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>bind_partial()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>except that it does not allow for missing arguments. So, here is what happens:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=bound_value class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>OrderedDict([('x', 1), ('y', 2), ('z', 3)])</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=using_this_mapp>Using this mapping, it is relatively easy to enforce the required assertions.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=for_name_v class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_somewhat_subt>A somewhat subtle aspect of the solution is that the assertions do not get applied to unsupplied arguments with default values. For example, this code works, even though the default value of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>items</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is of the "wrong" type:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=typeassert_id3 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@typeassert</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>list</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>[2]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"contract.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>33</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Argument items must be &lt;class 'list'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>])</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>[1, 2, 3, 4]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_final_point_o>A final point of design discussion might be the use of decorator arguments versus function annotations. For example, why not write the decorator to look at annotations like this?</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=typeassert_def class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@typeassert</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_possible_re>One possible reason for not using annotations is that each argument to a function can only have a single annotation assigned. Thus, if the annotations are used for type assertions, they can&#8217;t really be used for anything else. Likewise, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@typeassert</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator won&#8217;t work with functions that use annotations for a different purpose. By using decorator arguments, as shown in the solution, the decorator becomes a lot more general purpose and can be used with any function whatsoever&#8212;even functions that use<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>annotations</SPAN>.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=more_informatio_id1>More information about function signature objects can be found in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://www.python.org/dev/peps/pep-0362" target=_top>PEP 362</A>, as well as the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://docs.python.org/3/library/inspect.html" target=_top>documentation for the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>inspect</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module</A>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Enforcing an Argument Signature on *args and **kwargs" href="about:ch09.html#signatures">&#8220;Enforcing an Argument Signature on *args and **kwargs&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>also has an additional example.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id773238 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id773247 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id773258 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_defining_decorators_as_part_of_a_class class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining Decorators As Part of a Class</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_151 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=classesdecorato><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classes_decorators_defining_in class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_defining_in_classes class=indexterm></A>You want to define a decorator inside a class definition and apply it to other functions or methods.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_151 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=defining_a_deco_id1>Defining a decorator inside a class is straightforward, but you first need to sort out the manner in which the decorator will be applied. Specifically, whether it is applied as an instance or a class method. Here is an example that illustrates the difference:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id9 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Decorator as an instance method</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorator1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Decorator 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Decorator as a class method</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>decorator2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Decorator 2'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_exam_id22>Here is an example of how the two decorators would be applied:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=as_an_instanc class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># As an instance method</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@a.decorator1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># As a class method</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@A.decorator2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>grok</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_look_car>If you look carefully, you&#8217;ll notice that one is applied from an instance<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>a</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and the other is applied from the class<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>A</CODE>.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_151 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=defining_decora>Defining decorators in a class might look odd at first glance, but there are examples of this in the standard library. In particular, the built-in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id773860 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@property</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator is actually a class with<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>getter()</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>setter()</CODE>, and<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>deleter()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>methods that each act as a decorator. For<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>example:</SPAN></P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_person_ class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Person</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Create a property instance</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>first_name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Apply decorator methods</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@first_name.getter</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>first_name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_first_name</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@first_name.setter</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>first_name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Expected a string'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_first_name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_key_reason_>The key reason why it&#8217;s defined in this way is that the various decorator methods are manipulating state on the associated<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>property</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instance. So, if you ever had a problem where decorators needed to record or combine information behind the scenes, it&#8217;s a sensible approach.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_common_confus>A common confusion when writing decorators in classes is getting tripped up by the proper use of the extra<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>cls</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>arguments in the decorator code itself. Although the outermost decorator function, such as<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>decorator1()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>decorator2()</CODE>, needs to provide a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>cls</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument (since they&#8217;re part of a class), the wrapper function created inside doesn&#8217;t generally need to include an extra argument. This is why the<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>wrapper()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function created in both decorators doesn&#8217;t include a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument. The only time you would ever need this argument is in situations where you actually needed to access parts of an instance in the wrapper. Otherwise, you just don&#8217;t have to worry about it.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=inheritanceclas_id1><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id774208 class=indexterm></A>A final subtle facet of having decorators defined in a class concerns their potential use with inheritance. For example, suppose you want to apply one of the decorators defined in class<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>A</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to methods defined in a subclass<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>B</CODE>. To do that, you would need to write code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_ba_a class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@A.decorator2</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_particular_>In particular, the decorator in question has to be defined as a class method and you have to explicitly use the name of the superclass<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>A</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>when applying it. You can&#8217;t use a name such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@B.decorator2</CODE>, because at the time of method definition, class<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>B</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>has not yet been created.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id774322 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id774332 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=decoratorasclass class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining Decorators As Classes</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_152 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=_call___meth><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_call_method_metaclasses class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_get_method class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classes_defining_decorators_as class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_defining_as_class class=indexterm></A>You want to wrap functions with a decorator, but the result is going to be a callable instance. You need your decorator to work both inside and outside class definitions.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_152 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_define_a_dec>To define a decorator as an instance, you need to make sure it implements the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__call__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE>methods. For example, this code defines a class that puts a simple profiling layer around another function:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_types_fr_id1 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Profiled</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__wrapped__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__get__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MethodType</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_use_this_cla_id5>To use this class, you use it like a normal decorator, either inside or outside of a class:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=profiled_def_a class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@Profiled</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@Profiled</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_inte_id4>Here is an interactive session that shows how these functions work:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=add___id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>5</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>9</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;__main__.Spam object at 0x10069e9d0&gt; 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;__main__.Spam object at 0x10069e9d0&gt; 2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;__main__.Spam object at 0x10069e9d0&gt; 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>3</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_152 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=defining_a_deco_id2>Defining a decorator as a class is usually straightforward. However, there are some rather subtle details that deserve more explanation, especially if you plan to apply the decorator to instance methods.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=first_the_use__id1>First, the use of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>functools.wraps()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function serves the same purpose here as it does in normal decorators&#8212;namely to copy important metadata from the wrapped function to the callable instance.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=second_it_is_c>Second, it is common to overlook the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method shown in the solution. If you omit the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE>and keep all of the other code the same, you&#8217;ll find that bizarre things happen when you try to invoke decorated instance methods. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__spam__id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError: spam() missing 1 required positional argument</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>'x'</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_reason_it_b>The reason it breaks is that whenever functions implementing methods are looked up in a class, their<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method is invoked as part of the descriptor protocol, which is described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Creating a New Kind of Class or Instance Attribute" href="about:ch08.html#descriptors">&#8220;Creating a New Kind of Class or Instance Attribute&#8221;</A>. In this case, the purpose of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is to create a bound method object (which ultimately supplies the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument to the method). Here is an example that illustrates the underlying mechanics:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__spam__id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>grok</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>grok</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__get__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;bound method Spam.grok of &lt;__main__.Spam object at 0x100671e90&gt;&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_recipe_id2>In this recipe, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method is there to make sure bound method objects get created properly.<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>type.MethodType()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>creates a bound method manually for use here. Bound methods only get created if an instance is being used. If the method is accessed on a class, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>instance</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is set to<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>None</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>Profiled</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instance itself is just returned. This makes it possible for someone to extract its<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>ncalls</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute, as shown.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_want_to__id21>If you want to avoid some of this of this mess, you might consider an alternative formulation of the decorator using closures and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>nonlocal</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>variables, as described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Defining a Decorator with User Adjustable Attributes" href="about:ch09.html#decorator_parms">&#8220;Defining a Decorator with User Adjustable Attributes&#8221;</A>. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_types_fr_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>profiled</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>nonlocal</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>lambda</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@profiled</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_example_al>This example almost works in exactly the same way except that access to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>ncalls</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is now provided through a function attached as a function attribute. For example<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id775989 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id775999 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id776009 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id776019 class=indexterm></A>:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=add___id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>5</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>9</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ncalls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_applying_decorators_to_class_and_static_methods class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Applying Decorators to Class and Static Methods</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_153 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=classmethod_de><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classmethod_decorator_decorating_class_methods_and class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_staticmethod_decorator_decorating_static_methods_and class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_class_methods_applying_to class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_static_methods_applying_to class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_static_methods_applying_decorators_to class=indexterm></A>You want to apply a decorator to a class or static method.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_153 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=applying_decora>Applying decorators to class and static methods is straightforward, but make sure that your decorators are applied before<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@classmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@staticmethod</CODE>. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_time_fro_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>time</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># A simple decorator</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>r</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>r</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Class illustrating application of the decorator to different kinds of methods</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>instance_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>class_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@staticmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>static_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_resulting_c>The resulting class and static methods should operate normally, but have the extra<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>timing:</SPAN></P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__spam__id3 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;__main__.Spam object at 0x1006a6050&gt; 1000000</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>0.11817407608032227</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>class_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;class '__main__.Spam'&gt; 1000000</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>0.11334395408630371</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>static_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1000000</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>0.11740279197692871</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_153 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_get_the_>If you get the order of decorators wrong, you&#8217;ll get an error. For example, if you use the following:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spam_ class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@timethis</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@staticmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>static_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=then_the_static>Then the static method will crash:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=spamstatic class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>static_method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1000000</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"timethis.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>6</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>'staticmethod' object is not callable</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_problem_her_id3>The problem here is that<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@classmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@staticmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>don&#8217;t actually create objects that are directly callable. Instead, they create special descriptor objects, as described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Creating a New Kind of Class or Instance Attribute" href="about:ch08.html#descriptors">&#8220;Creating a New Kind of Class or Instance Attribute&#8221;</A>. Thus, if you try to use them like functions in another decorator, the decorator will crash. Making sure that these decorators appear first in the decorator list fixes the problem.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_situation_w>One situation where this recipe is of critical importance is in defining class and static methods in abstract base classes, as described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Defining an Interface or Abstract Base Class" href="about:ch08.html#abc">&#8220;Defining an Interface or Abstract Base Class&#8221;</A>. For example, if you want to define an abstract class method, you can use this code:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_abc_import_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>abc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ABCMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>abstractmethod</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ABCMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@abstractmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>method</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_code_t_id5>In this code, the order of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@classmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@abstractmethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>matters. If you flip the two decorators around, everything breaks.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id777504 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id777515 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id777525 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id777535 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id777545 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=decoratoraddarg class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Writing Decorators That Add Arguments to Wrapped Functions</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_154 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=decoratorsaddin><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_adding_functions_arguments_with class=indexterm></A>You want to write a decorator that adds an extra argument to the calling signature of the wrapped function. However, the added argument can&#8217;t interfere with the existing calling conventions of the function.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_154 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=extra_arguments>Extra arguments can be injected into the calling signature using keyword-only arguments. Consider the following decorator:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id10 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>optional_debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Calling'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_exam_id23>Here is an example of how the decorator works:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=optional_d_id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@optional_debug</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1 2 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Calling spam</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1 2 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_154 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=adding_argument>Adding arguments to the signature of wrapped functions is not the most common example of using decorators. However, it might be a useful technique in avoiding certain kinds of code replication patterns. For example, if you have code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_ax_debug class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Calling a'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Calling b'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Calling c'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=you_can_refacto>You can refactor it into the following:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=optional_debug class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@optional_debug</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@optional_debug</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@optional_debug</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=kwargswrapped><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id778519 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id778527 class=indexterm></A>The implementation of this recipe relies on the fact that keyword-only arguments are easy to add to functions that also accept<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>parameters. By using a keyword-only argument, it gets singled out as a special case and removed from subsequent calls that only use the remaining positional and keyword arguments.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_tricky_part_id1>One tricky part here concerns a potential name clash between the added argument and the arguments of the function being wrapped. For example, if the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@optional_debug</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>decorator was applied to a function that already had a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>debug</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument, then it would break. If that&#8217;s a concern, an extra check could be added:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id11 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>optional_debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'debug'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>getargspec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'debug argument already defined'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Calling'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_final_refinem>A final refinement to this recipe concerns the proper management of function signatures. An astute programmer will realize that the signature of wrapped functions is wrong. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=optional_d_id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@optional_debug</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(x, y)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_can_be_fix>This can be fixed by making the following modification:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id12 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wraps</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>optional_debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'debug'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>getargspec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'debug argument already defined'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@wraps</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Calling'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>list</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>())</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'debug'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
                                   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>KEYWORD_ONLY</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
                                   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>default</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__signature__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>replace</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>wrapper</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=with_this_chang>With this change, the signature of the wrapper will now correctly reflect the presence of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>debug</CODE>argument. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=optional_d_id3 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@optional_debug</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(x, y, *, debug=False)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=see_for_more_in_id1>See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Enforcing an Argument Signature on *args and **kwargs" href="about:ch09.html#signatures">&#8220;Enforcing an Argument Signature on *args and **kwargs&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for more information about function signatures.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id779804 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=classdecorator class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Using Decorators to Patch Class Definitions</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_155 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=class_decorator_id4><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_class_decorators class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_decorators_patching_classes_with class=indexterm></A>You want to inspect or rewrite portions of a class definition to alter its behavior, but without using inheritance or metaclasses.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_155 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_might_be_a>This might be a perfect use for a class decorator. For example, here is a class decorator that rewrites the<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__getattribute__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>special method to perform logging.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_log_getattr class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>log_getattribute</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Get the original implementation</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_getattribute</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__getattribute__</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Make a new definition</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>new_getattribute</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'getting:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_getattribute</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Attach to the class and return</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__getattribute__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>new_getattribute</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@log_getattribute</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_what_ha_id2>Here is what happens if you try to use the class in the solution:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=a__a__id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>getting: x</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>42</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>getting: spam</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_155 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=class_decorator_id5>Class decorators can often be used as a straightforward alternative to other more advanced techniques involving mixins or metaclasses. For example, an alternative implementation of the solution might involve inheritance, as in the following:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_loggedget class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>LoggedGetattribute</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__getattribute__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'getting:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__getattribute__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LoggedGetattribute</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=inheritanceclas_id2><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780564 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780571 class=indexterm></A>This works, but to understand it, you have to have some awareness of the method resolution order,<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>super()</CODE>, and other aspects of inheritance, as described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Calling a Method on a Parent Class" href="about:ch08.html#super">&#8220;Calling a Method on a Parent Class&#8221;</A>. In some sense, the class decorator solution is much more direct in how it operates, and it doesn&#8217;t introduce new dependencies into the inheritance hierarchy. As it turns out, it&#8217;s also just a bit faster, due to not relying on the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>super()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_are_appl>If you are applying multiple class decorators to a class, the application order might matter. For example, a decorator that replaces a method with an entirely new implementation would probably need to be applied before a decorator that simply wraps an existing method with some extra logic.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=see_for_another_id2>See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Implementing a Data Model or Type System" href="about:ch08.html#datamodel">&#8220;Implementing a Data Model or Type System&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for another example of class decorators in action.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780626 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780635 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780644 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780654 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=metacreational class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Using a Metaclass to Control Instance Creation</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_156 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=instancescreati><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_instances_creation_controlling_with_metaclasses class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaclasses_instance_creation_controlling_with class=indexterm></A>You want to change the way in which instances are created in order to implement singletons, caching, or other similar features.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_156 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_python_progr>As Python programmers know, if you define a class, you call it like a function to create instances. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spam_def_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Guido'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Diana'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_want_to__id22>If you want to customize this step, you can do it by defining a metaclass and reimplementing its<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id780882 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__call__()</CODE>method in some way. To illustrate, suppose that you didn&#8217;t want anyone creating instances at all:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_noinstanc class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>NoInstances</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>"Can't instantiate directly"</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>NoInstances</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@staticmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>grok</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam.grok'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_case_u>In this case, users can call the defined static method, but it&#8217;s impossible to create an instance in the normal way. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=spamgrok class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>grok</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Spam.grok</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"example1.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>7</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>"Can't instantiate directly"</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Can't instantiate directly</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=now_suppose_yo_id1>Now, suppose you want to implement the singleton pattern (i.e., a class where only one instance is ever created). That is also relatively straightforward, as shown here:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_singleton class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Singleton</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__instance</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__instance</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Singleton</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Creating Spam'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_case_o>In this case, only one instance ever gets created. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=a__spam_ class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Creating Spam</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>True</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>True</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=finally_suppos>Finally, suppose you want to create<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id781846 class=indexterm></A>cached instances, as described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Creating Cached Instances" href="about:ch08.html#caching">&#8220;Creating Cached Instances&#8221;</A>. Here&#8217;s a metaclass that implements it:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_weakref__id4 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>weakref</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Cached</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__cache</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>weakref</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>WeakValueDictionary</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__cache</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__cache</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>obj</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__cache</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>obj</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>obj</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Cached</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Creating Spam({!r})'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=heres_an_examp_id2>Here&#8217;s an example showing the behavior of this class:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=a__spamg class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Guido'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Creating Spam('Guido')</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Diana'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Creating Spam('Diana')</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Guido'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>       <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Cached</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>False</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE>                  <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Cached value returned</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>True</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_156 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=using_a_metacla>Using a metaclass to implement various instance creation patterns can often be a much more elegant approach than other solutions not involving metaclasses. For example, if you didn&#8217;t use a metaclass, you might have to hide the classes behind some kind of extra factory function. For example, to get a singleton, you might use a hack such as the following:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class__spam_de class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>_Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Creating Spam'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_spam_instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>global</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_spam_instance</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_spam_instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_spam_instance</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_spam_instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_spam_instance</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=although_the_so>Although the solution involving metaclasses involves a much more advanced concept, the resulting code feels cleaner and less hacked together.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=see_for_more_in_id2>See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Creating Cached Instances" href="about:ch08.html#caching">&#8220;Creating Cached Instances&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for more information on creating cached instances, weak references, and other details.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id782798 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id782808 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=definitionorder class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Capturing Class Attribute Definition Order</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_157 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=classesattribut><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classes_attribute_definition_order class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaclasses_attribute_definition_order_capturing_with class=indexterm></A>You want to automatically record the order in which attributes and methods are defined inside a class body so that you can use it in various operations (e.g., serializing, mapping to databases, etc.).</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_157 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=capturing_infor>Capturing information about the body of class definition is easily accomplished through the use of a metaclass. Here is an example of a metaclass that uses an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>OrderedDict</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to capture definition order of descriptors:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_collection_id14 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>collections</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>OrderedDict</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># A set of descriptors for various types</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Typed</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_expected_type</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__set__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Expected '</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__dict__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Integer</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Typed</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_expected_type</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Float</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Typed</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_expected_type</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>float</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>String</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Typed</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_expected_type</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Metaclass that uses an OrderedDict for class body</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>OrderedMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>order</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[]</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Typed</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>order</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'_order'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>order</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__prepare__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>OrderedDict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_metacla>In this metaclass, the definition order of descriptors is captured by using an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>OrderedDict</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>during the execution of the class body. The resulting order of names is then extracted from the dictionary and stored into a class attribute<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>_order</CODE>. This can then be used by methods of the class in various ways. For example, here is a simple class that uses the ordering to implement a method for serializing the instance data as a line of CSV data:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_structure_id6 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>OrderedMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>as_csv</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>','</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>join</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>getattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_order</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>String</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Integer</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Float</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_inte_id5>Here is an interactive session illustrating the use of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>Stock</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>class in the example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__stock_id4 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'GOOG'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>490.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'GOOG'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>as_csv</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'GOOG,100,490.1'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>t</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'AAPL'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'a lot'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>610.23</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"dupmethod.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>34</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares expects &lt;class 'int'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_157 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_entire_key_>The entire key to this recipe is the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id784392 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id784400 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method, which is defined in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>OrderedMeta</CODE></SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>metaclass. This method is invoked immediately at the start of a class definition with the class name and base classes. It must then return a mapping object to use when processing the class body. By returning an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>OrderedDict</CODE>instead of a normal dictionary, the resulting definition order is easily captured.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=it_is_possible_>It is possible to extend this functionality even further if you are willing to make your own dictionary-like objects. For example, consider this variant of the solution that rejects duplicate definitions:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_collection_id15 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>collections</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>OrderedDict</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>NoDupOrderedDict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>OrderedDict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__setitem__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'{} already defined in {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__setitem__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>OrderedMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'_order'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>!=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'_'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__prepare__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>NoDupOrderedDict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=heres_what_hap>Here&#8217;s what happens if you use this metaclass and make a class with duplicate entries:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_amet class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>OrderedMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>4</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"dupmethod2.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>25</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__setitem__</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>spam already defined in A</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_final_importa>A final important part of this recipe concerns the treatment of the modified dictionary in the metaclass<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method. Even though the class was defined using an alternative dictionary, you still have to convert this dictionary to a proper<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>dict</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instance when making the final class object. This is the purpose of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>d = dict(clsdict)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=mappingsclass_d><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id785340 class=indexterm></A>Being able to capture definition order is a subtle but important feature for certain kinds of applications. For instance, in an object relational mapper, classes might be written in a manner similar to that shown in the example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_stockmod class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Model</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>String</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Integer</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Float</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=underneath_the_>Underneath the covers, the code might want to capture the definition order to map objects to tuples or rows in a database table (e.g., similar to the functionality of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>as_csv()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method in the example). The solution shown is very straightforward and often simpler than alternative approaches (which typically involve maintaining hidden counters within the descriptor classes).<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id785459 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id785469 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_defining_a_metaclass_that_takes_optional_arguments class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining a Metaclass That Takes Optional Arguments</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_158 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=classesstatemen><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classes_statements_metaclass_keyword_in class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_keyword_arguments_for_metaclasses class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaclass_keyword_class_statement class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaclasses_optional_arguments_for class=indexterm></A>You want to define a metaclass that allows class definitions to supply optional arguments, possibly to control or configure aspects of processing during type creation.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_158 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=when_defining_c_id1>When defining classes, Python allows a metaclass to be specified using the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>metaclass</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>keyword argument in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>class</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement. For example, with abstract base classes:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_abc_import_id4 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>abc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ABCMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>abstractmethod</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>IStream</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ABCMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@abstractmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>read</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>maxsize</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@abstractmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>write</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>data</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=however_in_cus>However, in custom metaclasses, additional keyword arguments can be supplied, like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spammeta_id1 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MyMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>synchronize</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_support_such>To support such keyword arguments in a metaclass, make sure you define them on the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE>,<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>methods using keyword-only arguments, like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_mymetaty_id1 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MyMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Optional</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__prepare__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>synchronize</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Custom processing</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__prepare__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Required</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>synchronize</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Custom processing</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Required</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>synchronize</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Custom processing</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_158 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=adding_optional>Adding optional keyword arguments to a metaclass requires that you understand all of the steps involved in class creation, because the extra arguments are passed to every method involved. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786418 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE>method is called first and used to create the class namespace prior to the body of any class definition being processed. Normally, this method simply returns a dictionary or other mapping object. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786436 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE>method is used to instantiate the resulting type object. It is called after the class body has been fully executed. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786454 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method is called last and used to perform any additional initialization steps.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=when_writing_me>When writing metaclasses, it is somewhat common to only define a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method, but not both. However, if extra keyword arguments are going to be accepted, then both methods must be provided and given compatible signatures. The default<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method accepts any set of keyword arguments, but ignores them. You only need to define it yourself if the extra arguments would somehow affect management of the class namespace creation.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_use_of_keyw>The use of keyword-only arguments in this recipe reflects the fact that such arguments will only be supplied by keyword during class creation.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_specificati_id3>The specification of keyword arguments to configure a metaclass might be viewed as an alternative to using class variables for a similar purpose. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spammeta_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MyMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>synchronize</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_advantage_t>The advantage to supplying such parameters as an argument is that they don&#8217;t pollute the class namespace with extra names that only pertain to class creation and not the subsequent execution of statements in the class. In addition, they are available to the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method, which runs prior to processing any statements in the class body. Class variables, on the other hand, would only be accessible in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>methods of a metaclass.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786620 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786631 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786641 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id786651 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=signatures class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Enforcing an Argument Signature on *args and **kwargs</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_159 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=kwargsenforci><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_kwargs_enforcing_signature_on class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_args_enforcing_signature_on class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_inspect_module class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_signature_objects class=indexterm></A>You&#8217;ve written a function or method that uses<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE>, so that it can be general purpose, but you would also like to check the passed arguments to see if they match a specific function calling signature.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_159 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=for_any_problem>For any problem where you want to manipulate function calling signatures, you should use the signature features found in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>inspect</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module. Two classes,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>Signature</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>Parameter</CODE>, are of particular interest here. Here is an interactive example of creating a function signature:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspec_id3 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Make a signature for a func(x, y=42, *, z=None)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POSITIONAL_OR_KEYWORD</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>          <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'y'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POSITIONAL_OR_KEYWORD</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>default</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>          <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'z'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>KEYWORD_ONLY</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>default</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(x, y=42, *, z=None)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=once_you_have_a>Once you have a signature object, you can easily bind it to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>using the signature&#8217;s<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id787109 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>bind()</CODE>method, as shown in this simple example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_funca class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Try various examples</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>x 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>y 2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>z 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>x 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>x 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>z 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>x 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>y 2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c>...</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"/usr/local/lib/python3.3/inspect.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1972</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_bind</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'too many positional arguments'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>too many positional arguments</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c>...</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"/usr/local/lib/python3.3/inspect.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1961</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_bind</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>msg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>'x' parameter lacking default value</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c>...</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"/usr/local/lib/python3.3/inspect.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1985</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_bind</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'{arg!r}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>param</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>multiple values for argument 'x'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_you_can_see_id7>As you can see, the binding of a signature to the passed arguments enforces all of the usual function calling rules concerning required arguments, defaults, duplicates, and so forth.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_a_more_>Here is a more concrete example of enforcing function signatures. In this code, a base class has defined an extremely general-purpose version of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE>, but subclasses are expected to supply an expected signature.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspect_im_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>make_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POSITIONAL_OR_KEYWORD</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__signature__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>make_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__signature__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>setattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__signature__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>make_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'shares'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'price'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Point</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__signature__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>make_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'y'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_exam_id24>Here is an example of how the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>Stock</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>class works:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_insp_id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(name, shares, price)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s1</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>490.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s2</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>'price' parameter lacking default value</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s3</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>100</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>490.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>50</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>multiple values for argument 'shares'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_159 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_use_of_func>The use of functions involving<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>*args</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>**kwargs</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is very common when trying to make general-purpose libraries, write decorators or implement proxies. However, one downside of such functions is that if you want to implement your own argument checking, it can quickly become an unwieldy mess. As an example, see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Simplifying the Initialization of Data Structures" href="about:ch08.html#simpledatastructure">&#8220;Simplifying the Initialization of Data Structures&#8221;</A>. The use of a signature object simplifies this.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_the_last_exa>In the last example of the solution, it might make sense to create signature objects through the use of a custom metaclass. Here is an alternative implementation that shows how to do this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspect_im_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>make_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POSITIONAL_OR_KEYWORD</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parms</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>StructureMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'__signature__'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>make_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>get</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'_fields'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,[]))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>StructureMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[]</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__signature__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bind</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound_values</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arguments</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>setattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'shares'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'price'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Point</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Structure</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'y'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=when_defining_c_id2>When defining custom signatures, it is often useful to store the signature in a special attribute<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__signature__</CODE>, as shown. If you do this, code that uses the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>inspect</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module to perform introspection will see the signature and report it as the calling convention. For example<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id789581 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id789592 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id789601 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id789611 class=indexterm></A>:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_insp_id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(name, shares, price)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Point</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>(x, y)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_enforcing_coding_conventions_in_classes class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Enforcing Coding Conventions in Classes</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_160 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=_init___meth_id6><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_init_method_classes_coding_conventions class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_new_method_classes_coding_conventions_and class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classes_coding_conventions_in class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_coding_conventions class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaclasses_coding_conventions_enforcing_with class=indexterm></A>Your program consists of a large class hierarchy and you would like to enforce certain kinds of coding conventions (or perform diagnostics) to help maintain programmer sanity.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_160 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_want_to__id23>If you want to monitor the definition of classes, you can often do it by defining a<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>meta</SPAN>class. A basic metaclass is usually defined by inheriting from<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>type</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and redefining its<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE>method. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_mymetaty_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MyMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># clsname is name of class being defined</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># bases is tuple of base classes</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># clsdict is class dictionary</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=alternatively__id6>Alternatively, if<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is defined:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_mymetaty_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MyMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># clsname is name of class being defined</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># bases is tuple of base classes</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># clsdict is class dictionary</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_use_a_metacl>To use a metaclass, you would generally incorporate it into a top-level base class from which other objects inherit. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_rootmeta class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MyMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_key_feature_o_id1>A key feature of a metaclass is that it allows you to examine the contents of a class at the time of definition. Inside the redefined<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method, you are free to inspect the class dictionary, base classes, and more. Moreover, once a metaclass has been specified for a class, it gets inherited by all of the subclasses. Thus, a sneaky framework builder can specify a metaclass for one of the top-level classes in a large hierarchy and capture the definition of all classes under it.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_a_concrete_a>As a concrete albeit whimsical example, here is a metaclass that rejects any class definition containing methods with mixed-case names (perhaps as a means for annoying Java programmers):</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_nomixedca class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>NoMixedCaseMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>lower</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>!=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bad attribute name: '</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>NoMixedCaseMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>foo_bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>      <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Ok</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>fooBar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>       <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># TypeError</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_a_more_advan>As a more advanced and useful example, here is a metaclass that checks the definition of redefined methods to make sure they have the same calling signature as the original method in the superclass.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_inspect_im_id4 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>logging</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MatchSignaturesMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sup</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>startswith</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'_'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>or</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>callable</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>continue</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Get the previous definition (if any) and compare the signatures</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prev_dfn</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>getattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sup</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prev_dfn</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prev_sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prev_dfn</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>val_sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prev_sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>!=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>val_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>logging</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>warning</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Signature mismatch in </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(218,239,163); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=si>%s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>. </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(218,239,163); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=si>%s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s> != </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(218,239,163); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=si>%s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
                                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__qualname__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prev_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>val_sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MatchSignaturesMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Root</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Class with redefined methods, but slightly different signatures</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>z</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_run_this_id2>If you run this code, you will get output such as the following:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=warningrootsi class=screen>    WARNING:root:Signature mismatch in B.spam. (self, x, *, z) != (self, x, z)
    WARNING:root:Signature mismatch in B.foo. (self, x, y) != (self, a, b)</PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=such_warnings_m>Such warnings might be useful in catching subtle program bugs. For example, code that relies on keyword argument passing to a method will break if a subclass changes the argument names.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_160 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_large_object>In large object-oriented programs, it can sometimes be useful to put class definitions under the control of a metaclass. The metaclass can observe class definitions and be used to alert programmers to potential problems that might go unnoticed (e.g., using slightly incompatible method signatures).</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_might_argue>One might argue that such errors would be better caught by program analysis tools or IDEs. To be sure, such tools are useful. However, if you&#8217;re creating a framework or library that&#8217;s going to be used by others, you often don&#8217;t have any control over the rigor of their development practices. Thus, for certain kinds of applications, it might make sense to put a bit of extra checking in a metaclass if such checking would result in a better user experience.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_choice_of_r>The choice of redefining<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>in a metaclass depends on how you want to work with the resulting class.<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is invoked prior to class creation and is typically used when a metaclass wants to alter the class definition in some way (by changing the contents of the class dictionary). The<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method is invoked after a class has been created, and is useful if you want to write code that works with the fully formed class object. In the last example, this is essential since it is using the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id791690 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>super()</CODE>function to search for prior definitions. This only works once the class instance has been created and the underlying method resolution order has been set.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_last_exampl_id2>The last example also illustrates the use of Python&#8217;s function signature objects. Essentially, the metaclass takes each callable definition in a class, searches for a prior definition (if any), and then simply compares their calling signatures using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>inspect.signature()</CODE>.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=last_but_not_l_id17>Last, but not least, the line of code that uses<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>super(self, self)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not a typo. When working with a metaclass, it&#8217;s important to realize that the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is actually a class object. So, that statement is actually being used to find definitions located further up the class hierarchy that make up the parents of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE>.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id791748 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id791759 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id791769 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id791779 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id791789 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_defining_classes_programmatically class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining Classes Programmatically</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_161 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=new_class_fun><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_new_class_function_types_module class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_type_module class=indexterm></A>You&#8217;re writing code that ultimately needs to create a new class object. You&#8217;ve thought about emitting emit class source code to a string and using a function such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to evaluate it, but you&#8217;d prefer a more elegant solution.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_161 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=you_can_use_the_id2>You can use the function<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>types.new_class()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to instantiate new class objects. All you need to do is provide the name of the class, tuple of parent classes, keyword arguments, and a callback that populates the class dictionary with members. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=stockpy__ex class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># stock.py</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example of making a class manually from parts</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Methods</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>cost</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'__init__'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'cost'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cost</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>}</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Make a class</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>new_class</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Stock'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(),</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{},</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>lambda</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>update</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__module__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_makes_a_no>This makes a normal class object that works just like you expect:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__stock_id5 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>50</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>91.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;stock.Stock object at 0x1006a9b10&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cost</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>4555.0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=a_subtle_facet_>A subtle facet of the solution is the assignment to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>Stock.__module__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>after the call to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>types.new_class()</CODE>. Whenever a class is defined, its<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__module__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute contains the name of the module in which it was defined. This name is used to produce the output made by methods such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__repr__()</CODE>. It&#8217;s also used by various libraries, such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>pickle</CODE>. Thus, in order for the class you make to be "proper," you need to make sure this attribute is set accordingly.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_the_class_yo>If the class you want to create involves a different metaclass, it would be specified in the third argument to<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>types.new_class()</CODE>. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_abc_ class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>abc</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>new_class</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Stock'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(),</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'metaclass'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>abc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ABCMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>},</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>                         <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>lambda</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>update</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__module__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; BORDER-BOTTOM: rgb(178,37,24); BORDER-LEFT: rgb(178,37,24); FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; BORDER-TOP: rgb(178,37,24); BORDER-RIGHT: rgb(178,37,24)" class=err>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>__main__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; BORDER-BOTTOM: rgb(178,37,24); BORDER-LEFT: rgb(178,37,24); FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; BORDER-TOP: rgb(178,37,24); BORDER-RIGHT: rgb(178,37,24)" class=err>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>abc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ABCMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_third_argum>The third argument may also contain other keyword arguments. For example, a class definition like this</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spambase class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Base</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>debug</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>typecheck</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=would_translate>would translate to a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>new_class()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>call similar to this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=spam__typesne class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>new_class</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Spam'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Base</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,),</CODE>
                       <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'debug'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>True</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'typecheck'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>False</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>},</CODE>
                       <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>lambda</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>update</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_fourth_argu>The fourth argument to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>new_class()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is the most mysterious, but it is a function that receives the mapping object being used for the class namespace as input. This is normally a dictionary, but it&#8217;s actually whatever object gets returned by the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id792998 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method, as described in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Capturing Class Attribute Definition Order" href="about:ch09.html#definitionorder">&#8220;Capturing Class Attribute Definition Order&#8221;</A>. This function should add new entries to the namespace using the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>update()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method (as shown) or other mapping operations.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_161 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=being_able_to_m>Being able to manufacture new class objects can be useful in certain contexts. One of the more familiar examples involves the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id793044 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>collections.namedtuple()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function. For<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>example:</SPAN></P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=stock__col class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>collections</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>namedtuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Stock'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'shares'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'price'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>])</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;class '__main__.Stock'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=namedtuple_us><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>namedtuple()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>uses<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instead of the technique shown here. However, here is a simple variant that creates a class directly:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_operator_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>operator</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>sys</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>named_tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>classname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>fieldnames</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Populate a dictionary of field property accessors</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>operator</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>itemgetter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
                 <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>enumerate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>fieldnames</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>}</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Make a __new__ function and add to the class dict</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>!=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>fieldnames</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Expected {} arguments'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>fieldnames</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'__new__'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Make the class</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>new_class</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>classname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,),</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{},</CODE>
                          <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>lambda</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>update</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Set the module to that of the caller</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__module__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sys</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_getframe</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>f_globals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'__name__'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_last_part_o_id2>The last part of this code uses a so-called "frame hack" involving<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id793773 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id793779 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>sys._getframe()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to obtain the module name of the caller. Another example of frame hacking appears in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Interpolating Variables in Strings" href="about:ch02.html#interpolation">&#8220;Interpolating Variables in Strings&#8221;</A>.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_following_e_id2>The following example shows how the preceding code works:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=point__nam class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Point</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>named_tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Point'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'y'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>])</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Point</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;class '__main__.Point'&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>p</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Point</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>5</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>p</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>p</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>4</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>p</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>p</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>AttributeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>can't set attribute</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(218,239,163); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=si>%s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s> </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(218,239,163); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=si>%s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>%</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>p</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>4 5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_important_a>One important aspect of the technique used in this recipe is its proper support for metaclasses. You might be inclined to create a class directly by instantiating a metaclass directly. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=stock__types class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Stock'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(),</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls_dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_problem_is__id3>The problem is that this approach skips certain critical steps, such as invocation of the metaclass<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method. By using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>types.new_class()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instead, you ensure that all of the necessary initialization steps get carried out. For instance, the callback function that&#8217;s given as the fourth argument to<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>types.new_class()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>receives the mapping object that&#8217;s returned by the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_only_wan_id3>If you only want to carry out the preparation step, use<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id794224 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>types.prepare_class()</CODE>. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_types_me class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ns</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prepare_class</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Stock'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(),</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'metaclass'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>})</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_finds_the_>This finds the appropriate metaclass and invokes its<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>meta</SPAN>class, remaining keyword arguments, and prepared namespace are then returned.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=for_more_inform_id4>For more information, see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://www.python.org/dev/peps/pep-3115" target=_top>PEP 3115</A>, as well as<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://docs.python.org/3/reference/datamodel.html#metaclasses" target=_top>the Python documentation</A>.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id794378 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id794389 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=metaclassinit class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Initializing Class Members at Definition Time</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_162 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=classesinitiali><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_classes_initializing_members_at_definition_time class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaclasses_initializing_members_at_definition_time class=indexterm></A>You want to initialize parts of a class definition once at the time a class is defined, not when instances are created.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_162 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=performing_init>Performing initialization or setup actions at the time of class definition is a classic use of metaclasses. Essentially, a metaclass is triggered at the point of a definition, at which point you can perform additional steps.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_exam_id25>Here is an example that uses this idea to create classes similar to named tuples from the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>collections</CODE>module:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_operator_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>operator</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>StructTupleMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>**</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>kwargs</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>enumerate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>setattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>operator</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>itemgetter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)))</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>StructTuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>StructTupleMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[]</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>!=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>ValueError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'{} arguments required'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_code_allow>This code allows simple tuple-based data structures to be defined, like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_stockstr class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>StructTuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'shares'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'price'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Point</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>StructTuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_fields</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'y'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=heres_how_they>Here&#8217;s how they work:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__stock_id6 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>50</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>91.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>('ACME', 50, 91.1)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'ACME'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'ACME'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>price</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>4555.0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>shares</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>23</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>AttributeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>can't set attribute</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_162 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_this_recipe_id3>In this recipe, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>StructTupleMeta</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>class takes the listing of attribute names in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>_fields</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>class attribute and turns them into property methods that access a particular tuple slot. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>operator.itemgetter()</CODE>function creates an accessor function and the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>property()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function turns it into a property.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_trickiest_p_id1>The trickiest part of this recipe is knowing when the different initialization steps occur. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE>method in<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>StructTupleMeta</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is only called once for each class that is defined. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>cls</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument is the class that has just been defined. Essentially, the code is using the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>_fields</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>class variable to take the newly defined class and add some new parts to it.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_structtuple>The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>StructTuple</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>class serves as a common base class for users to inherit from. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method in that class is responsible for making new instances. The use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>here is a bit unusual, but is partly related to the fact that we&#8217;re modifying the calling signature of tuples so that we can create instances with code that uses a normal-looking calling convention like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__stockacme class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>50</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>91.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># OK</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Stock</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>((</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'ACME'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>50</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mf>91.1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>      <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Error</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=unlike___init__>Unlike<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE>, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method gets triggered before an instance is created. Since tuples are immutable, it&#8217;s not possible to make any changes to them once they have been created. An<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__init__()</CODE>function gets triggered too late in the instance creation process to do what we want. That&#8217;s why<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__new__()</CODE>has been defined.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=although_this_i_id1>Although this is a short recipe, careful study will reward the reader with a deep insight about how Python classes are defined, how instances are created, and the points at which different methods of metaclasses and classes are invoked.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=pep__may_pro><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://www.python.org/dev/peps/pep-0422" target=_top>PEP 422</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>may provide an alternative means for performing the task described in this recipe. However, as of this writing, it has not been adopted or accepted. Nevertheless, it might be worth a look in case you&#8217;re working with a version of Python newer than Python 3.3.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id795646 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id795657 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=multipledispatch class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Implementing Multiple Dispatch with Function Annotations</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_163 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=argumentsmultip><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_arguments_multiple-dispatch_implementing_with class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ixmethodoverloading class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_multiple-dispatch class=indexterm></A>You&#8217;ve learned about function argument annotations and you have a thought that you might be able to use them to implement multiple-dispatch (method overloading) based on types. However, you&#8217;re not quite sure what&#8217;s involved (or if it&#8217;s even a good idea).</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_163 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_recipe_is__id6>This recipe is based on a simple observation&#8212;namely, that since Python allows arguments to be annotated, perhaps it might be possible to write code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spam_def_id4 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bar 1:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bar 2:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>     <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Prints Bar 1: 2 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>  <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Prints Bar 2: hello 0</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_the_sta>Here is the start of a solution that does just that, using a combination of metaclasses and descriptors:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=multiplepy_i class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># multiple.py</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MultiMethod</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Represents a single multimethod.</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{}</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>register</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>        Register a new method as a multimethod</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>        '''</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>signature</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Build a type signature from the method's annotations</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[]</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parm</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>sig</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parameters</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>==</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'self'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>continue</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parm</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>annotation</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>empty</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE>
                    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Argument {} must be annotated with a type'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parm</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>annotation</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE>
                    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Argument {} annotation must be a type'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parm</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>default</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Parameter</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>empty</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parm</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>annotation</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>        Call a method based on type signature of the arguments</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>        '''</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:])</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>get</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'No matching method for types {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__get__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>        Descriptor method needed to make calls work in a class</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>        '''</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MethodType</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MultiDict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Special dictionary to build multimethods in a metaclass</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__setitem__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>key</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>key</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># If key already exists, it must be a multimethod or callable</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>current_value</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>key</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>current_value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultiMethod</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>current_value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>register</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mvalue</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultiMethod</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>key</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mvalue</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>register</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>current_value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mvalue</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>register</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__setitem__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>key</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mvalue</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>super</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__setitem__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>key</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>MultipleMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    Metaclass that allows multiple dispatch of methods</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(143,157,106); FONT-SIZE: 1em" class=sd>    '''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__new__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>dict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsdict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@classmethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__prepare__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>clsname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bases</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultiDict</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_use_this_cla_id6>To use this class, you write code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spammeta_id3 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultipleMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bar 1:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bar 2:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example: overloaded __init__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>time</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Date</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultipleMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>year</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>month</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>day</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>year</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>year</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>month</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>month</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>day</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>day</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>t</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>localtime</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>t</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>tm_year</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>t</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>tm_mon</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>t</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>tm_mday</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_an_inte_id6>Here is an interactive session that verifies that it works:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__spam__id4 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Bar 1: 2 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Bar 2: hello 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>5</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Bar 2: hello 5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"multiple.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>42</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'No matching method for types {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>No matching method for types (&lt;class 'int'&gt;, &lt;class 'str'&gt;)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Overloaded __init__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>d</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Date</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2012</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>12</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>21</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Get today's date</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>e</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Date</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>e</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>year</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>2012</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>e</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>month</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>12</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>e</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>day</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_163 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=honestly_there>Honestly, there might be too much magic going on in this recipe to make it applicable to real-world code. However, it does dive into some of the inner workings of metaclasses and descriptors, and reinforces some of their concepts. Thus, even though you might not apply this recipe directly, some of its underlying ideas might influence other programming techniques involving metaclasses, descriptors, and function annotations.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_main_idea_i>The main idea in the implementation is relatively simple. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MutipleMeta</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>metaclass uses its<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__prepare__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method to supply a custom class dictionary as an instance of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiDict</CODE>. Unlike a normal dictionary,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiDict</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>checks to see whether entries already exist when items are set. If so, the duplicate entries get merged together inside an instance of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiMethod</CODE>.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=instances_of_mu>Instances of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiMethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>collect methods by building a mapping from type signatures to functions. During construction, function annotations are used to collect these signatures and build the mapping. This takes place in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiMethod.register()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method. One critical part of this mapping is that for multimethods, types must be specified on all of the arguments or else an error occurs.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_make_multime>To make<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiMethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instances emulate a callable, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__call__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method is implemented. This method builds a type tuple from all of the arguments except<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>self</CODE>, looks up the method in the internal map, and invokes the appropriate method. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__get__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is required to make<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>MultiMethod</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instances operate correctly inside class definitions. In the implementation, it&#8217;s being used to create proper bound methods. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=b__sbar_ class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bound</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>method</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>of</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__main__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>object</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>at</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mh>0x1006a46d0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__self__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__main__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>object</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>at</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mh>0x1006a46d0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__func__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__main__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultiMethod</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>object</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>at</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mh>0x1006a4d50</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Bar</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Bar</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>hello</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_be_sure_the>To be sure, there are a lot of moving parts to this recipe. However, it&#8217;s all a little unfortunate considering how many limitations there are. For one, the solution doesn&#8217;t work with keyword arguments: For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=sbarx_ class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__() got an unexpected keyword argument 'y'</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'hello'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__() got an unexpected keyword argument 's'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=there_might_be_>There might be some way to add such support, but it would require a completely different approach to method mapping. The problem is that the keyword arguments don&#8217;t arrive in any kind of particular order. When mixed up with positional arguments, you simply get a jumbled mess of arguments that you have to somehow sort out in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__call__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_recipe_is__id7>This recipe is also severely limited in its support for inheritance. For example, something like this doesn&#8217;t work:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_a_pass_c class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>C</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>pass</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>metaclass</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MultipleMeta</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Foo 1:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>C</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Foo 2:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_reason_it_f>The reason it fails is that the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>x:A</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>annotation fails to match instances that are subclasses (such as instances of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>B</CODE>). For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=s__spam__id5 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>A</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Foo 1: &lt;__main__.A object at 0x1006a5310&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>C</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Foo 2: &lt;__main__.C object at 0x1007a1910&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>B</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>foo</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"multiple.py"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>44</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__call__</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'No matching method for types {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>TypeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>No matching method for types (&lt;class '__main__.B'&gt;,)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_an_alternati_id3>As an alternative to using metaclasses and annotations, it is possible to implement a similar recipe using decorators. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_types_cl_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>multimethod</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{}</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_default</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>match</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>register</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ndefaults</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__defaults__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__defaults__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>range</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ndefaults</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>register</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__call__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>tuple</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>arg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:])</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_methods</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>get</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>meth</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_default</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__get__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cls</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>is</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>MethodType</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>instance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=decoratorsmulti><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id800918 class=indexterm></A>To use the decorator version, you would write code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_spam_mu class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Spam</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@multimethod</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>args</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Default method called if no match</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'No matching method for bar'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@bar.match</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bar 1:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@bar.match</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>bar</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Bar 2:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>s</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_decorator_s>The decorator solution also suffers the same limitations as the previous implementation (namely, no support for keyword arguments and broken inheritance).</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=all_things_bein_id1>All things being equal, it&#8217;s probably best to stay away from multiple dispatch in general-purpose code. There are special situations where it might make sense, such as in programs that are dispatching methods based on some kind of pattern matching. For example, perhaps the visitor pattern described in<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Implementing the Visitor Pattern" href="about:ch08.html#visitor">&#8220;Implementing the Visitor Pattern&#8221;</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>could be recast into a class that used multiple dispatch in some way. However, other than that, it&#8217;s usually never a bad idea to stick with a more simple approach (simply use methods with different names).</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=ideas_concernin>Ideas concerning different ways to implement multiple dispatch have floated around the Python community for years. As a decent starting point for that discussion, see Guido van Rossum&#8217;s blog post<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://www.artima.com/weblogs/viewpost.jsp?thread=101605" target=_top>"Five-Minute Multimethods in Python"</A>.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id801288 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id801299 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id801308 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=propertyclosures class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Avoiding Repetitive Property Methods</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_164 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=metaprogramming_id2><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_repetitive_property_methods_and class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_property_attributes_classes_repetitive_definitions_for class=indexterm></A>You are writing classes where you are repeatedly having to define property methods that perform common tasks, such as type checking. You would like to simplify the code so there is not so much code repetition.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_164 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=consider_a_simp>Consider a simple class where attributes are being wrapped by property methods:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=class_person_d_id6 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Person</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@property</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_name</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@name.setter</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name must be a string'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@property</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>age</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_age</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@age.setter</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>age</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'age must be an int'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>_age</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_you_can_see_id8>As you can see, a lot of code is being written simply to enforce some type assertions on attribute values. Whenever you see code like this, you should explore different ways of simplifying it. One possible approach is to make a function that simply defines the property for you and returns it. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_typed_prope class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>typed_property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>storage_name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'_'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@property</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>prop</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>getattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>storage_name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@prop.setter</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>prop</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>not</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>TypeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'{} must be a {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>setattr</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>storage_name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>value</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>prop</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Person</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>typed_property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>typed_property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'age'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_164 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_recipe_ill_id2>This recipe illustrates an important feature of inner function or closures&#8212;namely, their use in writing code that works a lot like a macro. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>typed_property()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function in this example may look a little weird, but it&#8217;s really just generating the property code for you and returning the resulting property object. Thus, when it&#8217;s used in a class, it operates exactly as if the code appearing inside<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>typed_property()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>was placed into the class definition itself. Even though the property getter and setter methods are accessing local variables such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>name</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>expected_type</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>storage_name</CODE>, that is fine&#8212;those values are held behind the scenes in a closure.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_recipe_can>This recipe can be tweaked in an interesting manner using the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id802411 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>functools.partial()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function. For example, you can do this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=from_functools__id13 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>functools</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>String</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>typed_property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>str</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Integer</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>partial</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>typed_property</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>expected_type</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>int</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>Person</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>String</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'name'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Integer</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'age'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>age</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_the_code_i>Here the code is starting to look a lot like some of the type system descriptor code shown in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=xref title="Implementing a Data Model or Type System" href="about:ch08.html#datamodel">&#8220;Implementing a Data Model or Type System&#8221;</A>.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id802731 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id802742 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=contextmanager_decorator class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Defining Context Managers the Easy Way</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_165 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=id_d1e127404><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_context_managers_defining class=indexterm></A>You want to implement new kinds of context managers for use with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>with</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_165 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=one_of_the_most>One of the most straightforward ways to write a new context manager is to use the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@contextmanager</CODE>decorator in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>contextlib</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module. Here is an example of a context manager that times the execution of a code block:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_time_fro_id4 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>time</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>from</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>contextlib</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>contextmanager</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@contextmanager</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>label</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>try</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>yield</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>finally</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'{}: {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>label</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Example use</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>with</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'counting'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>10000000</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=in_the_timethis>In the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>timethis()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function, all of the code prior to the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>yield</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>executes as the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__enter__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method of a context manager. All of the code after the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>yield</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>executes as the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__exit__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method. If there was an exception, it is raised at the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>yield</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=here_is_a_sligh_id1>Here is a slightly more advanced context manager that implements a kind of transaction on a list object:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=contextmanager class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@contextmanager</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>list_transaction</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_list</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>list</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_list</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>yield</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>orig_list</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[:]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_idea_here_i>The idea here is that changes made to a list only take effect if an entire code block runs to completion with no exceptions. Here is an example that illustrates:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=items___id4 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>with</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>list_transaction</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>as</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>5</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>[1, 2, 3, 4, 5]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>with</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>list_transaction</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>as</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>6</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>working</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>append</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>7</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>raise</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=ne>RuntimeError</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'oops'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>4</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>RuntimeError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oops</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>items</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>[1, 2, 3, 4, 5]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_165 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=normally_to_wr>Normally, to write a context manager, you define a class with an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__enter__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__exit__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>method, like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_time_cla_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>time</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>timethis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>label</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>label</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>label</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__enter__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__exit__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>exc_ty</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>exc_val</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>exc_tb</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>time</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'{}: {}'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>label</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>end</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>start</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=although_this_i_id2>Although this isn&#8217;t hard, it&#8217;s a lot more tedious than writing a simple function using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@contextmanager</CODE>.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=with_statementc><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id804004 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id804012 class=indexterm></A><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>@contextmanager</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is really only used for writing self-contained context-management functions. If you have some object (e.g., a file, network connection, or lock) that needs to support the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>with</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement, you still need to implement the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__enter__()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>__exit__()</CODE></SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>methods separately.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id804049 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_executing_code_with_local_side_effects class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Executing Code with Local Side Effects</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_166 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=exec_function><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_exec_function class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_locals_functionand_exec_function class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_exec_functionvs class=indexterm></A>You are using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to execute a fragment of code in the scope of the caller, but after execution, none of its results seem to be visible.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_166 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_better_under>To better understand the problem, try a little experiment. First, execute a fragment of code in the global namespace:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=a_____id7 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>13</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'b = a + 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>14</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=now_try_the_sa>Now, try the same experiment inside a function:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_test_id1 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>test</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>13</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'b = a + 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=gt>Traceback (most recent call last):</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>1</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>&lt;module&gt;</CODE>
  File <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>"&lt;stdin&gt;"</CODE>, line <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=m>4</CODE>, in <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; BACKGROUND: rgb(178,37,24); FONT-SIZE: 1em" class=gr>NameError</CODE>: <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>global name 'b' is not defined</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_you_can_see_id9>As you can see, it fails with a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>NameError</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>almost as if the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement never actually executed. This can be a problem if you ever want to use the result of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>in a later calculation.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_fix_this_kin>To fix this kind of problem, you need to use the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>locals()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function to obtain a dictionary of the local variables prior to the call to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>. Immediately afterward, you can extract modified values from the locals dictionary. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_test_id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>test</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>13</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>locals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'b = a + 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'b'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>14</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_166 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=correct_use_of__id2>Correct use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is actually quite tricky in practice. In fact, in most situations where you might be considering the use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>, a more elegant solution probably exists (e.g., decorators, closures, metaclasses, etc.).</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=however_if_you>However, if you still must use<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>, this recipe outlines some subtle aspects of using it correctly. By default,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>executes code in the local and global scope of the caller. However, inside functions, the local scope passed to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a dictionary that is a copy of the actual local variables. Thus, if the code in<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>makes any kind of modification, that modification is never reflected in the actual local variables. Here is another example that shows this effect:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_test_id3 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>test1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x += 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=when_you_call_l>When you call<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>locals()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to obtain the local variables, as shown in the solution, you get the copy of the locals that is passed to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>. By inspecting the value of the dictionary after execution, you can obtain the modified values. Here is an experiment that shows this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_test_id4 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>test2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>locals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'before:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x += 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'after:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x ='</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>before: {'x': 0}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>after: {'loc': {...}, 'x': 1}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>x = 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=carefully_obser_id4>Carefully observe the output of the last step. Unless you copy the modified value from<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>loc</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>back to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>x</CODE>, the variable remains unchanged.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=with_any_use_of>With any use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>locals()</CODE>, you need to be careful about the order of operations. Each time it is invoked,<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>locals()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>will take the current value of local variables and overwrite the corresponding entries in the dictionary. Observe the outcome of this experiment:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_test_id5 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>test3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>locals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'x += 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>locals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>{'x': 0}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>{'loc': {...}, 'x': 1}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>{'loc': {...}, 'x': 0}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=notice_how_the__id2>Notice how the last call to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>locals()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>caused<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>x</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to be overwritten.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=as_an_alternati_id4>As an alternative to using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>locals()</CODE>, you might make your own dictionary and pass it to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_test_id6 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>test4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>():</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>13</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'a'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>a</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>glb</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>}</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'b = a + 1'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>glb</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loc</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'b'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>test4</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>14</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=for_most_uses_o>For most uses of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>, this is probably good practice. You just need to make sure that the global and local dictionaries are properly initialized with names that the executed code will access.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=last_but_not_l_id18>Last, but not least, before using<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>, you might ask yourself if other alternatives are available. Many problems where you might consider the use of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>can be replaced by closures, decorators, metaclasses, or other metaprogramming features.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id805660 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id805670 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id805680 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=ast class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Parsing and Analyzing Python Source</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_167 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=abstract_syntax><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_abstract_syntax_tree class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_ast_module class=indexterm></A>You want to write programs that parse and analyze Python source code.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_167 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=most_programmer>Most programmers know that Python can evaluate or execute source code provided in the form of a string. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=x_____id6 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>eval</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'2 + 3*4 + x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>56</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'for i in range(10): print(i)'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>4</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>6</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>7</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>8</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>9</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=however_the_as>However, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>ast</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module can be used to compile Python source code into an abstract syntax tree (AST) that can be analyzed. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_ast_ class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>ast</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ex</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parse</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'2 + 3*4 + x'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'eval'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ex</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;_ast.Expression object at 0x1007473d0&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>dump</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ex</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>"Expression(body=BinOp(left=BinOp(left=Num(n=2), op=Add(),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>right=BinOp(left=Num(n=3), op=Mult(), right=Num(n=4))), op=Add(),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>right=Name(id='x', ctx=Load())))"</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parse</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'for i in range(10): print(i)'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'exec'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;_ast.Module object at 0x100747390&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>dump</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>"Module(body=[For(target=Name(id='i', ctx=Store()),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>iter=Call(func=Name(id='range', ctx=Load()), args=[Num(n=10)],</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>keywords=[], starargs=None, kwargs=None),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>body=[Expr(value=Call(func=Name(id='print', ctx=Load()),</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>args=[Name(id='i', ctx=Load())], keywords=[], starargs=None,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>kwargs=None))], orelse=[])])"</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=analyzing_the_s>Analyzing the source tree requires a bit of study on your part, but it consists of a collection of AST nodes. The easiest way to work with these nodes is to define a visitor class that implements various<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>visit_NodeName()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>methods where<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>NodeName()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>matches the node of interest. Here is an example of such a class that records information about which names are loaded, stored, and deleted.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_ast_clas class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>ast</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>CodeAnalyzer</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>NodeVisitor</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loaded</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>set</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>stored</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>set</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>deleted</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>set</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>visit_Name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ctx</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Load</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loaded</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>id</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>elif</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ctx</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Store</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>stored</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>id</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>elif</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>isinstance</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ctx</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>Del</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>deleted</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>id</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Sample usage</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>==</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'__main__'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Some Python code</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'''</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>for i in range(10):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>    print(i)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>del i</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'''</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Parse into an AST</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parse</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'exec'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Feed the AST to analyze name usage</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CodeAnalyzer</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>visit</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Loaded:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>loaded</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Stored:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>stored</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Deleted:'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>deleted</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_run_this_id3>If you run this program, you&#8217;ll get output like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 15px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 15px; PADDING-RIGHT: 15px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(255,255,255); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 15px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=loaded_i_ class=literallayout>Loaded: {'i', 'range', 'print'}
Stored: {'i'}
Deleted: {'i'}</PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=compile_funct><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id807009 class=indexterm></A>Finally, ASTs can be compiled and executed using the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>compile()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=execcompil class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>compile</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'&lt;stdin&gt;'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'exec'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>))</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>4</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>5</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>6</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>7</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>8</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>9</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_167 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_fact_that_y_id1>The fact that you can analyze source code and get information from it could be the start of writing various code analysis, optimization, or verification tools. For instance, instead of just blindly passing some fragment of code into a function like<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>exec()</CODE>, you could turn it into an AST first and look at it in some detail to see what it&#8217;s doing. You could also write tools that look at the entire source code for a module and perform some sort of static analysis over it.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=it_should_be_no_id8>It should be noted that it is also possible to rewrite the AST to represent new code if you really know what you&#8217;re doing. Here is an example of a decorator that lowers globally accessed names into the body of a function by reparsing the function body&#8217;s source code, rewriting the AST, and recreating the function&#8217;s code object:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=namelowerpy_ class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># namelower.py</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>ast</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>inspect</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Node visitor that lowers globally accessed names into</CODE>
<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># the function body as local variables.</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>class</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nc>NameLower</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>NodeVisitor</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>__init__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>lowered_names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>lowered_names</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>lowered_names</CODE>

    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>visit_FunctionDef</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Compile some assignments to lower the constants</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'__globals = globals()</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(249,238,152); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=se>\n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(249,238,152); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=se>\n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>join</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>"{0} = __globals['{0}']"</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>format</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
                          <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>name</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>lowered_names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code_ast</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parse</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'exec'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Inject new statements into the function body</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>body</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>code_ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>body</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Save the function object</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>self</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>node</CODE>

<CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Decorator that turns global names into locals</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>lower_names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>namelist</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>lower</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>srclines</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>inspect</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>getsource</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>splitlines</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Skip source lines prior to the @lower_names decorator</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>line</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>enumerate</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>srclines</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'@lower_names'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>line</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>break</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>src</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(249,238,152); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=se>\n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>join</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>srclines</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:])</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Hack to deal with indented code</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>src</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>startswith</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>((</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>' '</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(249,238,152); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=se>\t</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)):</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>src</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'if 1:</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(249,238,152); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=se>\n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>src</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>ast</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>parse</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>src</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>mode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'exec'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Transform the AST</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cl</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>NameLower</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>namelist</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>cl</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>visit</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Execute the modified AST</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>temp</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>{}</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>exec</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>compile</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>top</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>''</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'exec'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>),</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>temp</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>temp</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>

        <CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Pull out the modified code object</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>temp</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__name__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>func</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>lower</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_use_this_cod_id1>To use this code, you would write code such as the following:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=incr___lower class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>INCR</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(117,135,166); FONT-SIZE: 1em" class=nd>@lower_names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'INCR'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>INCR</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_decorator_r>The decorator rewrites the source code of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>countdown()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function to look like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_countdownn_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__globals</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>globals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>()</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>INCR</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__globals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'INCR'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>INCR</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=performanceast_><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id808478 class=indexterm></A>In a performance test, it makes the function run about 20% faster.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=now_should_you>Now, should you go applying this decorator to all of your functions? Probably not. However, it&#8217;s a good illustration of some very advanced things that might be possible through AST manipulation, source code manipulation, and other techniques.</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=this_recipe_was>This recipe was inspired by a similar recipe at<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://code.activestate.com/recipes/277940-decorator-for-bindingconstants-at-compile-time" target=_top>ActiveState</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>that worked by manipulating Python&#8217;s byte code. Working with the AST is a higher-level approach that might be a bit more straightforward. See the next recipe for more information about byte code.<A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id808514 class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=id808524 class=indexterm></A></P></DIV></DIV>
<DIV style="BOX-SIZING: border-box; TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: 16px Georgia, 'Times New Roman', serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(25,25,25); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=_disassembling_python_byte_code class=sect1 data-original-filename="chapter_9_metaprogramming.asciidoc">
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H2 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; LETTER-SPACING: -1px; FONT-SIZE: 24px" class=title>Disassembling Python Byte Code</H2></DIV></DIV></DIV>
<DIV style="BOX-SIZING: border-box" id=_problem_168 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Problem</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=dis_modulefunct><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_dis_module class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_functions_disassembling class=indexterm></A><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" id=ix_metaprogramming_dis_module class=indexterm></A>You want to know in detail what your code is doing under the covers by disassembling it into lower-level byte code used by the interpreter.</P></DIV>
<DIV style="BOX-SIZING: border-box" id=_solution_168 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Solution</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_dis_module__id1>The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>dis</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module can be used to output a disassembly of any Python function. For<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="BOX-SIZING: border-box" class=keep-together>example:</SPAN></P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_countdo_id2 class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>     <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>         <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'T-minus'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>         <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>-=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>     <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Blastoff!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>dis</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>dis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>dis</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
  <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE>           <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>SETUP_LOOP</CODE>              <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>39</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>to</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;</CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_FAST</CODE>                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
              <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>6</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_CONST</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
              <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>9</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>COMPARE_OP</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>12</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POP_JUMP_IF_FALSE</CODE>       <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>41</CODE>

  <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE>          <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>15</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_GLOBAL</CODE>              <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>18</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_CONST</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'T-minus'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>21</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_FAST</CODE>                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>24</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CALL_FUNCTION</CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>positional</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>keyword</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>pair</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>27</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POP_TOP</CODE>

  <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE>          <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>28</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_FAST</CODE>                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>31</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_CONST</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>34</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>INPLACE_SUBTRACT</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>35</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>STORE_FAST</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>38</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>JUMP_ABSOLUTE</CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;</CODE>   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>41</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POP_BLOCK</CODE>

  <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>5</CODE>     <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;</CODE>   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>42</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_GLOBAL</CODE>              <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>45</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_CONST</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>4</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'Blastoff!'</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>48</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CALL_FUNCTION</CODE>            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>positional</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>keyword</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>pair</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>51</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>POP_TOP</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>52</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>LOAD_CONST</CODE>               <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
             <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>55</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>RETURN_VALUE</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;&gt;&gt;</CODE></PRE></DIV>
<DIV style="BOX-SIZING: border-box" id=_discussion_168 class=sect2>
<DIV style="BOX-SIZING: border-box" class=titlepage>
<DIV style="BOX-SIZING: border-box">
<DIV style="BOX-SIZING: border-box">
<H3 style="BOX-SIZING: border-box; MARGIN-TOP: 30px; FONT-FAMILY: heading, sans-serif; MARGIN-BOTTOM: 10px; FONT-SIZE: 18px" class=title>Discussion</H3></DIV></DIV></DIV>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_dis_module__id2>The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>dis</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module can be useful if you ever need to study what&#8217;s happening in your program at a very low level (e.g., if you&#8217;re trying to understand performance characteristics).</P>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=the_raw_byte_co>The raw byte code interpreted by the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>dis()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function is available on functions as follows:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=countdown__id3 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_code</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>b"x'\x00|\x00\x00d\x01\x00k\x04\x00r)\x00t\x00\x00d\x02\x00|\x00\x00\x83</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>\x02\x00\x01|\x00\x00d\x03\x008}\x00\x00q\x03\x00Wt\x00\x00d\x04\x00\x83</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>\x01\x00\x01d\x00\x00S"</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=if_you_ever_wan>If you ever want to interpret this code yourself, you would need to use some of the constants defined in the<CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>opcode</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module. For example:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=c__countdo class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_code</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>opcode</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opcode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opcode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'SETUP_LOOP'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opcode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]]</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>'LOAD_FAST'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=ironically_the>Ironically, there is no function in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BOX-SIZING: border-box; FONT-STYLE: normal; FONT-FAMILY: Consolas, Monaco, 'Liberation Mono', Courier, monospace; FONT-SIZE: 0.9em" class=literal>dis</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>module that makes it easy for you to process the byte code in a programmatic way. However, this generator function will take the raw byte code sequence and turn it into opcodes and arguments.</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=import_opcode_d class=programlisting data-language="python"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>opcode</CODE>

<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>generate_opcodes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>codebytes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>extended_arg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=nb>len</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>codebytes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>while</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&lt;</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>n</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>codebytes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>&gt;=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opcode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>HAVE_ARGUMENT</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oparg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>codebytes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>codebytes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>1</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>]</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>256</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>extended_arg</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>extended_arg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>0</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>i</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>if</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>==</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opcode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>EXTENDED_ARG</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>extended_arg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oparg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>*</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>65536</CODE>
                <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>continue</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>else</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>:</CODE>
            <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oparg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(0,170,170); FONT-SIZE: 1em" class=bp>None</CODE>
        <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>yield</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oparg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=to_use_this_fun_id2>To use this function, you would use code like this:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=for_op_opa class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>for</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oparg</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(170,34,255); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=ow>in</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>generate_opcodes</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>countdown</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_code</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>print</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opcode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>opname</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>[</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>op</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>],</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>oparg</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>120 SETUP_LOOP 39</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>124 LOAD_FAST 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>100 LOAD_CONST 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>107 COMPARE_OP 4</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>114 POP_JUMP_IF_FALSE 41</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>116 LOAD_GLOBAL 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>100 LOAD_CONST 2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>124 LOAD_FAST 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>131 CALL_FUNCTION 2</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1 POP_TOP None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>124 LOAD_FAST 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>100 LOAD_CONST 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>56 INPLACE_SUBTRACT None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>125 STORE_FAST 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>113 JUMP_ABSOLUTE 3</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>87 POP_BLOCK None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>116 LOAD_GLOBAL 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>100 LOAD_CONST 4</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>131 CALL_FUNCTION 1</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>1 POP_TOP None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>100 LOAD_CONST 0</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>83 RETURN_VALUE None</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=its_a_littlek>It&#8217;s a little-known fact, but you can replace the raw byte code of any function that you want. It takes a bit of work to do it, but here&#8217;s an example of what&#8217;s involved:</P><PRE style="BOX-SIZING: border-box; PADDING-BOTTOM: 16px; OVERFLOW-X: auto; BACKGROUND-COLOR: rgb(51,51,51); PADDING-LEFT: 16px; PADDING-RIGHT: 16px; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; MARGIN-BOTTOM: 20px; COLOR: rgb(248,248,248); MARGIN-LEFT: -15px; FONT-SIZE: 0.9em; MARGIN-RIGHT: -15px; PADDING-TOP: 16px; border-top-left-radius: 5px; border-top-right-radius: 5px" id=def_addx__id2 class=programlisting data-language="pycon"><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>def</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,112,63); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nf>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>):</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>    <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(205,168,105); FONT-SIZE: 1em" class=k>return</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>x</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>+</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>y</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>...</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;code object add at 0x1007beed0, file "&lt;stdin&gt;", line 1&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_code</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>b'|\x00\x00|\x01\x00\x17S'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&gt;&gt;&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-STYLE: italic; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(95,90,96); FONT-SIZE: 1em" class=c># Make a completely new code object with bogus byte code</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=kn>import</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(155,133,157); FONT-SIZE: 1em; FONT-WEIGHT: bold" class=nn>types</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>newbytecode</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>b</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=s>'xxxxxxx'</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>nc</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>types</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>CodeType</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_argcount</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_kwonlyargcount</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_nlocals</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_stacksize</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_flags</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>newbytecode</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_consts</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_names</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_varnames</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_filename</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_name</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>... </CODE>   <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_firstlineno</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>c</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>co_lnotab</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>nc</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>&lt;code object add at 0x10069fe40, file "&lt;stdin&gt;", line 1&gt;</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>.</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>__code__</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=o>=</CODE> <CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>nc</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em; FONT-WEIGHT: bold" class=gp>&gt;&gt;&gt; </CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=n>add</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>(</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>2</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>,</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; COLOR: rgb(207,106,76); FONT-SIZE: 1em" class=mi>3</CODE><CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=p>)</CODE>
<CODE style="BOX-SIZING: border-box; FONT-FAMILY: Consolas, Monaco, 'Lucida Console', Courier, monospace; FONT-SIZE: 1em" class=go>Segmentation fault</CODE></PRE>
<P style="BOX-SIZING: border-box; LINE-HEIGHT: 22px; MARGIN-BOTTOM: 20px" id=having_the_inte>Having the interpreter crash is a pretty likely outcome of pulling a crazy stunt like this. However, developers working on advanced optimization and metaprogramming tools might be inclined to rewrite byte code for real. This last part illustrates how to do it. See<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BOX-SIZING: border-box; COLOR: rgb(31,60,153); TEXT-DECORATION: none" class=ulink href="http://code.activestate.com/recipes/277940-decorator-for-bindingconstants-at-compile-time" target=_top>this code on ActiveState</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>for another example of such code in action.</P></DIV></DIV>