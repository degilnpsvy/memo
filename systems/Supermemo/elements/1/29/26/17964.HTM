<H4 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: medium; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=subsection>16.4.3 Requesting Values</H4>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">All of the functions that return values from<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>work in the same way. You pass in an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>awk_valtype_t</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>value to indicate what kind of value you expect. If the actual value matches what you requested, the function returns true and fills in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>awk_value_t</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>result. Otherwise, the function returns false, and the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>val_type</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>member indicates the type of the actual value. You may then print an error message, or reissue the request for the actual value type, as appropriate. This behavior is summarized in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#table_002dvalue_002dtypes_002dreturned">Table 16.1</A>.</P>
<DIV style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=float><A name=table_002dvalue_002dtypes_002dreturned></A>
<TABLE>
<THEAD>
<TR>
<TH width="50%"></TH>
<TH width="50%">Type of Actual Value:</TH></TR></THEAD>
<TBODY></TBODY></TABLE>
<TABLE>
<THEAD>
<TR>
<TH width="16%"></TH>
<TH width="16%"></TH>
<TH width="19%">String</TH>
<TH width="15%">Number</TH>
<TH width="15%">Array</TH>
<TH width="16%">Undefined</TH></TR></THEAD>
<TBODY>
<TR>
<TD width="16%"></TD>
<TD width="16%"><B>String</B></TD>
<TD width="19%">String</TD>
<TD width="15%">String</TD>
<TD width="15%">false</TD>
<TD width="16%">false</TD></TR>
<TR>
<TD width="16%"></TD>
<TD width="16%"><B>Number</B></TD>
<TD width="19%">Number if can be converted, else false</TD>
<TD width="15%">Number</TD>
<TD width="15%">false</TD>
<TD width="16%">false</TD></TR>
<TR>
<TD width="16%"><B>Type</B></TD>
<TD width="16%"><B>Array</B></TD>
<TD width="19%">false</TD>
<TD width="15%">false</TD>
<TD width="15%">Array</TD>
<TD width="16%">false</TD></TR>
<TR>
<TD width="16%"><B>Requested:</B></TD>
<TD width="16%"><B>Scalar</B></TD>
<TD width="19%">Scalar</TD>
<TD width="15%">Scalar</TD>
<TD width="15%">false</TD>
<TD width="16%">false</TD></TR>
<TR>
<TD width="16%"></TD>
<TD width="16%"><B>Undefined</B></TD>
<TD width="19%">String</TD>
<TD width="15%">Number</TD>
<TD width="15%">Array</TD>
<TD width="16%">Undefined</TD></TR>
<TR>
<TD width="16%"></TD>
<TD width="16%"><B>Value Cookie</B></TD>
<TD width="19%">false</TD>
<TD width="15%">false</TD>
<TD width="15%">false</TD>
<TD width="16%">false</TD></TR></TBODY></TABLE>
<DIV class=float-caption>
<P><STRONG>Table 16.1:<SPAN class=Apple-converted-space>&nbsp;</SPAN></STRONG>Value Types Returned</P></DIV></DIV><BR class=Apple-interchange-newline>