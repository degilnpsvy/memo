<H3 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=appendixsec>A.1 Major Changes Between V7 and SVR3.1</H3><A style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" name=index-awk_002c-versions-of-1></A><SPAN style="TEXT-TRANSFORM: none; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium Simsun; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"></SPAN><A style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" name=index-awk_002c-versions-of_002c-changes-between-V7-and-SVR3_002e1></A><SPAN style="TEXT-TRANSFORM: none; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium Simsun; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"></SPAN>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>awk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>language evolved considerably between the release of Version 7 Unix (1978) and the new version that was first made generally available in System V Release 3.1 (1987). This section summarizes the changes, with cross-references to further details:</P>
<UL style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">
<LI>The requirement for &#8216;<SAMP>;</SAMP>&#8217; to separate rules on a line (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Statements_002fLines">Statements/Lines</A>).</LI>
<LI>User-defined functions and the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>return</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#User_002ddefined">User-defined</A>).</LI>
<LI>The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>delete</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Delete">Delete</A>).</LI>
<LI>The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>do</CODE>-<CODE>while</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statement (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Do-Statement">Do Statement</A>).</LI>
<LI>The built-in functions<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>atan2()</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>cos()</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>sin()</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>rand()</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>srand()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Numeric-Functions">Numeric Functions</A>).</LI>
<LI>The built-in functions<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gsub()</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>sub()</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>match()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#String-Functions">String Functions</A>).</LI>
<LI>The built-in functions<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>close()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>system()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#I_002fO-Functions">I/O Functions</A>).</LI>
<LI>The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>ARGC</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>ARGV</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>FNR</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>RLENGTH</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>RSTART</CODE>, and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>SUBSEP</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>built-in variables (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din-Variables">Built-in Variables</A>).</LI>
<LI>Assignable<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>$0</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Changing-Fields">Changing Fields</A>).</LI>
<LI>The conditional expression using the ternary operator &#8216;<SAMP>?:</SAMP>&#8217; (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Conditional-Exp">Conditional Exp</A>).</LI>
<LI>The expression &#8216;<SAMP><VAR>index-variable</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>in<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>array</VAR></SAMP>&#8217; outside of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>for</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>statements (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Reference-to-Elements">Reference to Elements</A>).</LI>
<LI>The exponentiation operator &#8216;<SAMP>^</SAMP>&#8217; (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Arithmetic-Ops">Arithmetic Ops</A>) and its assignment operator form &#8216;<SAMP>^=</SAMP>&#8217; (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Assignment-Ops">Assignment Ops</A>).</LI>
<LI>C-compatible operator precedence, which breaks some old<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>awk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>programs (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Precedence">Precedence</A>).</LI>
<LI>Regexps as the value of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>FS</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Field-Separators">Field Separators</A>) and as the third argument to the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>split()</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#String-Functions">String Functions</A>), rather than using only the first character of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>FS</CODE>.</LI>
<LI>Dynamic regexps as operands of the &#8216;<SAMP>~</SAMP>&#8217; and &#8216;<SAMP>!~</SAMP>&#8217; operators (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Regexp-Usage">Regexp Usage</A>).</LI>
<LI>The escape sequences &#8216;<SAMP>\b</SAMP>&#8217;, &#8216;<SAMP>\f</SAMP>&#8217;, and &#8216;<SAMP>\r</SAMP>&#8217; (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Escape-Sequences">Escape Sequences</A>). (Some vendors have updated their old versions of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>awk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to recognize &#8216;<SAMP>\b</SAMP>&#8217;, &#8216;<SAMP>\f</SAMP>&#8217;, and &#8216;<SAMP>\r</SAMP>&#8217;, but this is not something you can rely on.)</LI>
<LI>Redirection of input for the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>getline</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Getline">Getline</A>).</LI>
<LI>Multiple<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>BEGIN</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>END</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>rules (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#BEGIN_002fEND">BEGIN/END</A>).</LI>
<LI>Multidimensional arrays (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#Multidimensional">Multidimensional</A>).</LI></UL>