<DIV class=sect2 title="Legacy Suspend/Resume">
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=idp11444416></A>Legacy Suspend/Resume</H3></DIV></DIV></DIV>
<P>The DRM core provides some suspend/resume code, but drivers wanting full suspend/resume support should provide save() and restore() functions. These are called at suspend, hibernate, or resume time, and should perform any state save or restore required by your device across suspend or hibernate states.</P><PRE class=synopsis>int (*suspend) (struct drm_device *, pm_message_t state);
  int (*resume) (struct drm_device *);</PRE>
<P>Those are legacy suspend and resume methods which<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN class=emphasis><EM>only</EM></SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>work with the legacy shadow-attach driver registration functions. New driver should use the power management interface provided by their bus type (usually through the struct<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN class=structname>device_driver</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>dev_pm_ops) and set these methods to NULL.</P></DIV>