<H2 class=chapter style="WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">1 ar</H2>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-ar-2></A><A name=index-archives-3></A><A name=index-collections-of-files-4></A></P><PRE class=smallexample style="FONT-WEIGHT: normal; FONT-SIZE: smaller; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; LINE-HEIGHT: normal; FONT-STYLE: normal; LETTER-SPACING: normal; FONT-VARIANT: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">     ar [<SAMP><SPAN class=option>--plugin</SPAN></SAMP> <VAR>name</VAR>] [-]<VAR>p</VAR>[<VAR>mod</VAR> [<VAR>relpos</VAR>] [<VAR>count</VAR>]] [<SAMP><SPAN class=option>--target</SPAN></SAMP> <VAR>bfdname</VAR>] <VAR>archive</VAR> [<VAR>member</VAR>...]
     ar -M [ &lt;mri-script ]
</PRE>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN class=sc style="FONT-VARIANT: small-caps">gnu</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>program creates, modifies, and extracts from archives. An<SPAN class=Apple-converted-space>&nbsp;</SPAN><DFN>archive</DFN><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a single file holding a collection of other files in a structure that makes it possible to retrieve the original individual files (called<SPAN class=Apple-converted-space>&nbsp;</SPAN><DFN>members</DFN><SPAN class=Apple-converted-space>&nbsp;</SPAN>of the archive).</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The original files' contents, mode (permissions), timestamp, owner, and group are preserved in the archive, and can be restored on extraction.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-name-length-5></A><SPAN class=sc style="FONT-VARIANT: small-caps">gnu</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>can maintain archives whose members have names of any length; however, depending on how<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is configured on your system, a limit on member-name length may be imposed for compatibility with archive formats maintained with other tools. If it exists, the limit is often 15 characters (typical of formats related to a.out) or 16 characters (typical of formats related to coff).</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-libraries-6></A><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is considered a binary utility because archives of this sort are most often used as<SPAN class=Apple-converted-space>&nbsp;</SPAN><DFN>libraries</DFN><SPAN class=Apple-converted-space>&nbsp;</SPAN>holding commonly needed subroutines.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-symbol-index-7></A><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>creates an index to the symbols defined in relocatable object modules in the archive when you specify the modifier `<SAMP><SPAN class=samp>s</SPAN></SAMP>'. Once created, this index is updated in the archive whenever<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>makes a change to its contents (save for the `<SAMP><SPAN class=samp>q</SPAN></SAMP>' update operation). An archive with such an index speeds up linking to the library, and allows routines in the library to call each other without regard to their placement in the archive.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">You may use `<SAMP><SPAN class=samp>nm -s</SPAN></SAMP>' or `<SAMP><SPAN class=samp>nm --print-armap</SPAN></SAMP>' to list this index table. If an archive lacks the table, another form of<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>called<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ranlib</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>can be used to add just the table.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-thin-archives-8></A><SPAN class=sc style="FONT-VARIANT: small-caps">gnu</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>can optionally create a<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM>thin</EM><SPAN class=Apple-converted-space>&nbsp;</SPAN>archive, which contains a symbol index and references to the original copies of the member files of the archive. This is useful for building libraries for use within a local build tree, where the relocatable objects are expected to remain available, and copying the contents of each object would only waste time and space.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">An archive can either be<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM>thin</EM><SPAN class=Apple-converted-space>&nbsp;</SPAN>or it can be normal. It cannot be both at the same time. Once an archive is created its format cannot be changed without first deleting it and then creating a new archive in its place.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">Thin archives are also<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM>flattened</EM>, so that adding one thin archive to another thin archive does not nest it, as would happen with a normal archive. Instead the elements of the first archive are added individually to the second archive.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">The paths to the elements of the archive are stored relative to the archive itself.</P>
<P style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px"><A name=index-compatibility_002c-_0040command_007bar_007d-9></A><A name=index-g_t_0040command_007bar_007d-compatibility-10></A><SPAN class=sc style="FONT-VARIANT: small-caps">gnu</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is designed to be compatible with two different facilities. You can control its activity using command-line options, like the different varieties of<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>on Unix systems; or, if you specify the single command-line option<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-M</SPAN></SAMP>, you can control it with a script supplied via standard input, like the MRI &#8220;librarian&#8221; program.</P>
<UL class=menu style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<LI><A accessKey=1 href="https://sourceware.org/binutils/docs/binutils/ar-cmdline.html#ar-cmdline">ar cmdline</A>: Controlling<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>on the command line</LI>
<LI><A accessKey=2 href="https://sourceware.org/binutils/docs/binutils/ar-scripts.html#ar-scripts">ar scripts</A>: Controlling<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=command>ar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>with a script</LI></UL>