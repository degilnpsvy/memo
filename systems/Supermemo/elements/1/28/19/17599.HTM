<TABLE width="100%">
<TBODY>
<TR>
<TD vAlign=top>
<H2><SPAN class=refentrytitle><A name=glib-Atomic-Operations.top_of_page></A>Atomic Operations</SPAN></H2>
<P>Atomic Operations &#8212; basic atomic integer and pointer operations</P></TD>
<TD class=gallery_image vAlign=top align=right></TD></TR></TBODY></TABLE>
<DIV class=refsect1><A name=glib-Atomic-Operations.functions></A>
<H2>Functions</H2>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP>
<COL class=functions_return width=150></COL>
<COL class=functions_name></COL></COLGROUP>
<TBODY>
<TR>
<TD class=function_type><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=returnvalue>gint</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_get&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-get">g_atomic_int_get</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A title=g_atomic_int_set&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-set">g_atomic_int_set</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A title=g_atomic_int_inc&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-inc">g_atomic_int_inc</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gboolean class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_dec_and_test&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-dec-and-test">g_atomic_int_dec_and_test</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gboolean class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_compare_and_exchange&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-compare-and-exchange">g_atomic_int_compare_and_exchange</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=returnvalue>gint</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_add&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-add">g_atomic_int_add</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_and&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-and">g_atomic_int_and</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_or&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-or">g_atomic_int_or</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_xor&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-xor">g_atomic_int_xor</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gpointer class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=returnvalue>gpointer</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_pointer_get&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-get">g_atomic_pointer_get</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A title=g_atomic_pointer_set&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-set">g_atomic_pointer_set</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gboolean class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_pointer_compare_and_exchange&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-compare-and-exchange">g_atomic_pointer_compare_and_exchange</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gssize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=returnvalue>gssize</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_pointer_add&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-add">g_atomic_pointer_add</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=returnvalue>gsize</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_pointer_and&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-and">g_atomic_pointer_and</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=returnvalue>gsize</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_pointer_or&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-or">g_atomic_pointer_or</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=returnvalue>gsize</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_pointer_xor&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-pointer-xor">g_atomic_pointer_xor</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=returnvalue>gint</SPAN></A> </TD>
<TD class=function_name><A title=g_atomic_int_exchange_and_add&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-exchange-and-add">g_atomic_int_exchange_and_add</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-Atomic-Operations.other></A>
<H2>Types and Values</H2>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP>
<COL class=name width=150></COL>
<COL class=description></COL></COLGROUP>
<TBODY>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A title=G_ATOMIC_LOCK_FREE class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#G-ATOMIC-LOCK-FREE:CAPS">G_ATOMIC_LOCK_FREE</A></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-Atomic-Operations.includes></A>
<H2>Includes</H2><PRE class=synopsis>#include &lt;glib.h&gt;
</PRE></DIV>
<DIV class=refsect1><A name=glib-Atomic-Operations.description></A>
<H2>Description</H2>
<P><FONT class=extract>The following is a collection of compiler macros to provide atomic access to integer and pointer-sized values.</FONT></P>
<P><FONT class=extract>The macros that have 'int' in the name will operate on pointers to </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> and </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A><FONT class=extract>. The macros with 'pointer' in the name will operate on pointers to any pointer-sized value, including </FONT><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type><FONT class=extract>gsize</FONT></SPAN></A><FONT class=extract>. There is no support for 64bit operations on platforms with 32bit pointers because it is not generally possible to perform these operations atomically.</FONT></P>
<P><FONT class=extract>The get, set and exchange operations for integers and pointers nominally operate on </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> and </FONT><A title=gpointer class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type><FONT class=extract>gpointer</FONT></SPAN></A><FONT class=extract>, respectively. Of the arithmetic operations, the 'add' operation operates on (and returns) signed integer values (</FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> and </FONT><A title=gssize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=type><FONT class=extract>gssize</FONT></SPAN></A><FONT class=extract>) and the 'and', 'or', and 'xor' operations operate on (and return) unsigned integer values (</FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A><FONT class=extract> and </FONT><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type><FONT class=extract>gsize</FONT></SPAN></A><FONT class=extract>).</FONT></P>
<P><FONT class=extract>All of the operations act as a full compiler and (where appropriate) hardware memory barrier. Acquire and release or producer and consumer barrier semantics are not available through this API.</FONT></P>
<P><FONT class=extract>It is very important that all accesses to a particular integer or pointer be performed using only this API and that different sizes of operation are not mixed or used on overlapping memory regions. Never read or assign directly from or to a value -- always use this API.</FONT></P>
<P><FONT class=extract>For simple reference counting purposes you should use </FONT><A title=g_atomic_int_inc&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-inc"><CODE class=function><FONT class=extract>g_atomic_int_inc()</FONT></CODE></A><FONT class=extract> and </FONT><A title=g_atomic_int_dec_and_test&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-dec-and-test"><CODE class=function><FONT class=extract>g_atomic_int_dec_and_test()</FONT></CODE></A><FONT class=extract>. Other uses that fall outside of simple reference counting patterns are prone to subtle bugs and occasionally undefined behaviour. It is also worth noting that since all of these operations require global synchronisation of the entire machine, they can be quite slow. In * the case of performing multiple atomic operations it can often be faster to simply acquire a mutex lock around the critical area, perform the operations normally and then release the lock.</FONT></P></DIV>
<DIV class=refsect1><A name=glib-Atomic-Operations.functions_details></A>
<H2>Functions</H2>
<DIV class=refsect2><A name=g-atomic-int-get></A>
<H3><FONT class=extract>g_atomic_int_get&nbsp;()</FONT></H3><PRE class=programlisting><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=returnvalue><FONT class=extract>gint</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_get (<EM class=parameter><CODE>const volatile <A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Gets the current value of <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier (before the get).</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.2.6></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.2.7></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of the integer</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-set></A>
<H3><FONT class=extract>g_atomic_int_set&nbsp;()</FONT></H3><PRE class=programlisting><FONT class=extract><SPAN class=returnvalue>void</SPAN>
g_atomic_int_set (<EM class=parameter><CODE>volatile <A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>,
                  <EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> newval</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Sets the value of <EM class=parameter><CODE>atomic</CODE></EM> to <EM class=parameter><CODE>newval</CODE></EM> .</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier (after the set).</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.3.6></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>newval</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a new value to store</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-inc></A>
<H3><FONT class=extract>g_atomic_int_inc&nbsp;()</FONT></H3><PRE class=programlisting><FONT class=extract><SPAN class=returnvalue>void</SPAN>
g_atomic_int_inc (<EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Increments the value of <EM class=parameter><CODE>atomic</CODE></EM> by 1.</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ *atomic += 1; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.4.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-dec-and-test></A>
<H3><FONT class=extract>g_atomic_int_dec_and_test&nbsp;()</FONT></H3><PRE class=programlisting><A title=gboolean class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue><FONT class=extract>gboolean</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_dec_and_test (<EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Decrements the value of <EM class=parameter><CODE>atomic</CODE></EM> by 1.</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ *atomic -= 1; return (*atomic == 0); }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.5.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.5.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><A title=TRUE class=link href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal><FONT class=extract>TRUE</FONT></CODE></A><FONT class=extract> if the resultant value is zero</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-compare-and-exchange></A>
<H3><FONT class=extract>g_atomic_int_compare_and_exchange&nbsp;()</FONT></H3><PRE class=programlisting><A title=gboolean class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue><FONT class=extract>gboolean</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_compare_and_exchange (<EM class=parameter><CODE>volatile <A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>,
                                   <EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> oldval</CODE></EM>,
                                   <EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> newval</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Compares <EM class=parameter><CODE>atomic</CODE></EM> to <EM class=parameter><CODE>oldval</CODE></EM> and, if equal, sets it to <EM class=parameter><CODE>newval</CODE></EM> . If <EM class=parameter><CODE>atomic</CODE></EM> was not equal to <EM class=parameter><CODE>oldval</CODE></EM> then no change occurs.</FONT></P>
<P><FONT class=extract>This compare and exchange is done atomically.</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ if (*atomic == oldval) { *atomic = newval; return TRUE; } else return FALSE; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.6.8></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>oldval</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to compare with</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>newval</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to conditionally replace with</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.6.9></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><A title=TRUE class=link href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal><FONT class=extract>TRUE</FONT></CODE></A><FONT class=extract> if the exchange took place</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-add></A>
<H3><FONT class=extract>g_atomic_int_add&nbsp;()</FONT></H3><PRE class=programlisting><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=returnvalue><FONT class=extract>gint</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_add (<EM class=parameter><CODE>volatile <A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>,
                  <EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Atomically adds <EM class=parameter><CODE>val</CODE></EM> to the value of <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic += val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<P><FONT class=extract>Before version 2.30, this function did not return a value (but </FONT><A title=g_atomic_int_exchange_and_add&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-exchange-and-add"><CODE class=function><FONT class=extract>g_atomic_int_exchange_and_add()</FONT></CODE></A><FONT class=extract> did, and had the same meaning).</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.7.8></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to add</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.7.9></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the add, signed</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-and></A>
<H3><FONT class=extract>g_atomic_int_and&nbsp;()</FONT></H3><PRE class=programlisting><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue><FONT class=extract>guint</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_and (<EM class=parameter><CODE>volatile <A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type>guint</SPAN></A> *atomic</CODE></EM>,
                  <EM class=parameter><CODE><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type>guint</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Performs an atomic bitwise 'and' of the value of <EM class=parameter><CODE>atomic</CODE></EM> and <EM class=parameter><CODE>val</CODE></EM> , storing the result back in <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic &amp;= val; return tmp; }</CODE>.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.8.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to 'and'</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.8.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the operation, unsigned</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-or></A>
<H3><FONT class=extract>g_atomic_int_or&nbsp;()</FONT></H3><PRE class=programlisting><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue><FONT class=extract>guint</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_or (<EM class=parameter><CODE>volatile <A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type>guint</SPAN></A> *atomic</CODE></EM>,
                 <EM class=parameter><CODE><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type>guint</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Performs an atomic bitwise 'or' of the value of <EM class=parameter><CODE>atomic</CODE></EM> and <EM class=parameter><CODE>val</CODE></EM> , storing the result back in <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic |= val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.9.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to 'or'</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.9.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the operation, unsigned</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-xor></A>
<H3><FONT class=extract>g_atomic_int_xor&nbsp;()</FONT></H3><PRE class=programlisting><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue><FONT class=extract>guint</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_xor (<EM class=parameter><CODE>volatile <A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type>guint</SPAN></A> *atomic</CODE></EM>,
                  <EM class=parameter><CODE><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type>guint</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Performs an atomic bitwise 'xor' of the value of <EM class=parameter><CODE>atomic</CODE></EM> and <EM class=parameter><CODE>val</CODE></EM> , storing the result back in <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic ^= val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.10.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A><FONT class=extract> or </FONT><A title=guint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=type><FONT class=extract>guint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to 'xor'</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.10.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the operation, unsigned</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-get></A>
<H3><FONT class=extract>g_atomic_pointer_get&nbsp;()</FONT></H3><PRE class=programlisting><A title=gpointer class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=returnvalue><FONT class=extract>gpointer</FONT></SPAN></A>
<FONT class=extract>g_atomic_pointer_get (<EM class=parameter><CODE>const volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Gets the current value of <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier (before the get).</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.11.6></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.11.7></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of the pointer</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-set></A>
<H3><FONT class=extract>g_atomic_pointer_set&nbsp;()</FONT></H3><PRE class=programlisting><FONT class=extract><SPAN class=returnvalue>void</SPAN>
g_atomic_pointer_set (<EM class=parameter><CODE>volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>,
                      <EM class=parameter><CODE><A title=gpointer class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> newval</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Sets the value of <EM class=parameter><CODE>atomic</CODE></EM> to <EM class=parameter><CODE>newval</CODE></EM> .</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier (after the set).</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.12.6></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>newval</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a new value to store</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-compare-and-exchange></A>
<H3><FONT class=extract>g_atomic_pointer_compare_and_exchange&nbsp;()</FONT></H3><PRE class=programlisting><A title=gboolean class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue><FONT class=extract>gboolean</FONT></SPAN></A>
<FONT class=extract>g_atomic_pointer_compare_and_exchange (<EM class=parameter><CODE>volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>,
                                       <EM class=parameter><CODE><A title=gpointer class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> oldval</CODE></EM>,
                                       <EM class=parameter><CODE><A title=gpointer class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> newval</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Compares <EM class=parameter><CODE>atomic</CODE></EM> to <EM class=parameter><CODE>oldval</CODE></EM> and, if equal, sets it to <EM class=parameter><CODE>newval</CODE></EM> . If <EM class=parameter><CODE>atomic</CODE></EM> was not equal to <EM class=parameter><CODE>oldval</CODE></EM> then no change occurs.</FONT></P>
<P><FONT class=extract>This compare and exchange is done atomically.</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ if (*atomic == oldval) { *atomic = newval; return TRUE; } else return FALSE; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.13.8></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>oldval</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to compare with</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>newval</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to conditionally replace with</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.13.9></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><A title=TRUE class=link href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal><FONT class=extract>TRUE</FONT></CODE></A><FONT class=extract> if the exchange took place</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-add></A>
<H3><FONT class=extract>g_atomic_pointer_add&nbsp;()</FONT></H3><PRE class=programlisting><A title=gssize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=returnvalue><FONT class=extract>gssize</FONT></SPAN></A>
<FONT class=extract>g_atomic_pointer_add (<EM class=parameter><CODE>volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>,
                      <EM class=parameter><CODE><A title=gssize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=type>gssize</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Atomically adds <EM class=parameter><CODE>val</CODE></EM> to the value of <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic += val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.14.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to add</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.14.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the add, signed</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-and></A>
<H3><FONT class=extract>g_atomic_pointer_and&nbsp;()</FONT></H3><PRE class=programlisting><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=returnvalue><FONT class=extract>gsize</FONT></SPAN></A>
<FONT class=extract>g_atomic_pointer_and (<EM class=parameter><CODE>volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>,
                      <EM class=parameter><CODE><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Performs an atomic bitwise 'and' of the value of <EM class=parameter><CODE>atomic</CODE></EM> and <EM class=parameter><CODE>val</CODE></EM> , storing the result back in <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic &amp;= val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.15.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to 'and'</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.15.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the operation, unsigned</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-or></A>
<H3><FONT class=extract>g_atomic_pointer_or&nbsp;()</FONT></H3><PRE class=programlisting><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=returnvalue><FONT class=extract>gsize</FONT></SPAN></A>
<FONT class=extract>g_atomic_pointer_or (<EM class=parameter><CODE>volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>,
                     <EM class=parameter><CODE><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Performs an atomic bitwise 'or' of the value of <EM class=parameter><CODE>atomic</CODE></EM> and <EM class=parameter><CODE>val</CODE></EM> , storing the result back in <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic |= val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.16.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to 'or'</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.16.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the operation, unsigned</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-pointer-xor></A>
<H3><FONT class=extract>g_atomic_pointer_xor&nbsp;()</FONT></H3><PRE class=programlisting><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=returnvalue><FONT class=extract>gsize</FONT></SPAN></A>
<FONT class=extract>g_atomic_pointer_xor (<EM class=parameter><CODE>volatile <SPAN class=type>void</SPAN> *atomic</CODE></EM>,
                      <EM class=parameter><CODE><A title=gsize class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> val</CODE></EM>);</FONT></PRE>
<P><FONT class=extract>Performs an atomic bitwise 'xor' of the value of <EM class=parameter><CODE>atomic</CODE></EM> and <EM class=parameter><CODE>val</CODE></EM> , storing the result back in <EM class=parameter><CODE>atomic</CODE></EM> .</FONT></P>
<P><FONT class=extract>Think of this operation as an atomic version of <CODE class=literal>{ tmp = *atomic; *atomic ^= val; return tmp; }</CODE>.</FONT></P>
<P><FONT class=extract>This call acts as a full compiler and hardware memory barrier.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.17.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a <SPAN class=type>gpointer-sized</SPAN> value</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to 'xor'</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.17.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the operation, unsigned</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.30</FONT></P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-atomic-int-exchange-and-add></A>
<H3><FONT class=extract>g_atomic_int_exchange_and_add&nbsp;()</FONT></H3><PRE class=programlisting><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=returnvalue><FONT class=extract>gint</FONT></SPAN></A>
<FONT class=extract>g_atomic_int_exchange_and_add (<EM class=parameter><CODE>volatile <A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *atomic</CODE></EM>,
                               <EM class=parameter><CODE><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> val</CODE></EM>);</FONT></PRE>
<DIV class=warning>
<P><FONT class=extract><CODE class=literal>g_atomic_int_exchange_and_add</CODE> has been deprecated since version 2.30 and should not be used in newly-written code.</FONT></P>
<P><FONT class=extract>Use </FONT><A title=g_atomic_int_add&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-add"><CODE class=function><FONT class=extract>g_atomic_int_add()</FONT></CODE></A><FONT class=extract> instead.</FONT></P></DIV>
<P><FONT class=extract>This function existed before </FONT><A title=g_atomic_int_add&nbsp;() class=link href="https://developer.gnome.org/glib/stable/glib-Atomic-Operations.html#g-atomic-int-add"><CODE class=function><FONT class=extract>g_atomic_int_add()</FONT></CODE></A><FONT class=extract> returned the prior value of the integer (which it now does). It is retained only for compatibility reasons. Don't use this function in new code.</FONT></P>
<DIV class=refsect3><A name=id-1.3.9.7.18.7></A>
<H4><FONT class=extract>Parameters</FONT></H4>
<DIV class=informaltable>
<TABLE width="100%" border=0>
<COLGROUP><FONT class=extract>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></FONT></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>atomic</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>a pointer to a </FONT><A title=gint class=link href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type><FONT class=extract>gint</FONT></SPAN></A></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR>
<TR>
<TD class=parameter_name>
<P><FONT class=extract>val</FONT></P></TD>
<TD class=parameter_description>
<P><FONT class=extract>the value to add</FONT></P></TD>
<TD class=parameter_annotations><FONT class=extract>&nbsp;</FONT></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.3.9.7.18.8></A>
<H4><FONT class=extract>Returns</FONT></H4>
<P><FONT class=extract>the value of <EM class=parameter><CODE>atomic</CODE></EM> before the add, signed</FONT></P>
<P><FONT class=extract></FONT></P></DIV>
<P class=since><FONT class=extract>Since 2.4</FONT></P></DIV></DIV>
<DIV class=refsect1><A name=glib-Atomic-Operations.other_details></A>
<H2>Types and Values</H2>
<DIV class=refsect2><A name=G-ATOMIC-LOCK-FREE:CAPS></A>
<H3><FONT class=extract>G_ATOMIC_LOCK_FREE</FONT></H3><PRE class=programlisting><FONT class=extract>#define G_ATOMIC_LOCK_FREE
</FONT></PRE>
<P><FONT class=extract>This macro is defined if the atomic operations of GLib are implemented using real hardware atomic operations. This means that the GLib atomic API can be used between processes and safely mixed with other (hardware) atomic APIs.</FONT></P>
<P><FONT class=extract>If this macro is not defined, the atomic operations may be emulated using a mutex. In that case, the GLib atomic operations are only atomic relative to themselves and within a single process.</FONT></P></DIV></DIV>
<DIV class=refsect1><A name=glib-Atomic-Operations.see-also></A>
<H2><FONT class=extract>See Also</FONT></H2>
<P><A title="union GMutex" class=link href="https://developer.gnome.org/glib/stable/glib-Threads.html#GMutex"><SPAN class=type><FONT class=extract>GMutex</FONT></SPAN></A></P></DIV>