<TABLE width="100%">
<TBODY>
<TR>
<TD vAlign=top>
<H2><SPAN class=refentrytitle><A name=glib-Data-HMACs.top_of_page></A>Secure HMAC Digests</SPAN></H2>
<P>Secure HMAC Digests &#8212; computes the HMAC for data</P></TD>
<TD class=gallery_image vAlign=top align=right></TD></TR></TBODY></TABLE>
<DIV class=refsect1><A name=glib-Data-HMACs.functions></A>
<H2>Functions</H2>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=functions_return width=150></COL>
<COL class=functions_name></COL></COLGROUP>
<TBODY>
<TR>
<TD class=function_type><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=returnvalue>GHmac</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_hmac_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-new">g_hmac_new</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=returnvalue>GHmac</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_hmac_copy&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-copy">g_hmac_copy</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=returnvalue>GHmac</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_hmac_ref&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-ref">g_hmac_ref</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A class=link title=g_hmac_unref&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-unref">g_hmac_unref</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A class=link title=g_hmac_update&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-update">g_hmac_update</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_hmac_get_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-string">g_hmac_get_string</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A class=link title=g_hmac_get_digest&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-digest">g_hmac_get_digest</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_compute_hmac_for_data&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-compute-hmac-for-data">g_compute_hmac_for_data</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_compute_hmac_for_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-compute-hmac-for-string">g_compute_hmac_for_string</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-Data-HMACs.other></A>
<H2>Types and Values</H2>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=name width=150></COL>
<COL class=description></COL></COLGROUP>
<TBODY>
<TR>
<TD class=datatype_keyword>&nbsp;</TD>
<TD class=function_name><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac">GHmac</A></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-Data-HMACs.includes></A>
<H2>Includes</H2><PRE class=synopsis>#include &lt;glib.h&gt;
</PRE></DIV>
<DIV class=refsect1><A name=glib-Data-HMACs.description></A>
<H2>Description</H2>
<P>HMACs should be used when producing a cookie or hash based on data and a key. Simple mechanisms for using SHA1 and other algorithms to digest a key and data together are vulnerable to various security issues. <A class=ulink href="http://en.wikipedia.org/wiki/HMAC" target=_top>HMAC</A> uses algorithms like SHA1 in a secure way to produce a digest of a key and data.</P>
<P>Both the key and data are arbitrary byte arrays of bytes or characters.</P>
<P>Support for HMAC Digests has been added in GLib 2.30, and support for SHA-512 in GLib 2.42.</P></DIV>
<DIV class=refsect1><A name=glib-Data-HMACs.functions_details></A>
<H2>Functions</H2>
<DIV class=refsect2><A name=g-hmac-new></A>
<H3>g_hmac_new&nbsp;()</H3><PRE class=programlisting><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=returnvalue>GHmac</SPAN></A>&nbsp;*
g_hmac_new (<EM class=parameter><CODE><A class=link title="enum GChecksumType" href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#GChecksumType"><SPAN class=type>GChecksumType</SPAN></A> digest_type</CODE></EM>,
            <EM class=parameter><CODE>const <A class=link title=guchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guchar"><SPAN class=type>guchar</SPAN></A> *key</CODE></EM>,
            <EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> key_len</CODE></EM>);</PRE>
<P>Creates a new <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>, using the digest algorithm <EM class=parameter><CODE>digest_type</CODE></EM> . If the <EM class=parameter><CODE>digest_type</CODE></EM> is not known, <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A> is returned. A <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> can be used to compute the HMAC of a key and an arbitrary binary blob, using different hashing algorithms.</P>
<P>A <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> works by feeding a binary blob through <A class=link title=g_hmac_update&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-update"><CODE class=function>g_hmac_update()</CODE></A> until the data is complete; the digest can then be extracted using <A class=link title=g_hmac_get_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-string"><CODE class=function>g_hmac_get_string()</CODE></A>, which will return the checksum as a hexadecimal string; or <A class=link title=g_hmac_get_digest&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-digest"><CODE class=function>g_hmac_get_digest()</CODE></A>, which will return a array of raw bytes. Once either <A class=link title=g_hmac_get_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-string"><CODE class=function>g_hmac_get_string()</CODE></A> or <A class=link title=g_hmac_get_digest&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-digest"><CODE class=function>g_hmac_get_digest()</CODE></A> have been called on a <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>, the HMAC will be closed and it won't be possible to call <A class=link title=g_hmac_update&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-update"><CODE class=function>g_hmac_update()</CODE></A> on it anymore.</P>
<P>Support for digests of type <A class=link href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#G-CHECKSUM-SHA512:CAPS"><CODE class=literal>G_CHECKSUM_SHA512</CODE></A> has been added in GLib 2.42.</P>
<DIV class=refsect3><A name=id-1.5.7.7.2.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>digest_type</P></TD>
<TD class=parameter_description>
<P>the desired type of digest</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>key</P></TD>
<TD class=parameter_description>
<P>the key for the HMAC. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="Parameter points to an array of items."><SPAN class=acronym>array</SPAN></ACRONYM> length=key_len]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>key_len</P></TD>
<TD class=parameter_description>
<P>the length of the keys</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.7.7.2.8></A>
<H4>Returns</H4>
<P>the newly created <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A>. Use <A class=link title=g_hmac_unref&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-unref"><CODE class=function>g_hmac_unref()</CODE></A> to free the memory allocated by it.</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-hmac-copy></A>
<H3>g_hmac_copy&nbsp;()</H3><PRE class=programlisting><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=returnvalue>GHmac</SPAN></A>&nbsp;*
g_hmac_copy (<EM class=parameter><CODE>const <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> *hmac</CODE></EM>);</PRE>
<P>Copies a <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>. If <EM class=parameter><CODE>hmac</CODE></EM> has been closed, by calling <A class=link title=g_hmac_get_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-string"><CODE class=function>g_hmac_get_string()</CODE></A> or <A class=link title=g_hmac_get_digest&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-digest"><CODE class=function>g_hmac_get_digest()</CODE></A>, the copied HMAC will be closed as well.</P>
<DIV class=refsect3><A name=id-1.5.7.7.3.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>hmac</P></TD>
<TD class=parameter_description>
<P>the <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> to copy</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.7.7.3.6></A>
<H4>Returns</H4>
<P>the copy of the passed <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>. Use <A class=link title=g_hmac_unref&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-unref"><CODE class=function>g_hmac_unref()</CODE></A> when finished using it.</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-hmac-ref></A>
<H3>g_hmac_ref&nbsp;()</H3><PRE class=programlisting><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=returnvalue>GHmac</SPAN></A>&nbsp;*
g_hmac_ref (<EM class=parameter><CODE><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> *hmac</CODE></EM>);</PRE>
<P>Atomically increments the reference count of <EM class=parameter><CODE>hmac</CODE></EM> by one.</P>
<P>This function is MT-safe and may be called from any thread.</P>
<DIV class=refsect3><A name=id-1.5.7.7.4.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>hmac</P></TD>
<TD class=parameter_description>
<P>a valid <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.7.7.4.7></A>
<H4>Returns</H4>
<P>the passed in <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>.</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-hmac-unref></A>
<H3>g_hmac_unref&nbsp;()</H3><PRE class=programlisting><SPAN class=returnvalue>void</SPAN>
g_hmac_unref (<EM class=parameter><CODE><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> *hmac</CODE></EM>);</PRE>
<P>Atomically decrements the reference count of <EM class=parameter><CODE>hmac</CODE></EM> by one.</P>
<P>If the reference count drops to 0, all keys and values will be destroyed, and all memory allocated by the hash table is released. This function is MT-safe and may be called from any thread. Frees the memory allocated for <EM class=parameter><CODE>hmac</CODE></EM> .</P>
<DIV class=refsect3><A name=id-1.5.7.7.5.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>hmac</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-hmac-update></A>
<H3>g_hmac_update&nbsp;()</H3><PRE class=programlisting><SPAN class=returnvalue>void</SPAN>
g_hmac_update (<EM class=parameter><CODE><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> *hmac</CODE></EM>,
               <EM class=parameter><CODE>const <A class=link title=guchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guchar"><SPAN class=type>guchar</SPAN></A> *data</CODE></EM>,
               <EM class=parameter><CODE><A class=link title=gssize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=type>gssize</SPAN></A> length</CODE></EM>);</PRE>
<P>Feeds <EM class=parameter><CODE>data</CODE></EM> into an existing <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A>.</P>
<P>The HMAC must still be open, that is <A class=link title=g_hmac_get_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-string"><CODE class=function>g_hmac_get_string()</CODE></A> or <A class=link title=g_hmac_get_digest&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-digest"><CODE class=function>g_hmac_get_digest()</CODE></A> must not have been called on <EM class=parameter><CODE>hmac</CODE></EM> .</P>
<DIV class=refsect3><A name=id-1.5.7.7.6.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>hmac</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>data</P></TD>
<TD class=parameter_description>
<P>buffer used to compute the checksum. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="Parameter points to an array of items."><SPAN class=acronym>array</SPAN></ACRONYM> length=length]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>length</P></TD>
<TD class=parameter_description>
<P>size of the buffer, or -1 if it is a nul-terminated string</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-hmac-get-string></A>
<H3>g_hmac_get_string&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_hmac_get_string (<EM class=parameter><CODE><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> *hmac</CODE></EM>);</PRE>
<P>Gets the HMAC as an hexadecimal string.</P>
<P>Once this function has been called the <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> can no longer be updated with <A class=link title=g_hmac_update&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-update"><CODE class=function>g_hmac_update()</CODE></A>.</P>
<P>The hexadecimal characters will be lower case.</P>
<DIV class=refsect3><A name=id-1.5.7.7.7.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>hmac</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.7.7.7.8></A>
<H4>Returns</H4>
<P>the hexadecimal representation of the HMAC. The returned string is owned by the HMAC and should not be modified or freed.</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-hmac-get-digest></A>
<H3>g_hmac_get_digest&nbsp;()</H3><PRE class=programlisting><SPAN class=returnvalue>void</SPAN>
g_hmac_get_digest (<EM class=parameter><CODE><A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> *hmac</CODE></EM>,
                   <EM class=parameter><CODE><A class=link title=guint8 href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint8"><SPAN class=type>guint8</SPAN></A> *buffer</CODE></EM>,
                   <EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> *digest_len</CODE></EM>);</PRE>
<P>Gets the digest from <EM class=parameter><CODE>checksum</CODE></EM> as a raw binary array and places it into <EM class=parameter><CODE>buffer</CODE></EM> . The size of the digest depends on the type of checksum.</P>
<P>Once this function has been called, the <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A> is closed and can no longer be updated with <A class=link title=g_checksum_update&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#g-checksum-update"><CODE class=function>g_checksum_update()</CODE></A>.</P>
<DIV class=refsect3><A name=id-1.5.7.7.8.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>hmac</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GHmac href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#GHmac"><SPAN class=type>GHmac</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>buffer</P></TD>
<TD class=parameter_description>
<P>output buffer</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>digest_len</P></TD>
<TD class=parameter_description>
<P>an inout parameter. The caller initializes it to the size of <EM class=parameter><CODE>buffer</CODE></EM> . After the call it contains the length of the digest</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-compute-hmac-for-data></A>
<H3>g_compute_hmac_for_data&nbsp;()</H3><PRE class=programlisting><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_compute_hmac_for_data (<EM class=parameter><CODE><A class=link title="enum GChecksumType" href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#GChecksumType"><SPAN class=type>GChecksumType</SPAN></A> digest_type</CODE></EM>,
                         <EM class=parameter><CODE>const <A class=link title=guchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guchar"><SPAN class=type>guchar</SPAN></A> *key</CODE></EM>,
                         <EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> key_len</CODE></EM>,
                         <EM class=parameter><CODE>const <A class=link title=guchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guchar"><SPAN class=type>guchar</SPAN></A> *data</CODE></EM>,
                         <EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> length</CODE></EM>);</PRE>
<P>Computes the HMAC for a binary <EM class=parameter><CODE>data</CODE></EM> of <EM class=parameter><CODE>length</CODE></EM> . This is a convenience wrapper for <A class=link title=g_hmac_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-new"><CODE class=function>g_hmac_new()</CODE></A>, <A class=link title=g_hmac_get_string&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-get-string"><CODE class=function>g_hmac_get_string()</CODE></A> and <A class=link title=g_hmac_unref&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-unref"><CODE class=function>g_hmac_unref()</CODE></A>.</P>
<P>The hexadecimal string returned will be in lower case.</P>
<DIV class=refsect3><A name=id-1.5.7.7.9.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>digest_type</P></TD>
<TD class=parameter_description>
<P>a <A class=link title="enum GChecksumType" href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#GChecksumType"><SPAN class=type>GChecksumType</SPAN></A> to use for the HMAC</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>key</P></TD>
<TD class=parameter_description>
<P>the key to use in the HMAC. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="Parameter points to an array of items."><SPAN class=acronym>array</SPAN></ACRONYM> length=key_len]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>key_len</P></TD>
<TD class=parameter_description>
<P>the length of the key</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>data</P></TD>
<TD class=parameter_description>
<P>binary blob to compute the HMAC of</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>length</P></TD>
<TD class=parameter_description>
<P>length of <EM class=parameter><CODE>data</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.7.7.9.7></A>
<H4>Returns</H4>
<P>the HMAC of the binary data as a string in hexadecimal. The returned string should be freed with <A class=link title=g_free&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Memory-Allocation.html#g-free"><CODE class=function>g_free()</CODE></A> when done using it.</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-compute-hmac-for-string></A>
<H3>g_compute_hmac_for_string&nbsp;()</H3><PRE class=programlisting><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_compute_hmac_for_string (<EM class=parameter><CODE><A class=link title="enum GChecksumType" href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#GChecksumType"><SPAN class=type>GChecksumType</SPAN></A> digest_type</CODE></EM>,
                           <EM class=parameter><CODE>const <A class=link title=guchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guchar"><SPAN class=type>guchar</SPAN></A> *key</CODE></EM>,
                           <EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> key_len</CODE></EM>,
                           <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *str</CODE></EM>,
                           <EM class=parameter><CODE><A class=link title=gssize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=type>gssize</SPAN></A> length</CODE></EM>);</PRE>
<P>Computes the HMAC for a string.</P>
<P>The hexadecimal string returned will be in lower case.</P>
<DIV class=refsect3><A name=id-1.5.7.7.10.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>digest_type</P></TD>
<TD class=parameter_description>
<P>a <A class=link title="enum GChecksumType" href="https://developer.gnome.org/glib/stable/glib-Data-Checksums.html#GChecksumType"><SPAN class=type>GChecksumType</SPAN></A> to use for the HMAC</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>key</P></TD>
<TD class=parameter_description>
<P>the key to use in the HMAC. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="Parameter points to an array of items."><SPAN class=acronym>array</SPAN></ACRONYM> length=key_len]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>key_len</P></TD>
<TD class=parameter_description>
<P>the length of the key</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>str</P></TD>
<TD class=parameter_description>
<P>the string to compute the HMAC for</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>length</P></TD>
<TD class=parameter_description>
<P>the length of the string, or -1 if the string is nul-terminated</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.7.7.10.7></A>
<H4>Returns</H4>
<P>the HMAC as a hexadecimal string. The returned string should be freed with <A class=link title=g_free&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Memory-Allocation.html#g-free"><CODE class=function>g_free()</CODE></A> when done using it.</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV></DIV>
<DIV class=refsect1><A name=glib-Data-HMACs.other_details></A>
<H2>Types and Values</H2>
<DIV class=refsect2><A name=GHmac></A>
<H3>GHmac</H3><PRE class=programlisting>typedef struct _GHmac GHmac;</PRE>
<P>An opaque structure representing a HMAC operation. To create a new GHmac, use <A class=link title=g_hmac_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-new"><CODE class=function>g_hmac_new()</CODE></A>. To free a GHmac, use <A class=link title=g_hmac_unref&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Data-HMACs.html#g-hmac-unref"><CODE class=function>g_hmac_unref()</CODE></A>.</P>
<P class=since>Since 2.30</P></DIV></DIV>