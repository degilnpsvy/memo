<TABLE width="100%">
<TBODY>
<TR>
<TD vAlign=top>
<H2><SPAN class=refentrytitle><A name=glib-I18N.top_of_page></A>Internationalization</SPAN></H2>
<P>Internationalization &#8212; gettext support macros</P></TD>
<TD class=gallery_image vAlign=top align=right></TD></TR></TBODY></TABLE>
<DIV class=refsect1><A name=glib-I18N.functions></A>
<H2>Functions</H2>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=functions_return width=150></COL>
<COL class=functions_name></COL></COLGROUP>
<TBODY>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A class=link title=_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#gettext-macro">_</A><SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A class=link title=Q_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#Q-:CAPS">Q_</A><SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A class=link title=C_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS">C_</A><SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A class=link title=N_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#N-:CAPS">N_</A><SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A class=link title=NC_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#NC-:CAPS">NC_</A><SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext">g_dgettext</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_dcgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dcgettext">g_dcgettext</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_dngettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dngettext">g_dngettext</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_dpgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dpgettext">g_dpgettext</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_dpgettext2&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dpgettext2">g_dpgettext2</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_strip_context&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-strip-context">g_strip_context</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* const * </TD>
<TD class=function_name><A class=link title=g_get_language_names&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-get-language-names">g_get_language_names</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;** </TD>
<TD class=function_name><A class=link title=g_get_locale_variants&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-get-locale-variants">g_get_locale_variants</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-I18N.includes></A>
<H2>Includes</H2><PRE class=synopsis>#include &lt;glib.h&gt;
#include &lt;glib/gi18n.h&gt;
</PRE></DIV>
<DIV class=refsect1><A name=glib-I18N.description></A>
<H2>Description</H2>
<P>GLib doesn't force any particular localization method upon its users. But since GLib itself is localized using the <CODE class=function>gettext()</CODE> mechanism, it seems natural to offer the de-facto standard <CODE class=function>gettext()</CODE> support macros in an easy-to-use form.</P>
<P>In order to use these macros in an application, you must include <CODE class=literal>&lt;glib/gi18n.h&gt;</CODE>. For use in a library, you must include <CODE class=literal>&lt;glib/gi18n-lib.h&gt;</CODE> after defining the <CODE class=literal>GETTEXT_PACKAGE</CODE> macro suitably for your library:</P>
<DIV class=informalexample>
<TABLE class=listing_frame border=0 cellSpacing=0 cellPadding=0>
<TBODY>
<TR>
<TD class=listing_lines align=right><PRE>1
2</PRE></TD>
<TD class=listing_code><PRE class=programlisting><SPAN class="gtkdoc ppc">#define GETTEXT_PACKAGE</SPAN> <SPAN class="gtkdoc pps">"gtk20"</SPAN><SPAN class="gtkdoc ppc"></SPAN>
<SPAN class="gtkdoc ppc">#include &lt;glib/gi18n-lib.h&gt;</SPAN></PRE></TD></TR></TBODY></TABLE></DIV>
<P>For an application, note that you also have to call <CODE class=function>bindtextdomain()</CODE>, <CODE class=function>bind_textdomain_codeset()</CODE>, <CODE class=function>textdomain()</CODE> and <A class=link title=Locale href="https://developer.gnome.org/glib/stable/glib-running.html#setlocale"><CODE class=function>setlocale()</CODE></A> early on in your <CODE class=function>main()</CODE> to make <CODE class=function>gettext()</CODE> work.</P>
<P>For a library, you only have to call <CODE class=function>bindtextdomain()</CODE> and <CODE class=function>bind_textdomain_codeset()</CODE> in your initialization function. If your library doesn't have an initialization function, you can call the functions before the first translated message.</P>
<P>The gettext manual covers details of how to set up message extraction with xgettext.</P></DIV>
<DIV class=refsect1><A name=glib-I18N.functions_details></A>
<H2>Functions</H2>
<DIV class=refsect2><A name=gettext-macro></A>
<H3>_()</H3><PRE class=programlisting>#define             _(String)</PRE>
<P>Marks a string for translation, gets replaced with the translated string at runtime.</P>
<DIV class=refsect3><A name=id-1.5.8.6.2.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>String</P></TD>
<TD class=parameter_description>
<P>the string to be translated</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.4</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=Q-:CAPS></A>
<H3>Q_()</H3><PRE class=programlisting>#define             Q_(String)</PRE>
<P>Like <A class=link title=_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#gettext-macro"><CODE class=function>_()</CODE></A>, but handles context in message ids. This has the advantage that the string can be adorned with a prefix to guarantee uniqueness and provide context to the translator.</P>
<P>One use case given in the gettext manual is GUI translation, where one could e.g. disambiguate two "Open" menu entries as "File|Open" and "Printer|Open". Another use case is the string "Russian" which may have to be translated differently depending on whether it's the name of a character set or a language. This could be solved by using "charset|Russian" and "language|Russian".</P>
<P>See the <A class=link title=C_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS"><CODE class=function>C_()</CODE></A> macro for a different way to mark up translatable strings with context.</P>
<P>If you are using the <A class=link title=Q_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#Q-:CAPS"><CODE class=function>Q_()</CODE></A> macro, you need to make sure that you pass <CODE class=literal>--keyword=Q_</CODE> to xgettext when extracting messages. If you are using GNU gettext &gt;= 0.15, you can also use <CODE class=literal>--keyword=Q_:1g</CODE> to let xgettext split the context string off into a msgctxt line in the po file.</P>
<DIV class=refsect3><A name=id-1.5.8.6.3.8></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>String</P></TD>
<TD class=parameter_description>
<P>the string to be translated, with a '|'-separated prefix which must not be translated</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.3.9></A>
<H4>Returns</H4>
<P>the translated message</P>
<P></P></DIV>
<P class=since>Since 2.4</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=C-:CAPS></A>
<H3>C_()</H3><PRE class=programlisting>#define             C_(Context,String)</PRE>
<P>Uses gettext to get the translation for <EM class=parameter><CODE>String</CODE></EM> . <EM class=parameter><CODE>Context</CODE></EM> is used as a context. This is mainly useful for short strings which may need different translations, depending on the context in which they are used.</P>
<DIV class=informalexample>
<TABLE class=listing_frame border=0 cellSpacing=0 cellPadding=0>
<TBODY>
<TR>
<TD class=listing_lines align=right><PRE>1
2</PRE></TD>
<TD class=listing_code><PRE class=programlisting>label1 <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS">C_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"Navigation"</SPAN><SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"Back"</SPAN><SPAN class="gtkdoc opt">);</SPAN>
label2 <SPAN class="gtkdoc opt">=</SPAN> <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS">C_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"Body part"</SPAN><SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"Back"</SPAN><SPAN class="gtkdoc opt">);</SPAN></PRE></TD></TR></TBODY></TABLE></DIV>
<P></P>
<P>If you are using the <A class=link title=C_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS"><CODE class=function>C_()</CODE></A> macro, you need to make sure that you pass <CODE class=literal>--keyword=C_:1c,2</CODE> to xgettext when extracting messages. Note that this only works with GNU gettext &gt;= 0.15.</P>
<DIV class=refsect3><A name=id-1.5.8.6.4.8></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>Context</P></TD>
<TD class=parameter_description>
<P>a message context, must be a string literal</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>String</P></TD>
<TD class=parameter_description>
<P>a message id, must be a string literal</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.4.9></A>
<H4>Returns</H4>
<P>the translated message</P>
<P></P></DIV>
<P class=since>Since 2.16</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=N-:CAPS></A>
<H3>N_()</H3><PRE class=programlisting>#define             N_(String)</PRE>
<P>Only marks a string for translation. This is useful in situations where the translated strings can't be directly used, e.g. in string array initializers. To get the translated string, call <CODE class=function>gettext()</CODE> at runtime.</P>
<DIV class=informalexample>
<TABLE class=listing_frame border=0 cellSpacing=0 cellPadding=0>
<TBODY>
<TR>
<TD class=listing_lines align=right><PRE>1
2
3
4
5
6
7
8
9
10
11
12
13</PRE></TD>
<TD class=listing_code><PRE class=programlisting><SPAN class="gtkdoc opt">{</SPAN>
  <SPAN class="gtkdoc kwb">static const char</SPAN> <SPAN class="gtkdoc opt">*</SPAN>messages<SPAN class="gtkdoc opt">[] = {</SPAN>
    <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#N-:CAPS">N_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"some very meaningful message"</SPAN><SPAN class="gtkdoc opt">),</SPAN>
    <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#N-:CAPS">N_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"and another one"</SPAN><SPAN class="gtkdoc opt">)</SPAN>
  <SPAN class="gtkdoc opt">};</SPAN>
  <SPAN class="gtkdoc kwb">const char</SPAN> <SPAN class="gtkdoc opt">*</SPAN>string<SPAN class="gtkdoc opt">;</SPAN>
  <SPAN class="gtkdoc opt">...</SPAN>
  string
    <SPAN class="gtkdoc opt">=</SPAN> index <SPAN class="gtkdoc opt">&gt;</SPAN> <SPAN class=number>1</SPAN> ? <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#gettext-macro">_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"a default message"</SPAN><SPAN class="gtkdoc opt">) :</SPAN> <SPAN class=function>gettext</SPAN> <SPAN class="gtkdoc opt">(</SPAN>messages<SPAN class="gtkdoc opt">[</SPAN>index<SPAN class="gtkdoc opt">]);</SPAN>

  <SPAN class=function>fputs</SPAN> <SPAN class="gtkdoc opt">(</SPAN>string<SPAN class="gtkdoc opt">);</SPAN>
  <SPAN class="gtkdoc opt">...</SPAN>
<SPAN class="gtkdoc opt">}</SPAN></PRE></TD></TR></TBODY></TABLE></DIV>
<P></P>
<DIV class=refsect3><A name=id-1.5.8.6.5.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>String</P></TD>
<TD class=parameter_description>
<P>the string to be translated</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.4</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=NC-:CAPS></A>
<H3>NC_()</H3><PRE class=programlisting>#define             NC_(Context, String)</PRE>
<P>Only marks a string for translation, with context. This is useful in situations where the translated strings can't be directly used, e.g. in string array initializers. To get the translated string, you should call <A class=link title=g_dpgettext2&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dpgettext2"><CODE class=function>g_dpgettext2()</CODE></A> at runtime.</P>
<DIV class=informalexample>
<TABLE class=listing_frame border=0 cellSpacing=0 cellPadding=0>
<TBODY>
<TR>
<TD class=listing_lines align=right><PRE>1
2
3
4
5
6
7
8
9
10
11
12
13
14</PRE></TD>
<TD class=listing_code><PRE class=programlisting><SPAN class="gtkdoc opt">{</SPAN>
  <SPAN class="gtkdoc kwb">static const char</SPAN> <SPAN class="gtkdoc opt">*</SPAN>messages<SPAN class="gtkdoc opt">[] = {</SPAN>
    <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#NC-:CAPS">NC_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"some context"</SPAN><SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"some very meaningful message"</SPAN><SPAN class="gtkdoc opt">),</SPAN>
    <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#NC-:CAPS">NC_</A></SPAN><SPAN class="gtkdoc opt">(</SPAN><SPAN class=string>"some context"</SPAN><SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"and another one"</SPAN><SPAN class="gtkdoc opt">)</SPAN>
  <SPAN class="gtkdoc opt">};</SPAN>
  <SPAN class="gtkdoc kwb">const char</SPAN> <SPAN class="gtkdoc opt">*</SPAN>string<SPAN class="gtkdoc opt">;</SPAN>
  <SPAN class="gtkdoc opt">...</SPAN>
  string
    <SPAN class="gtkdoc opt">=</SPAN> index <SPAN class="gtkdoc opt">&gt;</SPAN> <SPAN class=number>1</SPAN> ? <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dpgettext2">g_dpgettext2</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>NULL<SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"some context"</SPAN><SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"a default message"</SPAN><SPAN class="gtkdoc opt">)</SPAN>
                <SPAN class="gtkdoc opt">:</SPAN> <SPAN class=function><A href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dpgettext2">g_dpgettext2</A></SPAN> <SPAN class="gtkdoc opt">(</SPAN>NULL<SPAN class="gtkdoc opt">,</SPAN> <SPAN class=string>"some context"</SPAN><SPAN class="gtkdoc opt">,</SPAN> messages<SPAN class="gtkdoc opt">[</SPAN>index<SPAN class="gtkdoc opt">]);</SPAN>

  <SPAN class=function>fputs</SPAN> <SPAN class="gtkdoc opt">(</SPAN>string<SPAN class="gtkdoc opt">);</SPAN>
  <SPAN class="gtkdoc opt">...</SPAN>
<SPAN class="gtkdoc opt">}</SPAN></PRE></TD></TR></TBODY></TABLE></DIV>
<P></P>
<P>If you are using the <A class=link title=NC_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#NC-:CAPS"><CODE class=function>NC_()</CODE></A> macro, you need to make sure that you pass <CODE class=literal>--keyword=NC_:1c,2</CODE> to xgettext when extracting messages. Note that this only works with GNU gettext &gt;= 0.15. Intltool has support for the <A class=link title=NC_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#NC-:CAPS"><CODE class=function>NC_()</CODE></A> macro since version 0.40.1.</P>
<DIV class=refsect3><A name=id-1.5.8.6.6.8></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>Context</P></TD>
<TD class=parameter_description>
<P>a message context, must be a string literal</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>String</P></TD>
<TD class=parameter_description>
<P>a message id, must be a string literal</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.18</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-dgettext></A>
<H3>g_dgettext&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_dgettext (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *domain</CODE></EM>,
            <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgid</CODE></EM>);</PRE>
<P>This function is a wrapper of <CODE class=function>dgettext()</CODE> which does not translate the message if the default domain as set with <CODE class=function>textdomain()</CODE> has no translations for the current locale.</P>
<P>The advantage of using this function over <CODE class=function>dgettext()</CODE> proper is that libraries using this function (like GTK+) will not use translations if the application using the library does not have translations for the current locale. This results in a consistent English-only interface instead of one having partial translations. For this feature to work, the call to <CODE class=function>textdomain()</CODE> and <A class=link title=Locale href="https://developer.gnome.org/glib/stable/glib-running.html#setlocale"><CODE class=function>setlocale()</CODE></A> should precede any <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> invocations. For GTK+, it means calling <CODE class=function>textdomain()</CODE> before gtk_init or its variants.</P>
<P>This function disables translations if and only if upon its first call all the following conditions hold:</P>
<DIV class=itemizedlist>
<UL style="LIST-STYLE-TYPE: disc" class=itemizedlist>
<LI class=listitem>
<P><EM class=parameter><CODE>domain</CODE></EM> is not <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A></P></LI>
<LI class=listitem>
<P>textdomain() has been called to set a default text domain</P></LI>
<LI class=listitem>
<P>there is no translations available for the default text domain and the current locale</P></LI>
<LI class=listitem>
<P>current locale is not "C" or any English locales (those starting with "en_")</P></LI></UL></DIV>
<P>Note that this behavior may not be desired for example if an application has its untranslated messages in a language other than English. In those cases the application should call <CODE class=function>textdomain()</CODE> after initializing GTK+.</P>
<P>Applications should normally not use this function directly, but use the <A class=link title=_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#gettext-macro"><CODE class=function>_()</CODE></A> macro for translations.</P>
<DIV class=refsect3><A name=id-1.5.8.6.7.10></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>domain</P></TD>
<TD class=parameter_description>
<P>the translation domain to use, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A> to use the domain set with <CODE class=function>textdomain()</CODE>. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="NULL is OK, both for passing and for returning."><SPAN class=acronym>allow-none</SPAN></ACRONYM>]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>msgid</P></TD>
<TD class=parameter_description>
<P>message to translate</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.7.11></A>
<H4>Returns</H4>
<P>The translated string</P>
<P></P></DIV>
<P class=since>Since 2.18</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-dcgettext></A>
<H3>g_dcgettext&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_dcgettext (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *domain</CODE></EM>,
             <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgid</CODE></EM>,
             <EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> category</CODE></EM>);</PRE>
<P>This is a variant of <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> that allows specifying a locale category instead of always using <CODE class=literal>LC_MESSAGES</CODE>. See <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> for more information about how this functions differs from calling <CODE class=function>dcgettext()</CODE> directly.</P>
<DIV class=refsect3><A name=id-1.5.8.6.8.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>domain</P></TD>
<TD class=parameter_description>
<P>the translation domain to use, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A> to use the domain set with <CODE class=function>textdomain()</CODE>. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="NULL is OK, both for passing and for returning."><SPAN class=acronym>allow-none</SPAN></ACRONYM>]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>msgid</P></TD>
<TD class=parameter_description>
<P>message to translate</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>category</P></TD>
<TD class=parameter_description>
<P>a locale category</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.8.6></A>
<H4>Returns</H4>
<P>the translated string for the given locale category</P>
<P></P></DIV>
<P class=since>Since 2.26</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-dngettext></A>
<H3>g_dngettext&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_dngettext (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *domain</CODE></EM>,
             <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgid</CODE></EM>,
             <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgid_plural</CODE></EM>,
             <EM class=parameter><CODE><A class=link title=gulong href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gulong"><SPAN class=type>gulong</SPAN></A> n</CODE></EM>);</PRE>
<P>This function is a wrapper of <CODE class=function>dngettext()</CODE> which does not translate the message if the default domain as set with <CODE class=function>textdomain()</CODE> has no translations for the current locale.</P>
<P>See <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> for details of how this differs from <CODE class=function>dngettext()</CODE> proper.</P>
<DIV class=refsect3><A name=id-1.5.8.6.9.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>domain</P></TD>
<TD class=parameter_description>
<P>the translation domain to use, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A> to use the domain set with <CODE class=function>textdomain()</CODE>. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="NULL is OK, both for passing and for returning."><SPAN class=acronym>allow-none</SPAN></ACRONYM>]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>msgid</P></TD>
<TD class=parameter_description>
<P>message to translate</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>msgid_plural</P></TD>
<TD class=parameter_description>
<P>plural form of the message</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>n</P></TD>
<TD class=parameter_description>
<P>the quantity for which translation is needed</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.9.7></A>
<H4>Returns</H4>
<P>The translated string</P>
<P></P></DIV>
<P class=since>Since 2.18</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-dpgettext></A>
<H3>g_dpgettext&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_dpgettext (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *domain</CODE></EM>,
             <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgctxtid</CODE></EM>,
             <EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> msgidoffset</CODE></EM>);</PRE>
<P>This function is a variant of <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> which supports a disambiguating message context. GNU gettext uses the '\004' character to separate the message context and message id in <EM class=parameter><CODE>msgctxtid</CODE></EM> . If 0 is passed as <EM class=parameter><CODE>msgidoffset</CODE></EM> , this function will fall back to trying to use the deprecated convention of using "|" as a separation character.</P>
<P>This uses <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> internally. See that functions for differences with <CODE class=function>dgettext()</CODE> proper.</P>
<P>Applications should normally not use this function directly, but use the <A class=link title=C_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS"><CODE class=function>C_()</CODE></A> macro for translations with context.</P>
<DIV class=refsect3><A name=id-1.5.8.6.10.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>domain</P></TD>
<TD class=parameter_description>
<P>the translation domain to use, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A> to use the domain set with <CODE class=function>textdomain()</CODE>. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="NULL is OK, both for passing and for returning."><SPAN class=acronym>allow-none</SPAN></ACRONYM>]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>msgctxtid</P></TD>
<TD class=parameter_description>
<P>a combined message context and message id, separated by a \004 character</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>msgidoffset</P></TD>
<TD class=parameter_description>
<P>the offset of the message id in <EM class=parameter><CODE>msgctxid</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.10.8></A>
<H4>Returns</H4>
<P>The translated string</P>
<P></P></DIV>
<P class=since>Since 2.16</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-dpgettext2></A>
<H3>g_dpgettext2&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_dpgettext2 (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *domain</CODE></EM>,
              <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *context</CODE></EM>,
              <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgid</CODE></EM>);</PRE>
<P>This function is a variant of <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> which supports a disambiguating message context. GNU gettext uses the '\004' character to separate the message context and message id in <EM class=parameter><CODE>msgctxtid</CODE></EM> .</P>
<P>This uses <A class=link title=g_dgettext&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-dgettext"><CODE class=function>g_dgettext()</CODE></A> internally. See that functions for differences with <CODE class=function>dgettext()</CODE> proper.</P>
<P>This function differs from <A class=link title=C_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#C-:CAPS"><CODE class=function>C_()</CODE></A> in that it is not a macro and thus you may use non-string-literals as context and msgid arguments.</P>
<DIV class=refsect3><A name=id-1.5.8.6.11.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>domain</P></TD>
<TD class=parameter_description>
<P>the translation domain to use, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A> to use the domain set with <CODE class=function>textdomain()</CODE>. </P></TD>
<TD class=parameter_annotations><SPAN class=annotation>[<ACRONYM title="NULL is OK, both for passing and for returning."><SPAN class=acronym>allow-none</SPAN></ACRONYM>]</SPAN></TD></TR>
<TR>
<TD class=parameter_name>
<P>context</P></TD>
<TD class=parameter_description>
<P>the message context</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>msgid</P></TD>
<TD class=parameter_description>
<P>the message</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.11.8></A>
<H4>Returns</H4>
<P>The translated string</P>
<P></P></DIV>
<P class=since>Since 2.18</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-strip-context></A>
<H3>g_strip_context&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_strip_context (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgid</CODE></EM>,
                 <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *msgval</CODE></EM>);</PRE>
<P>An auxiliary function for <CODE class=function>gettext()</CODE> support (see <A class=link title=Q_() href="https://developer.gnome.org/glib/stable/glib-I18N.html#Q-:CAPS"><CODE class=function>Q_()</CODE></A>).</P>
<DIV class=refsect3><A name=id-1.5.8.6.12.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>msgid</P></TD>
<TD class=parameter_description>
<P>a string</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>msgval</P></TD>
<TD class=parameter_description>
<P>another string</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.12.6></A>
<H4>Returns</H4>
<P><EM class=parameter><CODE>msgval</CODE></EM> , unless <EM class=parameter><CODE>msgval</CODE></EM> is identical to <EM class=parameter><CODE>msgid</CODE></EM> and contains a '|' character, in which case a pointer to the substring of msgid after the first '|' character is returned.</P>
<P></P></DIV>
<P class=since>Since 2.4</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-get-language-names></A>
<H3>g_get_language_names&nbsp;()</H3><PRE class=programlisting>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* const *
g_get_language_names (<EM class=parameter><CODE><SPAN class=type>void</SPAN></CODE></EM>);</PRE>
<P>Computes a list of applicable locale names, which can be used to e.g. construct locale-dependent filenames or search paths. The returned list is sorted from most desirable to least desirable and always contains the default locale "C".</P>
<P>For example, if LANGUAGE=de:en_US, then the returned list is "de", "en_US", "en", "C".</P>
<P>This function consults the environment variables <CODE class=literal>LANGUAGE</CODE>, <CODE class=literal>LC_ALL</CODE>, <CODE class=literal>LC_MESSAGES</CODE> and <CODE class=literal>LANG</CODE> to find the list of locales specified by the user.</P>
<DIV class=refsect3><A name=id-1.5.8.6.13.7></A>
<H4>Returns</H4>
<P>a <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A>-terminated array of strings owned by GLib that must not be modified or freed. </P>
<P><SPAN class=annotation>[<ACRONYM title="Parameter points to an array of items."><SPAN class=acronym>array</SPAN></ACRONYM> zero-terminated=1][<ACRONYM title="Don't free data after the code is done."><SPAN class=acronym>transfer none</SPAN></ACRONYM>]</SPAN></P></DIV>
<P class=since>Since 2.6</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-get-locale-variants></A>
<H3>g_get_locale_variants&nbsp;()</H3><PRE class=programlisting><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;**
g_get_locale_variants (<EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *locale</CODE></EM>);</PRE>
<P>Returns a list of derived variants of <EM class=parameter><CODE>locale</CODE></EM> , which can be used to e.g. construct locale-dependent filenames or search paths. The returned list is sorted from most desirable to least desirable. This function handles territory, charset and extra locale modifiers.</P>
<P>For example, if <EM class=parameter><CODE>locale</CODE></EM> is "fr_BE", then the returned list is "fr_BE", "fr".</P>
<P>If you need the list of variants for the current locale, use <A class=link title=g_get_language_names&nbsp;() href="https://developer.gnome.org/glib/stable/glib-I18N.html#g-get-language-names"><CODE class=function>g_get_language_names()</CODE></A>.</P>
<DIV class=refsect3><A name=id-1.5.8.6.14.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>locale</P></TD>
<TD class=parameter_description>
<P>a locale identifier</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.8.6.14.8></A>
<H4>Returns</H4>
<P>a newly allocated array of newly allocated strings with the locale variants. Free with <A class=link title=g_strfreev&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Utility-Functions.html#g-strfreev"><CODE class=function>g_strfreev()</CODE></A>. </P>
<P><SPAN class=annotation>[<ACRONYM title="Free data after the code is done."><SPAN class=acronym>transfer full</SPAN></ACRONYM>][<ACRONYM title="Parameter points to an array of items."><SPAN class=acronym>array</SPAN></ACRONYM> zero-terminated=1][<ACRONYM title="Generics and defining elements of containers and arrays."><SPAN class=acronym>element-type</SPAN></ACRONYM> utf8]</SPAN></P></DIV>
<P class=since>Since 2.28</P></DIV></DIV>
<DIV class=refsect1><A name=glib-I18N.other_details></A>
<H2>Types and Values</H2></DIV>
<DIV class=refsect1><A name=glib-I18N.see-also></A>
<H2>See Also</H2>
<P>the gettext manual</P></DIV>