&nbsp; 
<DIV>
<DIV style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium Tahoma; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">
<H2>AWK &#31616;&#26126;&#25945;&#31243;</H2></DIV>
<DIV style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium Tahoma; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;<A href="http://blogread.cn/it/article/6227?f=wb#original">&#20986;&#22788;&#20449;&#24687;</A></DIV>
<DIV style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium Tahoma; ORPHANS: 2; WIDOWS: 2; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">
<DIV style="FLOAT: right; MARGIN: 4px"><INS style="HEIGHT: 280px; WIDTH: 336px; POSITION: relative; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; DISPLAY: inline-table; PADDING-RIGHT: 0px; VISIBILITY: visible; border-image-source: none"><INS style="HEIGHT: 280px; WIDTH: 336px; POSITION: relative; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; DISPLAY: block; PADDING-RIGHT: 0px; VISIBILITY: visible; border-image-source: none"></INS></INS></DIV>
<P>&nbsp; &nbsp;<IMG style="CURSOR: default" src="file:///C:/Users/DONPOP~1/AppData/Local/Temp/enhtmlclip/Image(4).jpg" width=350 height=279></P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#26377;&#19968;&#20123;&#32593;&#21451;&#30475;&#20102;&#21069;&#20004;&#22825;&#30340;&#12298;<A title=&#24212;&#35813;&#30693;&#36947;&#30340;Linux&#25216;&#24039; style="COLOR: rgb(41,112,166)" href="http://coolshell.cn/articles/8883.html" target=_blank>Linux&#19979;&#24212;&#35813;&#30693;&#36947;&#30340;&#25216;&#24039;</A>&#12299;&#24076;&#26395;&#25105;&#33021;&#25945;&#25945;&#20182;&#20204;&#29992;awk&#21644;sed&#65292;&#25152;&#20197;&#65292;&#20986;&#29616;&#20102;&#36825;&#31687;&#25991;&#31456;&#12290;&#25105;&#20272;&#35745;&#36825;&#20123;80&#21518;&#30340;&#24180;&#36731;&#26379;&#21451;&#21487;&#33021;&#23545;awk/sed&#36825;&#31867;&#19978;&#21476;&#31070;&#22120;&#26377;&#28857;&#38476;&#29983;&#20102;&#65292;&#25152;&#20197;&#38656;&#35201;&#25105;&#36825;&#20010;&#32769;&#23478;&#20249;&#26469;&#28818;&#28818;&#20919;&#39277;&#12290;<STRONG>&#20917;&#19988;&#65292;AWK&#26159;&#36125;&#23572;&#23454;&#39564;&#23460;1977&#24180;&#25630;&#20986;&#26469;&#30340;&#25991;&#26412;&#20986;&#29616;&#31070;&#22120;&#65292;&#20170;&#24180;&#26159;&#34503;&#24180;&#65292;&#26159;AWK&#30340;&#26412;&#21629;&#24180;&#65292;&#32780;&#19988;&#24180;&#32426;&#21644;&#25105;&#30456;&#20223;&#65292;&#25152;&#20197;&#38750;&#24120;&#26377;&#24517;&#35201;&#20026;&#20182;&#20889;&#31687;&#25991;&#31456;</STRONG>&#12290;</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20043;&#25152;&#20197;&#21483;AWK&#26159;&#22240;&#20026;&#20854;&#21462;&#20102;&#19977;&#20301;&#21019;&#22987;&#20154;<SPAN>&nbsp;</SPAN><A title="Alfred Aho" style="COLOR: rgb(41,112,166)" href="http://en.wikipedia.org/wiki/Alfred_Aho">Alfred Aho</A>&#65292;<A title="Peter J. Weinberger" style="COLOR: rgb(41,112,166)" href="http://en.wikipedia.org/wiki/Peter_J._Weinberger">Peter Weinberger</A>, &#21644;<SPAN>&nbsp;</SPAN><A title="Brian Kernighan" style="COLOR: rgb(41,112,166)" href="http://en.wikipedia.org/wiki/Brian_Kernighan">Brian Kernighan</A><SPAN>&nbsp;</SPAN>&#30340;Family Name&#30340;&#39318;&#23383;&#31526;&#12290;&#35201;&#23398;AWK&#65292;&#23601;&#24471;&#25552;&#19968;&#25552;AWK&#30340;&#19968;&#26412;&#30456;&#24403;&#32463;&#20856;&#30340;&#20070;&#12298;<A style="COLOR: rgb(41,112,166)" href="http://plan9.bell-labs.com/cm/cs/awkbook/" rel=nofollow>The AWK Programming Language</A>&#12299;&#65292;&#23427;&#22312;<A style="COLOR: rgb(41,112,166)" href="http://book.douban.com/subject/1876898/" target=_blank>&#35910;&#29923;&#19978;&#30340;&#35780;&#20998;</A>&#26159;9.4&#20998;&#65281;&#22312;<A style="COLOR: rgb(41,112,166)" href="http://www.amazon.cn/mn/detailApp/?asin=020107981X" target=_blank>&#20122;&#39532;&#36874;&#19978;&#23621;&#28982;&#21334;1022.30&#20803;</A>&#12290;</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#22312;&#36825;&#37324;&#30340;&#25945;&#31243;&#24182;&#19981;&#24819;&#38754;&#38754;&#20465;&#21040;&#65292;&#26412;&#25991;&#21644;&#25105;&#20043;&#21069;&#30340;<A title="Go &#35821;&#35328;&#31616;&#20171;&#65288;&#19978;&#65289;&#8212; &#35821;&#27861;" style="COLOR: rgb(41,112,166)" href="http://coolshell.cn/articles/8460.html" target=_blank>Go&#35821;&#35328;&#31616;&#20171;</A>&#19968;&#26679;&#65292;&#20840;&#26159;&#31034;&#20363;&#65292;&#22522;&#26412;&#26080;&#24223;&#35805;&#12290;</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><STRONG>&#25105;&#21482;&#24819;&#36798;&#21040;&#20004;&#20010;&#30446;&#30340;&#65306;</STRONG></P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 30px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><STRONG>1&#65289;&#20320;&#21487;&#20197;&#22312;&#20056;&#22352;&#20844;&#20132;&#22320;&#38081;&#19978;&#19979;&#29677;&#65292;&#25110;&#26159;&#22312;&#22352;&#39532;&#26742;&#25289;&#22823;&#20415;&#26102;&#35835;&#23436;&#65288;&#20445;&#35777;&#26159;&#19968;&#27873;&#22823;&#20415;&#30340;&#24037;&#22827;&#65289;&#12290;</STRONG></P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 30px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><STRONG>2&#65289;&#25105;&#21482;&#24819;&#35753;&#36825;&#31687;&#21338;&#25991;&#20687;&#19968;&#20010;&#28779;&#36771;&#30340;&#33073;&#34915;&#33310;&#22899;&#25361;&#36215;&#20320;&#30340;&#20852;&#36259;&#65292;&#28982;&#21518;&#36824;&#35201;&#20320;&#33258;&#24049;&#21435;&#19979;&#24037;&#22827;&#21435;&#25784;&#12290;</STRONG></P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#24223;&#35805;&#23569;&#35828;&#65292;&#25105;&#20204;&#24320;&#22987;&#33073;&#21543;&#65288;&#27880;&#65306;&#36825;&#37324;&#21482;&#26159;topless&#65289;&#12290;</P>
<H4 style="FONT-SIZE: 17px; COLOR: rgb(0,136,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 10px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#36215;&#27493;&#19978;&#21488;</H4>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20174;netstat&#21629;&#20196;&#20013;&#25552;&#21462;&#20102;&#22914;&#19979;&#20449;&#24687;&#20316;&#20026;&#29992;&#20363;&#65306;</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"></P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ catnetstat.txt
Proto Recv-Q Send-Q Local-Address          Foreign-Address             State
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 coolshell.cn:80        124.205.5.146:18245         TIME_WAIT
tcp        0      0 coolshell.cn:80        61.140.101.185:37538        FIN_WAIT2
tcp        0      0 coolshell.cn:80        110.194.134.189:1032        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49809       ESTABLISHED
tcp        0      0 coolshell.cn:80        116.234.127.77:11502        FIN_WAIT2
tcp        0      0 coolshell.cn:80        123.169.124.111:49829       ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.215.36:36970         TIME_WAIT
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
tcp        0      0 coolshell.cn:80        110.194.134.189:4796        ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.212.163:51082        TIME_WAIT
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
tcp        0      0 coolshell.cn:80        123.169.124.111:49840       ESTABLISHED
tcp        0      0 coolshell.cn:80        117.136.20.85:50025         FIN_WAIT2
tcp        0      0 :::22                  :::*                        LISTEN
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#19979;&#38754;&#26159;&#26368;&#31616;&#21333;&#26368;&#24120;&#29992;&#30340;awk&#31034;&#20363;&#65292;&#20854;&#36755;&#20986;&#31532;1&#21015;&#21644;&#31532;4&#20363;&#65292;</P>
<UL style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 10px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P>&#20854;&#20013;&#21333;&#24341;&#21495;&#20013;&#30340;&#34987;&#22823;&#25324;&#21495;&#25324;&#30528;&#30340;&#23601;&#26159;awk&#30340;&#35821;&#21477;&#65292;&#27880;&#24847;&#65292;&#20854;&#21482;&#33021;&#34987;&#21333;&#24341;&#21495;&#21253;&#21547;&#12290;</P>
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P>&#20854;&#20013;&#30340;$1..$n&#34920;&#31034;&#31532;&#20960;&#20363;&#12290;&#27880;&#65306;$0&#34920;&#31034;&#25972;&#20010;&#34892;&#12290;</P></LI></UL>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'{print $1, $4}'netstat.txt
Proto Local-Address
tcp 0.0.0.0:3306
tcp 0.0.0.0:80
tcp 127.0.0.1:9000
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp :::22
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#20877;&#26469;&#30475;&#30475;awk&#30340;&#26684;&#24335;&#21270;&#36755;&#20986;&#65292;&#21644;C&#35821;&#35328;&#30340;printf&#27809;&#20160;&#20040;&#20004;&#26679;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'{printf "%-8s %-8s %-8s %-18s %-22s %-15s\n",$1,$2,$3,$4,$5,$6}'netstat.txt
Proto    Recv-Q   Send-Q   Local-Address      Foreign-Address        State
tcp      0        0        0.0.0.0:3306       0.0.0.0:*              LISTEN
tcp      0        0        0.0.0.0:80         0.0.0.0:*              LISTEN
tcp      0        0        127.0.0.1:9000     0.0.0.0:*              LISTEN
tcp      0        0        coolshell.cn:80    124.205.5.146:18245    TIME_WAIT
tcp      0        0        coolshell.cn:80    61.140.101.185:37538   FIN_WAIT2
tcp      0        0        coolshell.cn:80    110.194.134.189:1032   ESTABLISHED
tcp      0        0        coolshell.cn:80    123.169.124.111:49809  ESTABLISHED
tcp      0        0        coolshell.cn:80    116.234.127.77:11502   FIN_WAIT2
tcp      0        0        coolshell.cn:80    123.169.124.111:49829  ESTABLISHED
tcp      0        0        coolshell.cn:80    183.60.215.36:36970    TIME_WAIT
tcp      0        4166     coolshell.cn:80    61.148.242.38:30901    ESTABLISHED
tcp      0        1        coolshell.cn:80    124.152.181.209:26825  FIN_WAIT1
tcp      0        0        coolshell.cn:80    110.194.134.189:4796   ESTABLISHED
tcp      0        0        coolshell.cn:80    183.60.212.163:51082   TIME_WAIT
tcp      0        1        coolshell.cn:80    208.115.113.92:50601   LAST_ACK
tcp      0        0        coolshell.cn:80    123.169.124.111:49840  ESTABLISHED
tcp      0        0        coolshell.cn:80    117.136.20.85:50025    FIN_WAIT2
tcp      0        0        :::22              :::*                   LISTEN
</PRE></DIV>
<H4 style="FONT-SIZE: 17px; COLOR: rgb(0,136,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 10px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#33073;&#25481;&#22806;&#22871;</H4>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#36807;&#28388;&#35760;&#24405;</H5>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#20877;&#26469;&#30475;&#30475;&#22914;&#20309;&#36807;&#28388;&#35760;&#24405;&#65288;&#19979;&#38754;&#36807;&#28388;&#26465;&#20214;&#20026;&#65306;&#31532;&#19977;&#21015;&#30340;&#20540;&#20026;0 &amp;&amp; &#31532;6&#21015;&#30340;&#20540;&#20026;LISTEN&#65289;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$3==0 &amp;&amp; $6=="LISTEN" 'netstat.txt
tcp        0      0 0.0.0.0:3306               0.0.0.0:*              LISTEN
tcp        0      0 0.0.0.0:80                 0.0.0.0:*              LISTEN
tcp        0      0 127.0.0.1:9000             0.0.0.0:*              LISTEN
tcp        0      0 :::22                      :::*                   LISTEN
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20854;&#20013;&#30340;&#8220;==&#8221;&#20026;&#27604;&#36739;&#36816;&#31639;&#31526;&#12290;&#20854;&#20182;&#27604;&#36739;&#36816;&#31639;&#31526;&#65306;!=, &gt;, &lt;, &gt;=, &lt;=</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#26469;&#30475;&#30475;&#21508;&#31181;&#36807;&#28388;&#35760;&#24405;&#30340;&#26041;&#24335;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk' $3&gt;0 {print $0}'netstat.txt
Proto Recv-Q Send-Q Local-Address          Foreign-Address             State
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#22914;&#26524;&#25105;&#20204;&#38656;&#35201;&#34920;&#22836;&#30340;&#35805;&#65292;&#25105;&#20204;&#21487;&#20197;&#24341;&#20837;&#20869;&#24314;&#21464;&#37327;NR&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$3==0 &amp;&amp; $6=="LISTEN" || NR==1 'netstat.txt
Proto Recv-Q Send-Q Local-Address          Foreign-Address             State
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 :::22                  :::*                        LISTEN
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20877;&#21152;&#19978;&#26684;&#24335;&#21270;&#36755;&#20986;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$3==0 &amp;&amp; $6=="LISTEN" || NR==1 {printf "%-20s %-20s %s\n",$4,$5,$6}'netstat.txt
Local-Address        Foreign-Address      State
0.0.0.0:3306         0.0.0.0:*            LISTEN
0.0.0.0:80           0.0.0.0:*            LISTEN
127.0.0.1:9000       0.0.0.0:*            LISTEN
:::22                :::*                 LISTEN
</PRE></DIV>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><STRONG><FONT class=extract>&#20869;&#24314;&#21464;&#37327;</FONT></STRONG></H5>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><FONT class=extract>&#35828;&#21040;&#20102;&#20869;&#24314;&#21464;&#37327;&#65292;&#25105;&#20204;&#21487;&#20197;&#26469;&#30475;&#30475;awk&#30340;&#19968;&#20123;&#20869;&#24314;&#21464;&#37327;&#65306;</FONT></P>
<TABLE style="FONT-SIZE: 14px; BORDER-TOP: rgb(204,204,204) 2px solid; BORDER-RIGHT: rgb(204,204,204) 2px solid; BORDER-BOTTOM: rgb(204,204,204) 2px solid; COLOR: rgb(85,85,85); MARGIN-LEFT: 0px; BORDER-LEFT: rgb(204,204,204) 2px solid; MARGIN-TOP: 5px; LINE-HEIGHT: 22px; BACKGROUND-COLOR: rgb(255,255,255); MARGIN-RIGHT: 0px; border-image-source: none" cellSpacing=1 cellPadding=4 border=0>
<TBODY>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>$0</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#24403;&#21069;&#35760;&#24405;&#65288;&#36825;&#20010;&#21464;&#37327;&#20013;&#23384;&#25918;&#30528;&#25972;&#20010;&#34892;&#30340;&#20869;&#23481;&#65289;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>$1~$n</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#24403;&#21069;&#35760;&#24405;&#30340;&#31532;n&#20010;&#23383;&#27573;&#65292;&#23383;&#27573;&#38388;&#30001;FS&#20998;&#38548;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>FS</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#36755;&#20837;&#23383;&#27573;&#20998;&#38548;&#31526; &#40664;&#35748;&#26159;&#31354;&#26684;&#25110;Tab</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>NF</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#24403;&#21069;&#35760;&#24405;&#20013;&#30340;&#23383;&#27573;&#20010;&#25968;&#65292;&#23601;&#26159;&#26377;&#22810;&#23569;&#21015;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>NR</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#24050;&#32463;&#35835;&#20986;&#30340;&#35760;&#24405;&#25968;&#65292;&#23601;&#26159;&#34892;&#21495;&#65292;&#20174;1&#24320;&#22987;&#65292;&#22914;&#26524;&#26377;&#22810;&#20010;&#25991;&#20214;&#35805;&#65292;&#36825;&#20010;&#20540;&#20063;&#26159;&#19981;&#26029;&#32047;&#21152;&#20013;&#12290;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>FNR</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#24403;&#21069;&#35760;&#24405;&#25968;&#65292;&#19982;NR&#19981;&#21516;&#30340;&#26159;&#65292;&#36825;&#20010;&#20540;&#20250;&#26159;&#21508;&#20010;&#25991;&#20214;&#33258;&#24049;&#30340;&#34892;&#21495;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>RS</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#36755;&#20837;&#30340;&#35760;&#24405;&#20998;&#38548;&#31526;&#65292; &#40664;&#35748;&#20026;&#25442;&#34892;&#31526;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>OFS</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#36755;&#20986;&#23383;&#27573;&#20998;&#38548;&#31526;&#65292; &#40664;&#35748;&#20063;&#26159;&#31354;&#26684;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>ORS</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#36755;&#20986;&#30340;&#35760;&#24405;&#20998;&#38548;&#31526;&#65292;&#40664;&#35748;&#20026;&#25442;&#34892;&#31526;</FONT></TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>FILENAME</FONT></TD>
<TD style="BORDER-TOP: rgb(204,204,204) 1px solid; BORDER-RIGHT: rgb(204,204,204) 1px solid; VERTICAL-ALIGN: top; BORDER-BOTTOM: rgb(204,204,204) 1px solid; PADDING-BOTTOM: 3px; PADDING-TOP: 3px; PADDING-LEFT: 10px; BORDER-LEFT: rgb(204,204,204) 1px solid; PADDING-RIGHT: 10px; border-image-source: none" bgColor=#ffffff><FONT class=extract>&#24403;&#21069;&#36755;&#20837;&#25991;&#20214;&#30340;&#21517;&#23383;</FONT></TD></TR></TBODY></TABLE>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#24590;&#20040;&#20351;&#29992;&#21602;&#65292;&#27604;&#22914;&#65306;&#25105;&#20204;&#22914;&#26524;&#35201;&#36755;&#20986;&#34892;&#21495;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$3==0 &amp;&amp; $6=="ESTABLISHED" || NR==1 {printf "%02s %s %-20s %-20s %s\n",NR, FNR, $4,$5,$6}'netstat.txt
01 1 Local-Address        Foreign-Address      State
07 7 coolshell.cn:80      110.194.134.189:1032 ESTABLISHED
08 8 coolshell.cn:80      123.169.124.111:49809 ESTABLISHED
10 10 coolshell.cn:80      123.169.124.111:49829 ESTABLISHED
14 14 coolshell.cn:80      110.194.134.189:4796 ESTABLISHED
17 17 coolshell.cn:80      123.169.124.111:49840 ESTABLISHED
</PRE></DIV>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><STRONG><FONT class=extract>&#25351;&#23450;&#20998;&#38548;&#31526;</FONT></STRONG></H5>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE><FONT class=extract>$  awk  'BEGIN{FS=":"} {print $1,$3,$6}'/etc/passwd
root 0 /root
bin 1 /bin
daemon 2 /sbin
adm 3 /var/adm
lp 4 /var/spool/lpd
sync5 /sbin
shutdown6 /sbin
halt 7 /sbin
</FONT></PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><FONT class=extract>&#19978;&#38754;&#30340;&#21629;&#20196;&#20063;&#31561;&#20215;&#20110;&#65306;&#65288;-F&#30340;&#24847;&#24605;&#23601;&#26159;&#25351;&#23450;&#20998;&#38548;&#31526;&#65289;</FONT></P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE><FONT class=extract>$ awk  -F: '{print $1,$3,$6}'/etc/passwd
</FONT></PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><FONT class=extract>&#27880;&#65306;&#22914;&#26524;&#20320;&#35201;&#25351;&#23450;&#22810;&#20010;&#20998;&#38548;&#31526;&#65292;&#20320;&#21487;&#20197;&#36825;&#26679;&#26469;&#65306;</FONT></P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE><FONT class=extract>awk-F '[;:]'
</FONT></PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><FONT class=extract>&#20877;&#26469;&#30475;&#19968;&#20010;&#20197;\t&#20316;&#20026;&#20998;&#38548;&#31526;&#36755;&#20986;&#30340;&#20363;&#23376;&#65288;&#19979;&#38754;&#20351;&#29992;&#20102;/etc/passwd&#25991;&#20214;&#65292;&#36825;&#20010;&#25991;&#20214;&#26159;&#20197;:&#20998;&#38548;&#30340;&#65289;&#65306;</FONT></P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE><FONT class=extract>$ awk  -F: '{print $1,$3,$6}'OFS="\t"/etc/passwd
root    0       /root
bin     1       /bin
daemon  2       /sbin
adm     3       /var/adm
lp      4       /var/spool/lpd
sync    5       /sbin
</FONT></PRE></DIV>
<H4 style="FONT-SIZE: 17px; COLOR: rgb(0,136,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 10px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#33073;&#25481;&#34924;&#34923;</H4>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#23383;&#31526;&#20018;&#21305;&#37197;</H5>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#20877;&#26469;&#30475;&#20960;&#20010;&#23383;&#31526;&#20018;&#21305;&#37197;&#30340;&#31034;&#20363;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$6 ~ /FIN/ || NR==1 {print NR,$4,$5,$6}'OFS="\t"netstat.txt
1       Local-Address   Foreign-Address State
6       coolshell.cn:80 61.140.101.185:37538    FIN_WAIT2
9       coolshell.cn:80 116.234.127.77:11502    FIN_WAIT2
13      coolshell.cn:80 124.152.181.209:26825   FIN_WAIT1
18      coolshell.cn:80 117.136.20.85:50025     FIN_WAIT2
 
$ $ awk'$6 ~ /WAIT/ || NR==1 {print NR,$4,$5,$6}'OFS="\t"netstat.txt
1       Local-Address   Foreign-Address State
5       coolshell.cn:80 124.205.5.146:18245     TIME_WAIT
6       coolshell.cn:80 61.140.101.185:37538    FIN_WAIT2
9       coolshell.cn:80 116.234.127.77:11502    FIN_WAIT2
11      coolshell.cn:80 183.60.215.36:36970     TIME_WAIT
13      coolshell.cn:80 124.152.181.209:26825   FIN_WAIT1
15      coolshell.cn:80 183.60.212.163:51082    TIME_WAIT
18      coolshell.cn:80 117.136.20.85:50025     FIN_WAIT2
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#19978;&#38754;&#30340;&#31532;&#19968;&#20010;&#31034;&#20363;&#21305;&#37197;FIN&#29366;&#24577;&#65292; &#31532;&#20108;&#20010;&#31034;&#20363;&#21305;&#37197;WAIT&#23383;&#26679;&#30340;&#29366;&#24577;&#12290;&#20854;&#23454; ~ &#34920;&#31034;&#27169;&#24335;&#24320;&#22987;&#12290;/ /&#20013;&#26159;&#27169;&#24335;&#12290;&#36825;&#23601;&#26159;&#19968;&#20010;&#27491;&#21017;&#34920;&#36798;&#24335;&#30340;&#21305;&#37197;&#12290;</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20854;&#23454;awk&#21487;&#20197;&#20687;grep&#19968;&#26679;&#30340;&#21435;&#21305;&#37197;&#31532;&#19968;&#34892;&#65292;&#23601;&#20687;&#36825;&#26679;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'/LISTEN/'netstat.txt
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN
tcp        0      0 127.0.0.1:9000          0.0.0.0:*               LISTEN
tcp        0      0 :::22                   :::*                    LISTEN
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#21487;&#20197;&#20351;&#29992; &#8220;/FIN|TIME/&#8221; &#26469;&#21305;&#37197; FIN &#25110;&#32773; TIME :</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$6 ~ /FIN|TIME/ || NR==1 {print NR,$4,$5,$6}'OFS="\t"netstat.txt
1       Local-Address   Foreign-Address State
5       coolshell.cn:80 124.205.5.146:18245     TIME_WAIT
6       coolshell.cn:80 61.140.101.185:37538    FIN_WAIT2
9       coolshell.cn:80 116.234.127.77:11502    FIN_WAIT2
11      coolshell.cn:80 183.60.215.36:36970     TIME_WAIT
13      coolshell.cn:80 124.152.181.209:26825   FIN_WAIT1
15      coolshell.cn:80 183.60.212.163:51082    TIME_WAIT
18      coolshell.cn:80 117.136.20.85:50025     FIN_WAIT2
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20877;&#26469;&#30475;&#30475;&#27169;&#24335;&#21462;&#21453;&#30340;&#20363;&#23376;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'$6 !~ /WAIT/ || NR==1 {print NR,$4,$5,$6}'OFS="\t"netstat.txt
1       Local-Address   Foreign-Address State
2       0.0.0.0:3306    0.0.0.0:*       LISTEN
3       0.0.0.0:80      0.0.0.0:*       LISTEN
4       127.0.0.1:9000  0.0.0.0:*       LISTEN
7       coolshell.cn:80 110.194.134.189:1032    ESTABLISHED
8       coolshell.cn:80 123.169.124.111:49809   ESTABLISHED
10      coolshell.cn:80 123.169.124.111:49829   ESTABLISHED
12      coolshell.cn:80 61.148.242.38:30901     ESTABLISHED
14      coolshell.cn:80 110.194.134.189:4796    ESTABLISHED
16      coolshell.cn:80 208.115.113.92:50601    LAST_ACK
17      coolshell.cn:80 123.169.124.111:49840   ESTABLISHED
19      :::22   :::*    LISTEN
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25110;&#26159;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>awk'!/WAIT/'netstat.txt
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><STRONG>&#25240;&#20998;&#25991;&#20214;</STRONG></P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">awk&#25286;&#20998;&#25991;&#20214;&#24456;&#31616;&#21333;&#65292;&#20351;&#29992;&#37325;&#23450;&#21521;&#23601;&#22909;&#20102;&#12290;&#19979;&#38754;&#36825;&#20010;&#20363;&#23376;&#65292;&#26159;&#25353;&#31532;6&#20363;&#20998;&#38548;&#25991;&#20214;&#65292;&#30456;&#24403;&#30340;&#31616;&#21333;&#65288;&#20854;&#20013;&#30340;NR!=1&#34920;&#31034;&#19981;&#22788;&#29702;&#34920;&#22836;&#65289;&#12290;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'NR!=1{print &gt; $6}'netstat.txt
 
$ ls
ESTABLISHED  FIN_WAIT1  FIN_WAIT2  LAST_ACK  LISTEN  netstat.txt  TIME_WAIT
 
$ catESTABLISHED
tcp        0      0 coolshell.cn:80        110.194.134.189:1032        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49809       ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49829       ESTABLISHED
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      0 coolshell.cn:80        110.194.134.189:4796        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49840       ESTABLISHED
 
$ catFIN_WAIT1
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
 
$ catFIN_WAIT2
tcp        0      0 coolshell.cn:80        61.140.101.185:37538        FIN_WAIT2
tcp        0      0 coolshell.cn:80        116.234.127.77:11502        FIN_WAIT2
tcp        0      0 coolshell.cn:80        117.136.20.85:50025         FIN_WAIT2
 
$ catLAST_ACK
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
 
$ catLISTEN
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 :::22                  :::*                        LISTEN
 
$ catTIME_WAIT
tcp        0      0 coolshell.cn:80        124.205.5.146:18245         TIME_WAIT
tcp        0      0 coolshell.cn:80        183.60.215.36:36970         TIME_WAIT
tcp        0      0 coolshell.cn:80        183.60.212.163:51082        TIME_WAIT
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20320;&#20063;&#21487;&#20197;&#25226;&#25351;&#23450;&#30340;&#21015;&#36755;&#20986;&#21040;&#25991;&#20214;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>awk'NR!=1{print $4,$5 &gt; $6}'netstat.txt
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20877;&#22797;&#26434;&#19968;&#28857;&#65306;&#65288;&#27880;&#24847;&#20854;&#20013;&#30340;if-else-if&#35821;&#21477;&#65292;&#21487;&#35265;awk&#20854;&#23454;&#26159;&#20010;&#33050;&#26412;&#35299;&#37322;&#22120;&#65289;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'NR!=1{if($6 ~ /TIME|ESTABLISHED/) print &gt; "1.txt";
elseif($6 ~ /LISTEN/) print &gt; "2.txt";
elseprint &gt; "3.txt"}' netstat.txt
 
$ ls?.txt
1.txt  2.txt  3.txt
 
$ cat1.txt
tcp        0      0 coolshell.cn:80        124.205.5.146:18245         TIME_WAIT
tcp        0      0 coolshell.cn:80        110.194.134.189:1032        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49809       ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49829       ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.215.36:36970         TIME_WAIT
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      0 coolshell.cn:80        110.194.134.189:4796        ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.212.163:51082        TIME_WAIT
tcp        0      0 coolshell.cn:80        123.169.124.111:49840       ESTABLISHED
 
$ cat2.txt
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 :::22                  :::*                        LISTEN
 
$ cat3.txt
tcp        0      0 coolshell.cn:80        61.140.101.185:37538        FIN_WAIT2
tcp        0      0 coolshell.cn:80        116.234.127.77:11502        FIN_WAIT2
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
tcp        0      0 coolshell.cn:80        117.136.20.85:50025         FIN_WAIT2
</PRE></DIV>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#32479;&#35745;</H5>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#19979;&#38754;&#30340;&#21629;&#20196;&#35745;&#31639;&#25152;&#26377;&#30340;C&#25991;&#20214;&#65292;CPP&#25991;&#20214;&#21644;H&#25991;&#20214;&#30340;&#25991;&#20214;&#22823;&#23567;&#24635;&#21644;&#12290;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ ls-l  *.cpp *.c *.h | awk'{sum+=$5} END {print sum}'
2511401
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#20877;&#26469;&#30475;&#19968;&#20010;&#32479;&#35745;&#21508;&#20010;connection&#29366;&#24577;&#30340;&#29992;&#27861;&#65306;&#65288;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#19968;&#20123;&#32534;&#31243;&#30340;&#24433;&#23376;&#20102;&#65292;&#22823;&#23478;&#37117;&#26159;&#31243;&#24207;&#21592;&#25105;&#23601;&#19981;&#35299;&#37322;&#20102;&#12290;&#27880;&#24847;&#20854;&#20013;&#30340;&#25968;&#32452;&#30340;&#29992;&#27861;&#65289;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk'NR!=1{a[$6]++;} END {for (i in a) print i ", " a[i];}'netstat.txt
TIME_WAIT, 3
FIN_WAIT1, 1
ESTABLISHED, 6
FIN_WAIT2, 3
LAST_ACK, 1
LISTEN, 4
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20877;&#26469;&#30475;&#30475;&#32479;&#35745;&#27599;&#20010;&#29992;&#25143;&#30340;&#36827;&#31243;&#30340;&#21344;&#20102;&#22810;&#23569;&#20869;&#23384;&#65288;&#27880;&#65306;sum&#30340;RSS&#37027;&#19968;&#21015;&#65289;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ psaux | awk'NR!=1{a[$1]+=$6;} END { for(i in a) print i ", " a[i]"KB";}'
dbus, 540KB
mysql, 99928KB
www, 3264924KB
root, 63644KB
hchen, 6020KB
</PRE></DIV>
<H4 style="FONT-SIZE: 17px; COLOR: rgb(0,136,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 10px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#33073;&#25481;&#20869;&#34915;</H4>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">awk&#33050;&#26412;</H5>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><FONT class=extract>&#22312;&#19978;&#38754;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#19968;&#20010;END&#20851;&#38190;&#23383;&#12290;END&#30340;&#24847;&#24605;&#26159;&#8220;&#22788;&#29702;&#23436;&#25152;&#26377;&#30340;&#34892;&#30340;&#26631;&#35782;&#8221;&#65292;&#21363;&#28982;&#35828;&#21040;&#20102;END&#23601;&#26377;&#24517;&#35201;&#20171;&#32461;&#19968;&#19979;BEGIN&#65292;&#36825;&#20004;&#20010;&#20851;&#38190;&#23383;&#24847;&#21619;&#30528;&#25191;&#34892;&#21069;&#21644;&#25191;&#34892;&#21518;&#30340;&#24847;&#24605;&#65292;&#35821;&#27861;&#22914;&#19979;&#65306;</FONT></P>
<UL style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 10px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P><FONT class=extract>BEGIN{ &#36825;&#37324;&#38754;&#25918;&#30340;&#26159;&#25191;&#34892;&#21069;&#30340;&#35821;&#21477; }</FONT></P>
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P><FONT class=extract>END {&#36825;&#37324;&#38754;&#25918;&#30340;&#26159;&#22788;&#29702;&#23436;&#25152;&#26377;&#30340;&#34892;&#21518;&#35201;&#25191;&#34892;&#30340;&#35821;&#21477; }</FONT></P>
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P><FONT class=extract>{&#36825;&#37324;&#38754;&#25918;&#30340;&#26159;&#22788;&#29702;&#27599;&#19968;&#34892;&#26102;&#35201;&#25191;&#34892;&#30340;&#35821;&#21477;}</FONT></P></LI></UL>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20026;&#20102;&#35828;&#28165;&#26970;&#36825;&#20010;&#20107;&#65292;&#25105;&#20204;&#26469;&#30475;&#30475;&#19979;&#38754;&#30340;&#31034;&#20363;&#65306;</P>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20551;&#35774;&#26377;&#36825;&#20040;&#19968;&#20010;&#25991;&#20214;&#65288;&#23398;&#29983;&#25104;&#32489;&#34920;&#65289;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ catscore.txt
Marry   2143 78 84 77
Jack    2321 66 78 45
Tom     2122 48 77 71
Mike    2537 87 97 95
Bob     2415 40 57 62
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#30340;awk&#33050;&#26412;&#22914;&#19979;&#65288;&#25105;&#27809;&#26377;&#20889;&#26377;&#21629;&#20196;&#34892;&#19978;&#26159;&#22240;&#20026;&#21629;&#20196;&#34892;&#19978;&#19981;&#26131;&#35835;&#65292;&#21478;&#22806;&#20063;&#22312;&#20171;&#32461;&#21478;&#19968;&#31181;&#29992;&#27861;&#65289;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ catcal.awk
#!/bin/awk -f
#&#36816;&#34892;&#21069;
BEGIN {
    math = 0
    english = 0
    computer = 0
 
    printf"NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL\n"
    printf"---------------------------------------------\n"
}
#&#36816;&#34892;&#20013;
{
    math+=$3
    english+=$4
    computer+=$5
    printf"%-6s %-6s %4d %8d %8d %8d\n", $1, $2, $3,$4,$5, $3+$4+$5
}
#&#36816;&#34892;&#21518;
END {
    printf"---------------------------------------------\n"
    printf"  TOTAL:%10d %8d %8d \n", math, english, computer
    printf"AVERAGE:%10.2f %8.2f %8.2f\n", math/NR, english/NR, computer/NR
}
</PRE></DIV>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#25105;&#20204;&#26469;&#30475;&#19968;&#19979;&#25191;&#34892;&#32467;&#26524;&#65306;&#65288;&#20063;&#21487;&#20197;&#36825;&#26679;&#36816;&#34892; ./cal.awk score.txt&#65289;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ awk-f cal.awkscore.txt
NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL
---------------------------------------------
Marry  2143     78       84       77      239
Jack   2321     66       78       45      189
Tom    2122     48       77       71      196
Mike   2537     87       97       95      279
Bob    2415     40       57       62      159
---------------------------------------------
  TOTAL:       319      393      350
AVERAGE:     63.80    78.60    70.00
</PRE></DIV>
<H5 style="FONT-SIZE: 15px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#29615;&#22659;&#21464;&#37327;</H5>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#21363;&#28982;&#35828;&#21040;&#20102;&#33050;&#26412;&#65292;&#25105;&#20204;&#26469;&#30475;&#30475;&#24590;&#20040;&#21644;&#29615;&#22659;&#21464;&#37327;&#20132;&#20114;&#65306;&#65288;&#20351;&#29992;-v&#21442;&#25968;&#21644;ENVIRON&#65292;&#20351;&#29992;ENVIRON&#30340;&#29615;&#22659;&#21464;&#37327;&#38656;&#35201;export&#65289;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>$ x=5
 
$ y=10
$ exporty
 
$ echo$x $y
5 10
 
$ awk-vval=$x '{print $1, $2, $3, $4+val, $5+ENVIRON["y"]}'OFS="\t"score.txt
Marry   2143    78      89      87
Jack    2321    66      83      55
Tom     2122    48      82      81
Mike    2537    87      102     105
Bob     2415    40      62      72
</PRE></DIV>
<H4 style="FONT-SIZE: 17px; COLOR: rgb(0,136,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 10px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20960;&#20010;&#33457;&#27963;</H4>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#26368;&#21518;&#65292;&#25105;&#20204;&#20877;&#26469;&#30475;&#20960;&#20010;&#23567;&#20363;&#23376;&#65306;</P>
<DIV style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px"><PRE>#&#20174;file&#25991;&#20214;&#20013;&#25214;&#20986;&#38271;&#24230;&#22823;&#20110;80&#30340;&#34892;
awk'length&gt;80'file
 
#&#25353;&#36830;&#25509;&#25968;&#26597;&#30475;&#23458;&#25143;&#31471;IP
netstat-ntu | awk'{print $5}'| cut-d: -f1 | sort| uniq-c | sort-nr
 
#&#25171;&#21360;99&#20056;&#27861;&#34920;
seq9 | sed'H;g'| awk-vRS='''{for(i=1;i&lt;=NF;i++)printf("%dx%d=%d%s", i, NR, i*NR, i==NR?"\n":"\t")}'
</PRE></DIV>
<H4 style="FONT-SIZE: 17px; COLOR: rgb(0,136,0); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px 0px 10px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#33258;&#24049;&#25784;&#21543;</H4>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#20851;&#20110;&#20854;&#20013;&#30340;&#19968;&#20123;&#30693;&#35782;&#28857;&#21487;&#20197;&#21442;&#30475;<A style="COLOR: rgb(41,112,166)" href="http://www.gnu.org/software/gawk/manual/gawk.html" target=_blank>gawk&#30340;&#25163;&#20876;</A>&#65306;</P>
<UL style="FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 10px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P>&#20869;&#24314;&#21464;&#37327;&#65292;&#21442;&#30475;&#65306;<A style="COLOR: rgb(41,112,166)" href="http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din-Variables" target=_blank>http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din-Variables</A></P>
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P>&#27969;&#25511;&#26041;&#38754;&#65292;&#21442;&#30475;&#65306;<A style="COLOR: rgb(41,112,166)" href="http://www.gnu.org/software/gawk/manual/gawk.html#Statements" target=_blank>http://www.gnu.org/software/gawk/manual/gawk.html#Statements</A></P>
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P>&#20869;&#24314;&#20989;&#25968;&#65292;&#21442;&#30475;&#65306;<A style="COLOR: rgb(41,112,166)" href="http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din" target=_blank>http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din</A></P>
<LI style="LIST-STYLE-POSITION: inside; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 20px; MARGIN: 0px; PADDING-RIGHT: 0px">
<P>&#27491;&#21017;&#34920;&#36798;&#24335;&#65292;&#21442;&#30475;&#65306;<A style="COLOR: rgb(41,112,166)" href="http://www.gnu.org/software/gawk/manual/gawk.html#Regexp" target=_blank>http://www.gnu.org/software/gawk/manual/gawk.html#Regexp</A></P></LI></UL>
<P style="MARGIN-BOTTOM: 10px; FONT-SIZE: 14px; COLOR: rgb(85,85,85); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 22px; PADDING-RIGHT: 0px">&#65288;&#20840;&#25991;&#23436;&#65289;</P></DIV></DIV>