<TABLE width="100%">
<TBODY>
<TR>
<TD vAlign=top>
<H2><SPAN class=refentrytitle><A name=glib-UNIX-specific-utilities-and-integration.top_of_page></A>UNIX-specific utilities and integration</SPAN></H2>
<P>UNIX-specific utilities and integration &#8212; pipes, signal handling</P></TD>
<TD class=gallery_image vAlign=top align=right></TD></TR></TBODY></TABLE>
<DIV class=refsect1><A name=glib-UNIX-specific-utilities-and-integration.functions></A>
<H2>Functions</H2>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=functions_return width=150></COL>
<COL class=functions_name></COL></COLGROUP>
<TBODY>
<TR>
<TD class=define_keyword>#define</TD>
<TD class=function_name><A class=link title=G_UNIX_ERROR href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#G-UNIX-ERROR:CAPS">G_UNIX_ERROR</A></TD></TR>
<TR>
<TD class=function_type><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A> </TD>
<TD class=function_name><A class=link title=g_unix_open_pipe&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-open-pipe">g_unix_open_pipe</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A> </TD>
<TD class=function_name><A class=link title=g_unix_set_fd_nonblocking&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-set-fd-nonblocking">g_unix_set_fd_nonblocking</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A class=link title=g_unix_signal_add&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-signal-add">g_unix_signal_add</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A class=link title=g_unix_signal_add_full&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-signal-add-full">g_unix_signal_add_full</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=returnvalue>GSource</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_unix_signal_source_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-signal-source-new">g_unix_signal_source_new</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A> </TD>
<TD class=function_name><SPAN class=c_punctuation>(</SPAN><A class=link title=GUnixFDSourceFunc&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#GUnixFDSourceFunc">*GUnixFDSourceFunc</A><SPAN class=c_punctuation>)</SPAN>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A class=link title=g_unix_fd_add&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-fd-add">g_unix_fd_add</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A> </TD>
<TD class=function_name><A class=link title=g_unix_fd_add_full&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-fd-add-full">g_unix_fd_add_full</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=returnvalue>GSource</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_unix_fd_source_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-fd-source-new">g_unix_fd_source_new</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-UNIX-specific-utilities-and-integration.includes></A>
<H2>Includes</H2><PRE class=synopsis>#include &lt;glib-unix.h&gt;
</PRE></DIV>
<DIV class=refsect1><A name=glib-UNIX-specific-utilities-and-integration.description></A>
<H2>Description</H2>
<P>Most of GLib is intended to be portable; in contrast, this set of functions is designed for programs which explicitly target UNIX, or are using it to build higher level abstractions which would be conditionally compiled if the platform matches G_OS_UNIX.</P>
<P>To use these functions, you must explicitly include the "glib-unix.h" header.</P></DIV>
<DIV class=refsect1><A name=glib-UNIX-specific-utilities-and-integration.functions_details></A>
<H2>Functions</H2>
<DIV class=refsect2><A name=G-UNIX-ERROR:CAPS></A>
<H3>G_UNIX_ERROR</H3><PRE class=programlisting>#define G_UNIX_ERROR (g_unix_error_quark())
</PRE>
<P>Error domain for API in the g_unix_ namespace. Note that there is no exported enumeration mapping <CODE class=literal>errno</CODE>. Instead, all functions ensure that <CODE class=literal>errno</CODE> is relevant. The code for all <A class=link title=G_UNIX_ERROR href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#G-UNIX-ERROR:CAPS"><SPAN class=type>G_UNIX_ERROR</SPAN></A> is always 0, and the error message is always generated via <A class=link title=g_strerror&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Utility-Functions.html#g-strerror"><CODE class=function>g_strerror()</CODE></A>.</P>
<P>It is expected that most code will not look at <CODE class=literal>errno</CODE> from these APIs. Important cases where one would want to differentiate between errors are already covered by existing cross-platform GLib API, such as e.g. <A href="https://developer.gnome.org/gio/stable/GFile.html"><SPAN class=type>GFile</SPAN></A> wrapping <CODE class=literal>ENOENT</CODE>. However, it is provided for completeness, at least.</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-open-pipe></A>
<H3>g_unix_open_pipe&nbsp;()</H3><PRE class=programlisting><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A>
g_unix_open_pipe (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> *fds</CODE></EM>,
                  <EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> flags</CODE></EM>,
                  <EM class=parameter><CODE><A class=link title="struct GError" href="https://developer.gnome.org/glib/stable/glib-Error-Reporting.html#GError"><SPAN class=type>GError</SPAN></A> **error</CODE></EM>);</PRE>
<P>Similar to the UNIX <CODE class=function>pipe()</CODE> call, but on modern systems like Linux uses the <CODE class=function>pipe2()</CODE> system call, which atomically creates a pipe with the configured flags. The only supported flag currently is <CODE class=literal>FD_CLOEXEC</CODE>. If for example you want to configure <CODE class=literal>O_NONBLOCK</CODE>, that must still be done separately with <CODE class=function>fcntl()</CODE>.</P>
<P>This function does not take <CODE class=literal>O_CLOEXEC</CODE>, it takes <CODE class=literal>FD_CLOEXEC</CODE> as if for <CODE class=function>fcntl()</CODE>; these are different on Linux/glibc.</P>
<DIV class=refsect3><A name=id-1.5.30.6.3.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>fds</P></TD>
<TD class=parameter_description>
<P>Array of two integers</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>flags</P></TD>
<TD class=parameter_description>
<P>Bitfield of file descriptor flags, as for <CODE class=function>fcntl()</CODE></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>error</P></TD>
<TD class=parameter_description>
<P>a <A class=link title="struct GError" href="https://developer.gnome.org/glib/stable/glib-Error-Reporting.html#GError"><SPAN class=type>GError</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.3.7></A>
<H4>Returns</H4>
<P><A class=link title=TRUE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal>TRUE</CODE></A> on success, <A class=link title=FALSE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#FALSE:CAPS"><CODE class=literal>FALSE</CODE></A> if not (and errno will be set).</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-set-fd-nonblocking></A>
<H3>g_unix_set_fd_nonblocking&nbsp;()</H3><PRE class=programlisting><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A>
g_unix_set_fd_nonblocking (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> fd</CODE></EM>,
                           <EM class=parameter><CODE><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=type>gboolean</SPAN></A> nonblock</CODE></EM>,
                           <EM class=parameter><CODE><A class=link title="struct GError" href="https://developer.gnome.org/glib/stable/glib-Error-Reporting.html#GError"><SPAN class=type>GError</SPAN></A> **error</CODE></EM>);</PRE>
<P>Control the non-blocking state of the given file descriptor, according to <EM class=parameter><CODE>nonblock</CODE></EM> . On most systems this uses <CODE class=literal>O_NONBLOCK</CODE>, but on some older ones may use <CODE class=literal>O_NDELAY</CODE>.</P>
<DIV class=refsect3><A name=id-1.5.30.6.4.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>fd</P></TD>
<TD class=parameter_description>
<P>A file descriptor</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>nonblock</P></TD>
<TD class=parameter_description>
<P>If <A class=link title=TRUE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal>TRUE</CODE></A>, set the descriptor to be non-blocking</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>error</P></TD>
<TD class=parameter_description>
<P>a <A class=link title="struct GError" href="https://developer.gnome.org/glib/stable/glib-Error-Reporting.html#GError"><SPAN class=type>GError</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.4.6></A>
<H4>Returns</H4>
<P><A class=link title=TRUE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal>TRUE</CODE></A> if successful</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-signal-add></A>
<H3>g_unix_signal_add&nbsp;()</H3><PRE class=programlisting><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A>
g_unix_signal_add (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> signum</CODE></EM>,
                   <EM class=parameter><CODE><A class=link title=GSourceFunc&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSourceFunc"><SPAN class=type>GSourceFunc</SPAN></A> handler</CODE></EM>,
                   <EM class=parameter><CODE><A class=link title=gpointer href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> user_data</CODE></EM>);</PRE>
<P>A convenience function for <A class=link title=g_unix_signal_source_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-signal-source-new"><CODE class=function>g_unix_signal_source_new()</CODE></A>, which attaches to the default <A class=link title=GMainContext href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GMainContext"><SPAN class=type>GMainContext</SPAN></A>. You can remove the watch using <A class=link title=g_source_remove&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-source-remove"><CODE class=function>g_source_remove()</CODE></A>.</P>
<DIV class=refsect3><A name=id-1.5.30.6.5.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>signum</P></TD>
<TD class=parameter_description>
<P>Signal number</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>handler</P></TD>
<TD class=parameter_description>
<P>Callback</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>user_data</P></TD>
<TD class=parameter_description>
<P>Data for <EM class=parameter><CODE>handler</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.5.6></A>
<H4>Returns</H4>
<P>An ID (greater than 0) for the event source</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-signal-add-full></A>
<H3>g_unix_signal_add_full&nbsp;()</H3><PRE class=programlisting><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A>
g_unix_signal_add_full (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> priority</CODE></EM>,
                        <EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> signum</CODE></EM>,
                        <EM class=parameter><CODE><A class=link title=GSourceFunc&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSourceFunc"><SPAN class=type>GSourceFunc</SPAN></A> handler</CODE></EM>,
                        <EM class=parameter><CODE><A class=link title=gpointer href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> user_data</CODE></EM>,
                        <EM class=parameter><CODE><A class=link title=GDestroyNotify&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Datasets.html#GDestroyNotify"><SPAN class=type>GDestroyNotify</SPAN></A> notify</CODE></EM>);</PRE>
<P>A convenience function for <A class=link title=g_unix_signal_source_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-signal-source-new"><CODE class=function>g_unix_signal_source_new()</CODE></A>, which attaches to the default <A class=link title=GMainContext href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GMainContext"><SPAN class=type>GMainContext</SPAN></A>. You can remove the watch using <A class=link title=g_source_remove&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-source-remove"><CODE class=function>g_source_remove()</CODE></A>.</P>
<DIV class=refsect3><A name=id-1.5.30.6.6.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>priority</P></TD>
<TD class=parameter_description>
<P>the priority of the signal source. Typically this will be in the range between <A class=link title=G_PRIORITY_DEFAULT href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#G-PRIORITY-DEFAULT:CAPS"><SPAN class=type>G_PRIORITY_DEFAULT</SPAN></A> and <A class=link title=G_PRIORITY_HIGH href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#G-PRIORITY-HIGH:CAPS"><SPAN class=type>G_PRIORITY_HIGH</SPAN></A>.</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>signum</P></TD>
<TD class=parameter_description>
<P>Signal number</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>handler</P></TD>
<TD class=parameter_description>
<P>Callback</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>user_data</P></TD>
<TD class=parameter_description>
<P>Data for <EM class=parameter><CODE>handler</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>notify</P></TD>
<TD class=parameter_description>
<P><A class=link title=GDestroyNotify&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Datasets.html#GDestroyNotify"><SPAN class=type>GDestroyNotify</SPAN></A> for <EM class=parameter><CODE>handler</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.6.6></A>
<H4>Returns</H4>
<P>An ID (greater than 0) for the event source</P>
<P>Rename to: g_unix_signal_add</P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-signal-source-new></A>
<H3>g_unix_signal_source_new&nbsp;()</H3><PRE class=programlisting><A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=returnvalue>GSource</SPAN></A>&nbsp;*
g_unix_signal_source_new (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> signum</CODE></EM>);</PRE>
<P>Create a <A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=type>GSource</SPAN></A> that will be dispatched upon delivery of the UNIX signal <EM class=parameter><CODE>signum</CODE></EM> . In GLib versions before 2.36, only <CODE class=literal>SIGHUP</CODE>, <CODE class=literal>SIGINT</CODE>, <CODE class=literal>SIGTERM</CODE> can be monitored. In GLib 2.36, <CODE class=literal>SIGUSR1</CODE> and <CODE class=literal>SIGUSR2</CODE> were added.</P>
<P>Note that unlike the UNIX default, all sources which have created a watch will be dispatched, regardless of which underlying thread invoked <A class=link title=g_unix_signal_source_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-signal-source-new"><CODE class=function>g_unix_signal_source_new()</CODE></A>.</P>
<P>For example, an effective use of this function is to handle <CODE class=literal>SIGTERM</CODE> cleanly; flushing any outstanding files, and then calling <A class=link title=g_main_loop_quit&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-main-loop-quit"><CODE class=function>g_main_loop_quit()</CODE></A>. It is not safe to do any of this a regular UNIX signal handler; your handler may be invoked while <CODE class=function>malloc()</CODE> or another library function is running, causing reentrancy if you attempt to use it from the handler. None of the GLib/GObject API is safe against this kind of reentrancy.</P>
<P>The interaction of this source when combined with native UNIX functions like <CODE class=function>sigprocmask()</CODE> is not defined.</P>
<P>The source will not initially be associated with any <A class=link title=GMainContext href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GMainContext"><SPAN class=type>GMainContext</SPAN></A> and must be added to one with <A class=link title=g_source_attach&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-source-attach"><CODE class=function>g_source_attach()</CODE></A> before it will be executed.</P>
<DIV class=refsect3><A name=id-1.5.30.6.7.9></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>signum</P></TD>
<TD class=parameter_description>
<P>A signal number</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.7.10></A>
<H4>Returns</H4>
<P>A newly created <A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=type>GSource</SPAN></A></P>
<P></P></DIV>
<P class=since>Since 2.30</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=GUnixFDSourceFunc></A>
<H3>GUnixFDSourceFunc&nbsp;()</H3><PRE class=programlisting><A class=link title=gboolean href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gboolean"><SPAN class=returnvalue>gboolean</SPAN></A>
<SPAN class=c_punctuation>(</SPAN>*GUnixFDSourceFunc<SPAN class=c_punctuation>)</SPAN> (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> fd</CODE></EM>,
                      <EM class=parameter><CODE><A class=link title="enum GIOCondition" href="https://developer.gnome.org/glib/stable/glib-IO-Channels.html#GIOCondition"><SPAN class=type>GIOCondition</SPAN></A> condition</CODE></EM>,
                      <EM class=parameter><CODE><A class=link title=gpointer href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> user_data</CODE></EM>);</PRE>
<P>The type of functions to be called when a UNIX fd watch source triggers.</P>
<DIV class=refsect3><A name=id-1.5.30.6.8.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>fd</P></TD>
<TD class=parameter_description>
<P>the fd that triggered the event</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>condition</P></TD>
<TD class=parameter_description>
<P>the IO conditions reported on <EM class=parameter><CODE>fd</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>user_data</P></TD>
<TD class=parameter_description>
<P>user data passed to <A class=link title=g_unix_fd_add&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-fd-add"><CODE class=function>g_unix_fd_add()</CODE></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.8.6></A>
<H4>Returns</H4>
<P><A class=link title=FALSE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#FALSE:CAPS"><CODE class=literal>FALSE</CODE></A> if the source should be removed</P>
<P></P></DIV></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-fd-add></A>
<H3>g_unix_fd_add&nbsp;()</H3><PRE class=programlisting><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A>
g_unix_fd_add (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> fd</CODE></EM>,
               <EM class=parameter><CODE><A class=link title="enum GIOCondition" href="https://developer.gnome.org/glib/stable/glib-IO-Channels.html#GIOCondition"><SPAN class=type>GIOCondition</SPAN></A> condition</CODE></EM>,
               <EM class=parameter><CODE><A class=link title=GUnixFDSourceFunc&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#GUnixFDSourceFunc"><SPAN class=type>GUnixFDSourceFunc</SPAN></A> function</CODE></EM>,
               <EM class=parameter><CODE><A class=link title=gpointer href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> user_data</CODE></EM>);</PRE>
<P>Sets a function to be called when the IO condition, as specified by <EM class=parameter><CODE>condition</CODE></EM> becomes true for <EM class=parameter><CODE>fd</CODE></EM> .</P>
<P><EM class=parameter><CODE>function</CODE></EM> will be called when the specified IO condition becomes <A class=link title=TRUE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal>TRUE</CODE></A>. The function is expected to clear whatever event caused the IO condition to become true and return <A class=link title=TRUE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#TRUE:CAPS"><CODE class=literal>TRUE</CODE></A> in order to be notified when it happens again. If <EM class=parameter><CODE>function</CODE></EM> returns <A class=link title=FALSE href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#FALSE:CAPS"><CODE class=literal>FALSE</CODE></A> then the watch will be cancelled.</P>
<P>The return value of this function can be passed to <A class=link title=g_source_remove&nbsp;() href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#g-source-remove"><CODE class=function>g_source_remove()</CODE></A> to cancel the watch at any time that it exists.</P>
<P>The source will never close the fd -- you must do it yourself.</P>
<DIV class=refsect3><A name=id-1.5.30.6.9.8></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>fd</P></TD>
<TD class=parameter_description>
<P>a file descriptor</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>condition</P></TD>
<TD class=parameter_description>
<P>IO conditions to watch for on <EM class=parameter><CODE>fd</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>function</P></TD>
<TD class=parameter_description>
<P>a <SPAN class=type>GPollFDFunc</SPAN></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>user_data</P></TD>
<TD class=parameter_description>
<P>data to pass to <EM class=parameter><CODE>function</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.9.9></A>
<H4>Returns</H4>
<P>the ID (greater than 0) of the event source</P>
<P></P></DIV>
<P class=since>Since 2.36</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-fd-add-full></A>
<H3>g_unix_fd_add_full&nbsp;()</H3><PRE class=programlisting><A class=link title=guint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#guint"><SPAN class=returnvalue>guint</SPAN></A>
g_unix_fd_add_full (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> priority</CODE></EM>,
                    <EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> fd</CODE></EM>,
                    <EM class=parameter><CODE><A class=link title="enum GIOCondition" href="https://developer.gnome.org/glib/stable/glib-IO-Channels.html#GIOCondition"><SPAN class=type>GIOCondition</SPAN></A> condition</CODE></EM>,
                    <EM class=parameter><CODE><A class=link title=GUnixFDSourceFunc&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#GUnixFDSourceFunc"><SPAN class=type>GUnixFDSourceFunc</SPAN></A> function</CODE></EM>,
                    <EM class=parameter><CODE><A class=link title=gpointer href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gpointer"><SPAN class=type>gpointer</SPAN></A> user_data</CODE></EM>,
                    <EM class=parameter><CODE><A class=link title=GDestroyNotify&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Datasets.html#GDestroyNotify"><SPAN class=type>GDestroyNotify</SPAN></A> notify</CODE></EM>);</PRE>
<P>Sets a function to be called when the IO condition, as specified by <EM class=parameter><CODE>condition</CODE></EM> becomes true for <EM class=parameter><CODE>fd</CODE></EM> .</P>
<P>This is the same as <A class=link title=g_unix_fd_add&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#g-unix-fd-add"><CODE class=function>g_unix_fd_add()</CODE></A>, except that it allows you to specify a non-default priority and a provide a <A class=link title=GDestroyNotify&nbsp;() href="https://developer.gnome.org/glib/stable/glib-Datasets.html#GDestroyNotify"><SPAN class=type>GDestroyNotify</SPAN></A> for <EM class=parameter><CODE>user_data</CODE></EM> .</P>
<DIV class=refsect3><A name=id-1.5.30.6.10.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>priority</P></TD>
<TD class=parameter_description>
<P>the priority of the source</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>fd</P></TD>
<TD class=parameter_description>
<P>a file descriptor</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>condition</P></TD>
<TD class=parameter_description>
<P>IO conditions to watch for on <EM class=parameter><CODE>fd</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>function</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GUnixFDSourceFunc&nbsp;() href="https://developer.gnome.org/glib/stable/glib-UNIX-specific-utilities-and-integration.html#GUnixFDSourceFunc"><SPAN class=type>GUnixFDSourceFunc</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>user_data</P></TD>
<TD class=parameter_description>
<P>data to pass to <EM class=parameter><CODE>function</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>notify</P></TD>
<TD class=parameter_description>
<P>function to call when the idle is removed, or <A class=link title=NULL href="https://developer.gnome.org/glib/stable/glib-Standard-Macros.html#NULL:CAPS"><CODE class=literal>NULL</CODE></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.10.7></A>
<H4>Returns</H4>
<P>the ID (greater than 0) of the event source</P>
<P></P></DIV>
<P class=since>Since 2.36</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-unix-fd-source-new></A>
<H3>g_unix_fd_source_new&nbsp;()</H3><PRE class=programlisting><A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=returnvalue>GSource</SPAN></A>&nbsp;*
g_unix_fd_source_new (<EM class=parameter><CODE><A class=link title=gint href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gint"><SPAN class=type>gint</SPAN></A> fd</CODE></EM>,
                      <EM class=parameter><CODE><A class=link title="enum GIOCondition" href="https://developer.gnome.org/glib/stable/glib-IO-Channels.html#GIOCondition"><SPAN class=type>GIOCondition</SPAN></A> condition</CODE></EM>);</PRE>
<P>Creates a <A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=type>GSource</SPAN></A> to watch for a particular IO condition on a file descriptor.</P>
<P>The source will never close the fd -- you must do it yourself.</P>
<DIV class=refsect3><A name=id-1.5.30.6.11.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>fd</P></TD>
<TD class=parameter_description>
<P>a file descriptor</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>condition</P></TD>
<TD class=parameter_description>
<P>IO conditions to watch for on <EM class=parameter><CODE>fd</CODE></EM> </P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.5.30.6.11.7></A>
<H4>Returns</H4>
<P>the newly created <A class=link title="struct GSource" href="https://developer.gnome.org/glib/stable/glib-The-Main-Event-Loop.html#GSource"><SPAN class=type>GSource</SPAN></A></P>
<P></P></DIV>
<P class=since>Since 2.36</P></DIV></DIV>
<DIV class=refsect1><A name=glib-UNIX-specific-utilities-and-integration.other_details></A>
<H2>Types and Values</H2></DIV>