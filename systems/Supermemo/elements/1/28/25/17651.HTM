<TABLE width="100%">
<TBODY>
<TR>
<TD vAlign=top>
<H2><SPAN class=refentrytitle><A name=glib-String-Chunks.top_of_page></A>String Chunks</SPAN></H2>
<P>String Chunks &#8212; efficient storage of groups of strings</P></TD>
<TD class=gallery_image vAlign=top align=right></TD></TR></TBODY></TABLE>
<DIV class=refsect1><A name=glib-String-Chunks.functions></A>
<H2>Functions</H2>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=functions_return width=150></COL>
<COL class=functions_name></COL></COLGROUP>
<TBODY>
<TR>
<TD class=function_type><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=returnvalue>GStringChunk</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_string_chunk_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-new">g_string_chunk_new</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_string_chunk_insert&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert">g_string_chunk_insert</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const">g_string_chunk_insert_const</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;* </TD>
<TD class=function_name><A class=link title=g_string_chunk_insert_len&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-len">g_string_chunk_insert_len</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A class=link title=g_string_chunk_clear&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-clear">g_string_chunk_clear</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR>
<TR>
<TD class=function_type><SPAN class=returnvalue>void</SPAN> </TD>
<TD class=function_name><A class=link title=g_string_chunk_free&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-free">g_string_chunk_free</A>&nbsp;<SPAN class=c_punctuation>()</SPAN> </TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-String-Chunks.other></A>
<H2>Types and Values</H2>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=name width=150></COL>
<COL class=description></COL></COLGROUP>
<TBODY>
<TR>
<TD class=datatype_keyword>&nbsp;</TD>
<TD class=function_name><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk">GStringChunk</A></TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect1><A name=glib-String-Chunks.includes></A>
<H2>Includes</H2><PRE class=synopsis>#include &lt;glib.h&gt;
</PRE></DIV>
<DIV class=refsect1><A name=glib-String-Chunks.description></A>
<H2>Description</H2>
<P>String chunks are used to store groups of strings. Memory is allocated in blocks, and as strings are added to the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> they are copied into the next free position in a block. When a block is full a new block is allocated.</P>
<P>When storing a large number of strings, string chunks are more efficient than using <A class=link title=g_strdup&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Utility-Functions.html#g-strdup"><CODE class=function>g_strdup()</CODE></A> since fewer calls to <CODE class=function>malloc()</CODE> are needed, and less memory is wasted in memory allocation overheads.</P>
<P>By adding strings with <A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const"><CODE class=function>g_string_chunk_insert_const()</CODE></A> it is also possible to remove duplicates.</P>
<P>To create a new <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> use <A class=link title=g_string_chunk_new&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-new"><CODE class=function>g_string_chunk_new()</CODE></A>.</P>
<P>To add strings to a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> use <A class=link title=g_string_chunk_insert&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert"><CODE class=function>g_string_chunk_insert()</CODE></A>.</P>
<P>To add strings to a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>, but without duplicating strings which are already in the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>, use <A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const"><CODE class=function>g_string_chunk_insert_const()</CODE></A>.</P>
<P>To free the entire <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> use <A class=link title=g_string_chunk_free&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-free"><CODE class=function>g_string_chunk_free()</CODE></A>. It is not possible to free individual strings.</P></DIV>
<DIV class=refsect1><A name=glib-String-Chunks.functions_details></A>
<H2>Functions</H2>
<DIV class=refsect2><A name=g-string-chunk-new></A>
<H3>g_string_chunk_new&nbsp;()</H3><PRE class=programlisting><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=returnvalue>GStringChunk</SPAN></A>&nbsp;*
g_string_chunk_new (<EM class=parameter><CODE><A class=link title=gsize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gsize"><SPAN class=type>gsize</SPAN></A> size</CODE></EM>);</PRE>
<P>Creates a new <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>.</P>
<DIV class=refsect3><A name=id-1.6.9.7.2.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>size</P></TD>
<TD class=parameter_description>
<P>the default size of the blocks of memory which are allocated to store the strings. If a particular string is larger than this default size, a larger block of memory will be allocated for it.</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.6.9.7.2.6></A>
<H4>Returns</H4>
<P>a new <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P>
<P></P></DIV></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-string-chunk-insert></A>
<H3>g_string_chunk_insert&nbsp;()</H3><PRE class=programlisting><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_string_chunk_insert (<EM class=parameter><CODE><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> *chunk</CODE></EM>,
                       <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *string</CODE></EM>);</PRE>
<P>Adds a copy of <EM class=parameter><CODE>string</CODE></EM> to the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>. It returns a pointer to the new copy of the string in the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>. The characters in the string can be changed, if necessary, though you should not change anything after the end of the string.</P>
<P>Unlike <A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const"><CODE class=function>g_string_chunk_insert_const()</CODE></A>, this function does not check for duplicates. Also strings added with <A class=link title=g_string_chunk_insert&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert"><CODE class=function>g_string_chunk_insert()</CODE></A> will not be searched by <A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const"><CODE class=function>g_string_chunk_insert_const()</CODE></A> when looking for duplicates.</P>
<DIV class=refsect3><A name=id-1.6.9.7.3.6></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>chunk</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>string</P></TD>
<TD class=parameter_description>
<P>the string to add</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.6.9.7.3.7></A>
<H4>Returns</H4>
<P>a pointer to the copy of <EM class=parameter><CODE>string</CODE></EM> within the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P>
<P></P></DIV></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-string-chunk-insert-const></A>
<H3>g_string_chunk_insert_const&nbsp;()</H3><PRE class=programlisting><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_string_chunk_insert_const (<EM class=parameter><CODE><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> *chunk</CODE></EM>,
                             <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *string</CODE></EM>);</PRE>
<P>Adds a copy of <EM class=parameter><CODE>string</CODE></EM> to the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>, unless the same string has already been added to the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> with <A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const"><CODE class=function>g_string_chunk_insert_const()</CODE></A>.</P>
<P>This function is useful if you need to copy a large number of strings but do not want to waste space storing duplicates. But you must remember that there may be several pointers to the same string, and so any changes made to the strings should be done very carefully.</P>
<P>Note that <A class=link title=g_string_chunk_insert_const&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert-const"><CODE class=function>g_string_chunk_insert_const()</CODE></A> will not return a pointer to a string added with <A class=link title=g_string_chunk_insert&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-insert"><CODE class=function>g_string_chunk_insert()</CODE></A>, even if they do match.</P>
<DIV class=refsect3><A name=id-1.6.9.7.4.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>chunk</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>string</P></TD>
<TD class=parameter_description>
<P>the string to add</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.6.9.7.4.8></A>
<H4>Returns</H4>
<P>a pointer to the new or existing copy of <EM class=parameter><CODE>string</CODE></EM> within the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P>
<P></P></DIV></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-string-chunk-insert-len></A>
<H3>g_string_chunk_insert_len&nbsp;()</H3><PRE class=programlisting><A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=returnvalue>gchar</SPAN></A>&nbsp;*
g_string_chunk_insert_len (<EM class=parameter><CODE><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> *chunk</CODE></EM>,
                           <EM class=parameter><CODE>const <A class=link title=gchar href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gchar"><SPAN class=type>gchar</SPAN></A> *string</CODE></EM>,
                           <EM class=parameter><CODE><A class=link title=gssize href="https://developer.gnome.org/glib/stable/glib-Basic-Types.html#gssize"><SPAN class=type>gssize</SPAN></A> len</CODE></EM>);</PRE>
<P>Adds a copy of the first <EM class=parameter><CODE>len</CODE></EM> bytes of <EM class=parameter><CODE>string</CODE></EM> to the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>. The copy is nul-terminated.</P>
<P>Since this function does not stop at nul bytes, it is the caller's responsibility to ensure that <EM class=parameter><CODE>string</CODE></EM> has at least <EM class=parameter><CODE>len</CODE></EM> addressable bytes.</P>
<P>The characters in the returned string can be changed, if necessary, though you should not change anything after the end of the string.</P>
<DIV class=refsect3><A name=id-1.6.9.7.5.7></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>chunk</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>string</P></TD>
<TD class=parameter_description>
<P>bytes to insert</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR>
<TR>
<TD class=parameter_name>
<P>len</P></TD>
<TD class=parameter_description>
<P>number of bytes of <EM class=parameter><CODE>string</CODE></EM> to insert, or -1 to insert a nul-terminated string</P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<DIV class=refsect3><A name=id-1.6.9.7.5.8></A>
<H4>Returns</H4>
<P>a pointer to the copy of <EM class=parameter><CODE>string</CODE></EM> within the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P>
<P></P></DIV>
<P class=since>Since 2.4</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-string-chunk-clear></A>
<H3>g_string_chunk_clear&nbsp;()</H3><PRE class=programlisting><SPAN class=returnvalue>void</SPAN>
g_string_chunk_clear (<EM class=parameter><CODE><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> *chunk</CODE></EM>);</PRE>
<P>Frees all strings contained within the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>. After calling <A class=link title=g_string_chunk_clear&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-clear"><CODE class=function>g_string_chunk_clear()</CODE></A> it is not safe to access any of the strings which were contained within it.</P>
<DIV class=refsect3><A name=id-1.6.9.7.6.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>chunk</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV>
<P class=since>Since 2.14</P></DIV>
<HR>
</HR>
<DIV class=refsect2><A name=g-string-chunk-free></A>
<H3>g_string_chunk_free&nbsp;()</H3><PRE class=programlisting><SPAN class=returnvalue>void</SPAN>
g_string_chunk_free (<EM class=parameter><CODE><A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A> *chunk</CODE></EM>);</PRE>
<P>Frees all memory allocated by the <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A>. After calling <A class=link title=g_string_chunk_free&nbsp;() href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#g-string-chunk-free"><CODE class=function>g_string_chunk_free()</CODE></A> it is not safe to access any of the strings which were contained within it.</P>
<DIV class=refsect3><A name=id-1.6.9.7.7.5></A>
<H4>Parameters</H4>
<DIV class=informaltable>
<TABLE border=0 width="100%">
<COLGROUP>
<COL class=parameters_name width=150></COL>
<COL class=parameters_description></COL>
<COL class=parameters_annotations width=200></COL></COLGROUP>
<TBODY>
<TR>
<TD class=parameter_name>
<P>chunk</P></TD>
<TD class=parameter_description>
<P>a <A class=link title=GStringChunk href="https://developer.gnome.org/glib/stable/glib-String-Chunks.html#GStringChunk"><SPAN class=type>GStringChunk</SPAN></A></P></TD>
<TD class=parameter_annotations>&nbsp;</TD></TR></TBODY></TABLE></DIV></DIV></DIV></DIV>
<DIV class=refsect1><A name=glib-String-Chunks.other_details></A>
<H2>Types and Values</H2>
<DIV class=refsect2><A name=GStringChunk></A>
<H3>GStringChunk</H3><PRE class=programlisting>typedef struct _GStringChunk GStringChunk;</PRE>
<P>An opaque data structure representing String Chunks. It should only be accessed by using the following functions.</P></DIV></DIV>