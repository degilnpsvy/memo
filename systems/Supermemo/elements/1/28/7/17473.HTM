<H1 class=postTitle><A id=cb_post_title_url class=postTitle2 href="http://www.cnblogs.com/vamei/archive/2012/07/09/2582499.html">Python&#36827;&#38454;06 &#24490;&#29615;&#23545;&#35937;</A> </H1>
<DIV class=clear></DIV>
<DIV class=postBody>
<DIV id=cnblogs_post_body>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20316;&#32773;&#65306;Vamei &#20986;&#22788;&#65306;http://www.cnblogs.com/vamei &#27426;&#36814;&#36716;&#36733;&#65292;&#20063;&#35831;&#20445;&#30041;&#36825;&#27573;&#22768;&#26126;&#12290;&#35874;&#35874;&#65281;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#36825;&#19968;&#35762;&#30340;&#20027;&#35201;&#30446;&#30340;&#26159;&#20026;&#20102;&#22823;&#23478;&#22312;&#35835;Python&#31243;&#24207;&#30340;&#26102;&#20505;&#23545;&#24490;&#29615;&#23545;&#35937;&#26377;&#19968;&#20010;&#22522;&#26412;&#27010;&#24565;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#24490;&#29615;&#23545;&#35937;&#30340;&#24182;&#19981;&#26159;&#38543;&#30528;Python&#30340;&#35806;&#29983;&#23601;&#23384;&#22312;&#30340;&#65292;&#20294;&#23427;&#30340;&#21457;&#23637;&#36805;&#36895;&#65292;&#29305;&#21035;&#26159;Python 3x&#30340;&#26102;&#20195;&#65292;&#24490;&#29615;&#23545;&#35937;&#27491;&#22312;&#25104;&#20026;&#24490;&#29615;&#30340;&#26631;&#20934;&#24418;&#24335;&#12290;</SPAN></P>
<P>&nbsp;</P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#20160;&#20040;&#26159;&#24490;&#29615;&#23545;&#35937;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#24490;&#29615;&#23545;&#35937;&#26159;&#36825;&#26679;&#19968;&#20010;&#23545;&#35937;&#65292;&#23427;&#21253;&#21547;&#26377;&#19968;&#20010;<SPAN style="COLOR: #ff0000">next()&#26041;&#27861;</SPAN>(__next__()&#26041;&#27861;&#65292;&#22312;python 3x&#20013;)&#65292; &#36825;&#20010;&#26041;&#27861;&#30340;&#30446;&#30340;&#26159;&#36827;&#34892;&#21040;&#19979;&#19968;&#20010;&#32467;&#26524;&#65292;&#32780;&#22312;&#32467;&#26463;&#19968;&#31995;&#21015;&#32467;&#26524;&#20043;&#21518;&#65292;&#20030;&#20986;<SPAN style="COLOR: #ff0000">StopIteration&#38169;&#35823;</SPAN>&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#24403;&#19968;&#20010;&#24490;&#29615;&#32467;&#26500;&#65288;&#27604;&#22914;for&#65289;&#35843;&#29992;&#24490;&#29615;&#23545;&#35937;&#26102;&#65292;&#23427;&#23601;&#20250;&#27599;&#27425;&#24490;&#29615;&#30340;&#26102;&#20505;&#35843;&#29992;next()&#26041;&#27861;&#65292;&#30452;&#21040;StopIteration&#20986;&#29616;&#65292;for&#24490;&#29615;&#25509;&#25910;&#21040;&#65292;&#23601;&#30693;&#36947;&#24490;&#29615;&#24050;&#32463;&#32467;&#26463;&#65292;&#20572;&#27490;&#35843;&#29992;next()&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20551;&#35774;&#25105;&#20204;&#26377;&#19968;&#20010;test.txt&#30340;&#25991;&#20214;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier">1234<SPAN style="COLOR: #000000">
abcd
efg</SPAN></SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#36816;&#34892;&#19968;&#19979;python&#21629;&#20196;&#34892;&#65306;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&gt;&gt;&gt;f = open('test.txt')</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&gt;&gt;&gt;f.next()</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&gt;&gt;&gt;f.next()</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">...</SPAN></P>
<P><BR><SPAN style="FONT-FAMILY: courier new, courier">&#19981;&#26029;&#36755;&#20837;f.next()&#65292;&#30452;&#21040;&#26368;&#21518;&#20986;&#29616;StopIteration</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #ff0000">open()&#36820;&#22238;&#30340;&#23454;&#38469;&#19978;&#26159;&#19968;&#20010;&#24490;&#29615;&#23545;&#35937;</SPAN>&#65292;&#21253;&#21547;&#26377;next()&#26041;&#27861;&#12290;&#32780;&#35813;next()&#26041;&#27861;&#27599;&#27425;&#36820;&#22238;&#30340;&#23601;&#26159;&#26032;&#30340;&#19968;&#34892;&#30340;&#20869;&#23481;&#65292;&#21040;&#36798;&#25991;&#20214;&#32467;&#23614;&#26102;&#20030;&#20986;StopIteration&#12290;&#36825;&#26679;&#65292;&#25105;&#20204;&#30456;&#24403;&#20110;&#25163;&#24037;&#36827;&#34892;&#20102;&#24490;&#29615;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#33258;&#21160;&#36827;&#34892;&#30340;&#35805;&#65292;&#23601;&#26159;&#65306;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">for</SPAN> line <SPAN style="COLOR: #0000ff">in</SPAN> open(<SPAN style="COLOR: #800000">'</SPAN><SPAN style="COLOR: #800000">test.txt</SPAN><SPAN style="COLOR: #800000">'</SPAN><SPAN style="COLOR: #000000">):
    </SPAN><SPAN style="COLOR: #0000ff">print</SPAN> line</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#22312;&#36825;&#37324;&#65292;for&#32467;&#26500;&#33258;&#21160;&#35843;&#29992;next()&#26041;&#27861;&#65292;&#23558;&#35813;&#26041;&#27861;&#30340;&#36820;&#22238;&#20540;&#36171;&#20104;&#32473;line&#12290;&#24490;&#29615;&#30693;&#36947;&#20986;&#29616;StopIteration&#30340;&#26102;&#20505;&#32467;&#26463;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#30456;&#23545;&#20110;&#24207;&#21015;&#65292;&#29992;&#24490;&#29615;&#23545;&#35937;&#30340;&#22909;&#22788;&#22312;&#20110;&#65306;&#19981;&#29992;&#22312;&#24490;&#29615;&#36824;&#27809;&#26377;&#24320;&#22987;&#30340;&#26102;&#20505;&#65292;&#23601;&#29983;&#25104;&#22909;&#35201;&#20351;&#29992;&#30340;&#20803;&#32032;&#12290;&#25152;&#20351;&#29992;&#30340;&#20803;&#32032;&#21487;&#20197;&#22312;&#24490;&#29615;&#36807;&#31243;&#20013;&#36880;&#27425;&#29983;&#25104;&#12290;&#36825;&#26679;&#65292;&#33410;&#30465;&#20102;&#31354;&#38388;&#65292;&#25552;&#39640;&#20102;&#25928;&#29575;&#65292;&#32534;&#31243;&#26356;&#28789;&#27963;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#36845;&#20195;&#22120;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20174;&#25216;&#26415;&#19978;&#26469;&#35828;&#65292;&#24490;&#29615;&#23545;&#35937;&#21644;for&#24490;&#29615;&#35843;&#29992;&#20043;&#38388;&#36824;&#26377;&#19968;&#20010;&#20013;&#38388;&#23618;&#65292;&#23601;&#26159;&#35201;&#23558;&#24490;&#29615;&#23545;&#35937;&#36716;&#25442;&#25104;&#36845;&#20195;&#22120;(iterator)&#12290;&#36825;&#19968;&#36716;&#25442;&#26159;&#36890;&#36807;&#20351;&#29992;<SPAN style="COLOR: #800000">iter()</SPAN>&#20989;&#25968;&#23454;&#29616;&#30340;&#12290;&#20294;&#20174;&#36923;&#36753;&#23618;&#38754;&#19978;&#65292;&#24120;&#24120;&#21487;&#20197;&#24573;&#30053;&#36825;&#19968;&#23618;&#65292;&#25152;&#20197;&#24490;&#29615;&#23545;&#35937;&#21644;&#36845;&#20195;&#22120;&#24120;&#24120;&#30456;&#20114;&#25351;&#20195;&#23545;&#26041;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#29983;&#25104;&#22120;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#29983;&#25104;&#22120;<SPAN>(generator)</SPAN>&#30340;&#20027;&#35201;&#30446;&#30340;&#26159;&#26500;&#25104;&#19968;&#20010;&#29992;&#25143;&#33258;&#23450;&#20041;&#30340;&#24490;&#29615;&#23545;&#35937;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#29983;&#25104;&#22120;&#30340;&#32534;&#20889;&#26041;&#27861;&#21644;&#20989;&#25968;&#23450;&#20041;&#31867;&#20284;&#65292;&#21482;&#26159;&#22312;<SPAN style="COLOR: #ff0000"><SPAN style="COLOR: #000000">return&#30340;&#22320;&#26041;</SPAN>&#25913;&#20026;yield</SPAN>&#12290;&#29983;&#25104;&#22120;&#20013;&#21487;&#20197;&#26377;&#22810;&#20010;yield&#12290;&#24403;&#29983;&#25104;&#22120;&#36935;&#21040;&#19968;&#20010;yield&#26102;&#65292;&#20250;&#26242;&#20572;&#36816;&#34892;&#29983;&#25104;&#22120;&#65292;&#36820;&#22238;yield&#21518;&#38754;&#30340;&#20540;&#12290;&#24403;&#20877;&#27425;&#35843;&#29992;&#29983;&#25104;&#22120;&#30340;&#26102;&#20505;&#65292;&#20250;&#20174;&#21018;&#25165;&#26242;&#20572;&#30340;&#22320;&#26041;&#32487;&#32493;&#36816;&#34892;&#65292;&#30452;&#21040;&#19979;&#19968;&#20010;yield&#12290;<SPAN style="COLOR: #ff0000">&#29983;&#25104;&#22120;&#33258;&#36523;&#21448;&#26500;&#25104;&#19968;&#20010;&#24490;&#29615;&#22120;</SPAN>&#65292;&#27599;&#27425;&#24490;&#29615;&#20351;&#29992;&#19968;&#20010;yield&#36820;&#22238;&#30340;&#20540;&#12290;</SPAN></P>
<P>&nbsp;</P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#19979;&#38754;&#26159;&#19968;&#20010;&#29983;&#25104;&#22120;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">def</SPAN><SPAN style="COLOR: #000000"> gen():
    a </SPAN>= 100
    <SPAN style="COLOR: #0000ff">yield</SPAN><SPAN style="COLOR: #000000"> a
    a </SPAN>= a*8
    <SPAN style="COLOR: #0000ff">yield</SPAN><SPAN style="COLOR: #000000"> a
    </SPAN><SPAN style="COLOR: #0000ff">yield</SPAN> 1000</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#35813;&#29983;&#25104;&#22120;&#20849;&#26377;&#19977;&#20010;yield&#65292; &#22914;&#26524;&#29992;&#20316;&#24490;&#29615;&#22120;&#26102;&#65292;&#20250;&#36827;&#34892;&#19977;&#27425;&#24490;&#29615;&#12290;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">for</SPAN> i <SPAN style="COLOR: #0000ff">in</SPAN><SPAN style="COLOR: #000000"> gen():
    </SPAN><SPAN style="COLOR: #0000ff">print</SPAN> i</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20877;&#32771;&#34385;&#22914;&#19979;&#19968;&#20010;&#29983;&#25104;&#22120;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">def</SPAN><SPAN style="COLOR: #000000"> gen():
    </SPAN><SPAN style="COLOR: #0000ff">for</SPAN> i <SPAN style="COLOR: #0000ff">in</SPAN> range(4<SPAN style="COLOR: #000000">):
        </SPAN><SPAN style="COLOR: #0000ff">yield</SPAN> i</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#23427;&#21448;&#21487;&#20197;&#20889;&#25104;<SPAN style="COLOR: #ff0000">&#29983;&#25104;&#22120;&#34920;&#36798;&#24335;(Generator Expression)</SPAN>:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier">G = (x <SPAN style="COLOR: #0000ff">for</SPAN> x <SPAN style="COLOR: #0000ff">in</SPAN> range(4))</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#29983;&#25104;&#22120;&#34920;&#36798;&#24335;&#26159;&#29983;&#25104;&#22120;&#30340;&#19968;&#31181;&#31616;&#20415;&#30340;&#32534;&#20889;&#26041;&#24335;&#12290;&#35835;&#32773;&#21487;&#36827;&#19968;&#27493;&#26597;&#38405;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#34920;&#25512;&#23548;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#34920;&#25512;&#23548;<SPAN>(list comprehension)</SPAN>&#26159;&#24555;&#36895;&#29983;&#25104;&#34920;&#30340;&#26041;&#27861;&#12290;&#23427;&#30340;&#35821;&#27861;&#31616;&#21333;&#65292;&#24456;&#26377;&#23454;&#29992;&#20215;&#20540;&#12290;</SPAN></P>
<P>&nbsp;</P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20551;&#35774;&#25105;&#20204;&#29983;&#25104;&#34920;L&#65306;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier">L =<SPAN style="COLOR: #000000"> []
</SPAN><SPAN style="COLOR: #0000ff">for</SPAN> x <SPAN style="COLOR: #0000ff">in</SPAN> range(10<SPAN style="COLOR: #000000">):
    L.append(x</SPAN>**2)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20197;&#19978;&#20135;&#29983;&#20102;&#34920;L&#65292;&#20294;&#23454;&#38469;&#19978;&#26377;&#24555;&#25463;&#30340;&#20889;&#27861;&#65292;&#20063;&#23601;&#26159;<SPAN style="COLOR: #ff0000">&#34920;&#25512;&#23548;</SPAN>&#30340;&#26041;&#24335;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier">L = [x**2 <SPAN style="COLOR: #0000ff">for</SPAN> x <SPAN style="COLOR: #0000ff">in</SPAN> range(10)]</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#36825;&#19982;&#29983;&#25104;&#22120;&#34920;&#36798;&#24335;&#31867;&#20284;&#65292;&#21482;&#19981;&#36807;&#29992;&#30340;&#26159;<SPAN style="COLOR: #ff0000">&#20013;&#25324;&#21495;</SPAN>&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#65288;&#34920;&#25512;&#23548;&#30340;&#26426;&#21046;&#23454;&#38469;&#19978;&#26159;&#21033;&#29992;&#24490;&#29615;&#23545;&#35937;&#65292;&#26377;&#20852;&#36259;&#21487;&#20197;&#26597;&#38405;&#12290;&#65289;</SPAN></P>
<P>&nbsp;</P>
<P><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #800000">&#32451;&#20064;</SPAN>&nbsp;&#19979;&#38754;&#30340;&#34920;&#25512;&#23548;&#20250;&#29983;&#25104;&#20160;&#20040;&#65311;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier">xl = [1,3,5<SPAN style="COLOR: #000000">]
yl </SPAN>= [9,12,13<SPAN style="COLOR: #000000">]
L  </SPAN>= [ x**2 <SPAN style="COLOR: #0000ff">for</SPAN> (x,y) <SPAN style="COLOR: #0000ff">in</SPAN> zip(xl,yl) <SPAN style="COLOR: #0000ff">if</SPAN> y &gt; 10]</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#24635;&#32467;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#24490;&#29615;&#23545;&#35937;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#29983;&#25104;&#22120;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#34920;&#25512;&#23548;</SPAN></P></DIV></DIV>