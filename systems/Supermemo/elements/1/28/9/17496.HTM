<H1 class=postTitle><A id=cb_post_title_url class=postTitle2 href="http://www.cnblogs.com/vamei/archive/2012/09/23/2698014.html">Python&#26631;&#20934;&#24211;06 &#23376;&#36827;&#31243; (subprocess&#21253;)</A> </H1>
<DIV class=clear></DIV>
<DIV class=postBody>
<DIV id=cnblogs_post_body>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20316;&#32773;&#65306;Vamei &#20986;&#22788;&#65306;http://www.cnblogs.com/vamei &#27426;&#36814;&#36716;&#36733;&#65292;&#20063;&#35831;&#20445;&#30041;&#36825;&#27573;&#22768;&#26126;&#12290;&#35874;&#35874;&#65281;</SPAN></P>
<P><SPAN style="BACKGROUND-COLOR: #000000; FONT-FAMILY: courier new, courier; COLOR: #ffffff">&#35874;&#35874;<A id=a_comment_author_2479601 href="http://home.cnblogs.com/u/345725/" target=_blank><SPAN style="BACKGROUND-COLOR: #000000; COLOR: #ffffff">Tolbkni Kao</SPAN></A>&#24110;&#25105;&#32416;&#27491;&#38169;&#35823; </SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#36825;&#37324;&#30340;&#20869;&#23481;&#20197;<A href="http://www.cnblogs.com/vamei/archive/2012/09/20/2694466.html">Linux&#36827;&#31243;&#22522;&#30784;</A><SPAN style="COLOR: #000000">&#21644;<A href="http://www.cnblogs.com/vamei/archive/2012/09/14/2683756.html">Linux&#25991;&#26412;&#27969;</A></SPAN>&#20026;&#22522;&#30784;&#12290;subprocess&#21253;&#20027;&#35201;&#21151;&#33021;&#26159;<SPAN style="COLOR: #ff0000">&#25191;&#34892;&#22806;&#37096;&#30340;&#21629;&#20196;&#21644;&#31243;&#24207;</SPAN>&#12290;&#27604;&#22914;&#35828;&#65292;&#25105;&#38656;&#35201;&#20351;&#29992;wget&#19979;&#36733;&#25991;&#20214;&#12290;&#25105;&#22312;Python&#20013;&#35843;&#29992;wget&#31243;&#24207;&#12290;&#20174;&#36825;&#20010;&#24847;&#20041;&#19978;&#26469;&#35828;&#65292;subprocess&#30340;&#21151;&#33021;&#19982;shell&#31867;&#20284;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">subprocess&#20197;&#21450;&#24120;&#29992;&#30340;&#23553;&#35013;&#20989;&#25968;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#24403;&#25105;&#20204;&#36816;&#34892;python&#30340;&#26102;&#20505;&#65292;&#25105;&#20204;&#37117;&#26159;&#22312;&#21019;&#24314;&#24182;&#36816;&#34892;&#19968;&#20010;&#36827;&#31243;&#12290;&#27491;&#22914;&#25105;&#20204;&#22312;<A href="http://www.cnblogs.com/vamei/archive/2012/09/20/2694466.html">Linux&#36827;&#31243;&#22522;&#30784;</A>&#20013;&#20171;&#32461;&#30340;&#37027;&#26679;&#65292;&#19968;&#20010;&#36827;&#31243;&#21487;&#20197;<SPAN style="COLOR: #ff0000">fork</SPAN>&#19968;&#20010;&#23376;&#36827;&#31243;&#65292;&#24182;&#35753;&#36825;&#20010;&#23376;&#36827;&#31243;<SPAN style="COLOR: #ff0000">exec</SPAN>&#21478;&#22806;&#19968;&#20010;&#31243;&#24207;&#12290;&#22312;Python&#20013;&#65292;&#25105;&#20204;&#36890;&#36807;&#26631;&#20934;&#24211;&#20013;&#30340;subprocess&#21253;&#26469;fork&#19968;&#20010;&#23376;&#36827;&#31243;&#65292;&#24182;&#36816;&#34892;&#19968;&#20010;&#22806;&#37096;&#30340;&#31243;&#24207;(fork&#65292;exec&#35265;<A href="http://www.cnblogs.com/vamei/archive/2012/09/20/2694466.html">Linux&#36827;&#31243;&#22522;&#30784;</A>)&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">subprocess&#21253;&#20013;&#23450;&#20041;&#26377;&#25968;&#20010;&#21019;&#24314;&#23376;&#36827;&#31243;&#30340;&#20989;&#25968;&#65292;&#36825;&#20123;&#20989;&#25968;&#20998;&#21035;&#20197;&#19981;&#21516;&#30340;&#26041;&#24335;&#21019;&#24314;&#23376;&#36827;&#31243;&#65292;&#25152;&#20197;&#25105;&#20204;&#21487;&#20197;&#26681;&#25454;&#38656;&#35201;&#26469;&#20174;&#20013;&#36873;&#21462;&#19968;&#20010;&#20351;&#29992;&#12290;&#21478;&#22806;subprocess&#36824;&#25552;&#20379;&#20102;&#19968;&#20123;&#31649;&#29702;<A href="http://www.cnblogs.com/vamei/archive/2012/09/14/2683756.html">&#26631;&#20934;&#27969;(standard stream)&#21644;&#31649;&#36947;</A><A href="http://www.cnblogs.com/vamei/archive/2012/09/14/2683756.html">(pipe)</A>&#30340;&#24037;&#20855;&#65292;&#20174;&#32780;&#22312;&#36827;&#31243;&#38388;&#20351;&#29992;<SPAN style="COLOR: #ff0000">&#25991;&#26412;&#36890;&#20449;</SPAN>&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20351;&#29992;subprocess&#21253;&#20013;&#30340;&#20989;&#25968;&#21019;&#24314;&#23376;&#36827;&#31243;&#30340;&#26102;&#20505;&#65292;&#35201;&#27880;&#24847;:</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">1) &#22312;&#21019;&#24314;&#23376;&#36827;&#31243;&#20043;&#21518;&#65292;&#29238;&#36827;&#31243;&#26159;&#21542;&#26242;&#20572;&#65292;&#24182;&#31561;&#24453;&#23376;&#36827;&#31243;&#36816;&#34892;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">2) &#20989;&#25968;&#36820;&#22238;&#20160;&#20040;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">3) &#24403;returncode&#19981;&#20026;0&#26102;&#65292;&#29238;&#36827;&#31243;&#22914;&#20309;&#22788;&#29702;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300">subprocess.call()</SPAN><BR><SPAN style="FONT-FAMILY: courier new, courier">&#29238;&#36827;&#31243;&#31561;&#24453;&#23376;&#36827;&#31243;&#23436;&#25104;</SPAN><BR><SPAN style="FONT-FAMILY: courier new, courier">&#36820;&#22238;<SPAN style="COLOR: #ff0000">&#36864;&#20986;&#20449;&#24687;</SPAN>(returncode&#65292;&#30456;&#24403;&#20110;exit code&#65292;&#35265;<A href="http://www.cnblogs.com/vamei/archive/2012/09/20/2694466.html">Linux&#36827;&#31243;&#22522;&#30784;</A>)</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300">subprocess.check_call()</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#29238;&#36827;&#31243;&#31561;&#24453;&#23376;&#36827;&#31243;&#23436;&#25104;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#36820;&#22238;<SPAN style="COLOR: #ff0000">0</SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#26816;&#26597;&#36864;&#20986;&#20449;&#24687;&#65292;&#22914;&#26524;returncode&#19981;&#20026;0&#65292;&#21017;&#20030;&#20986;&#38169;&#35823;subprocess.CalledProcessError&#65292;&#35813;&#23545;&#35937;&#21253;&#21547;&#26377;returncode&#23646;&#24615;&#65292;&#21487;&#29992;try...except...&#26469;&#26816;&#26597;(&#35265;<A href="http://www.cnblogs.com/vamei/archive/2012/07/10/2582787.html">Python&#38169;&#35823;&#22788;&#29702;</A>)&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300">subprocess.check_output()</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#29238;&#36827;&#31243;&#31561;&#24453;&#23376;&#36827;&#31243;&#23436;&#25104;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#36820;&#22238;&#23376;&#36827;&#31243;&#21521;&#26631;&#20934;&#36755;&#20986;&#30340;<SPAN style="COLOR: #ff0000">&#36755;&#20986;&#32467;&#26524;</SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#26816;&#26597;&#36864;&#20986;&#20449;&#24687;&#65292;&#22914;&#26524;returncode&#19981;&#20026;0&#65292;&#21017;&#20030;&#20986;&#38169;&#35823;subprocess.CalledProcessError&#65292;&#35813;&#23545;&#35937;&#21253;&#21547;&#26377;returncode&#23646;&#24615;&#21644;output&#23646;&#24615;&#65292;output&#23646;&#24615;&#20026;&#26631;&#20934;&#36755;&#20986;&#30340;&#36755;&#20986;&#32467;&#26524;&#65292;&#21487;&#29992;try...except...&#26469;&#26816;&#26597;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#36825;&#19977;&#20010;&#20989;&#25968;&#30340;&#20351;&#29992;&#26041;&#27861;&#30456;&#31867;&#20284;&#65292;&#25105;&#20204;&#20197;subprocess.call()&#26469;&#35828;&#26126;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> subprocess
rc = subprocess.call([</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">ls</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">-l</SPAN><SPAN style="COLOR: #800000">"</SPAN>])</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#23558;&#31243;&#24207;&#21517;(ls)&#21644;&#25152;&#24102;&#30340;&#21442;&#25968;(-l)&#19968;&#36215;&#25918;&#22312;&#19968;&#20010;&#34920;&#20013;&#20256;&#36882;&#32473;subprocess.call()</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#21487;&#20197;&#36890;&#36807;&#19968;&#20010;shell&#26469;&#35299;&#37322;&#19968;&#25972;&#20010;&#23383;&#31526;&#20018;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> subprocess
out </SPAN>= subprocess.call(<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">ls -l</SPAN><SPAN style="COLOR: #800000">"</SPAN>, shell=<SPAN style="COLOR: #000000">True)
out </SPAN>= subprocess.call(<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">cd ..</SPAN><SPAN style="COLOR: #800000">"</SPAN>, shell=True)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#20351;&#29992;&#20102;<SPAN style="COLOR: #ff0000">shell=True</SPAN>&#36825;&#20010;&#21442;&#25968;&#12290;&#36825;&#20010;&#26102;&#20505;&#65292;&#25105;&#20204;&#20351;&#29992;<SPAN style="COLOR: #ff0000">&#19968;&#25972;&#20010;&#23383;&#31526;&#20018;</SPAN>&#65292;&#32780;<SPAN style="COLOR: #ff0000">&#19981;&#26159;&#19968;&#20010;&#34920;</SPAN>&#26469;&#36816;&#34892;&#23376;&#36827;&#31243;&#12290;Python&#23558;<SPAN style="COLOR: #ff0000">&#20808;&#36816;&#34892;&#19968;&#20010;shell</SPAN>&#65292;&#20877;&#29992;&#36825;&#20010;shell&#26469;&#35299;&#37322;&#36825;&#25972;&#20010;&#23383;&#31526;&#20018;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">shell&#21629;&#20196;&#20013;&#26377;&#19968;&#20123;&#26159;<A href="http://www.cnblogs.com/vamei/archive/2012/09/10/2676740.html">shell&#30340;&#20869;&#24314;&#21629;&#20196;</A>&#65292;&#36825;&#20123;&#21629;&#20196;&#24517;&#39035;&#36890;&#36807;shell&#36816;&#34892;&#65292;$cd&#12290;shell=True&#20801;&#35768;&#25105;&#20204;&#36816;&#34892;&#36825;&#26679;&#19968;&#20123;&#21629;&#20196;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">Popen()</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#23454;&#38469;&#19978;&#65292;&#25105;&#20204;&#19978;&#38754;&#30340;&#19977;&#20010;&#20989;&#25968;&#37117;&#26159;&#22522;&#20110;<SPAN style="COLOR: #ff0000">Popen()</SPAN>&#30340;&#23553;&#35013;(wrapper)&#12290;&#36825;&#20123;&#23553;&#35013;&#30340;&#30446;&#30340;&#22312;&#20110;&#35753;&#25105;&#20204;&#23481;&#26131;&#20351;&#29992;&#23376;&#36827;&#31243;&#12290;&#24403;&#25105;&#20204;&#24819;&#35201;&#26356;&#20010;&#24615;&#21270;&#25105;&#20204;&#30340;&#38656;&#27714;&#30340;&#26102;&#20505;&#65292;&#23601;&#35201;&#36716;&#21521;Popen&#31867;&#65292;&#35813;&#31867;&#29983;&#25104;&#30340;&#23545;&#35937;&#29992;&#26469;&#20195;&#34920;&#23376;&#36827;&#31243;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#19982;&#19978;&#38754;&#30340;&#23553;&#35013;&#19981;&#21516;&#65292;Popen&#23545;&#35937;&#21019;&#24314;&#21518;&#65292;&#20027;&#31243;&#24207;&#19981;&#20250;&#33258;&#21160;&#31561;&#24453;&#23376;&#36827;&#31243;&#23436;&#25104;&#12290;&#25105;&#20204;&#24517;&#39035;&#35843;&#29992;&#23545;&#35937;&#30340;<SPAN style="COLOR: #ff0000">wait()</SPAN>&#26041;&#27861;&#65292;&#29238;&#36827;&#31243;&#25165;&#20250;&#31561;&#24453; (&#20063;&#23601;&#26159;&#38459;&#22622;block)&#65306;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> subprocess
child </SPAN>= subprocess.Popen([<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">ping</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">-c</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">5</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">www.google.com</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000">])
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">parent process</SPAN><SPAN style="COLOR: #800000">"</SPAN>)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20174;&#36816;&#34892;&#32467;&#26524;&#20013;&#30475;&#21040;&#65292;&#29238;&#36827;&#31243;&#22312;&#24320;&#21551;&#23376;&#36827;&#31243;&#20043;&#21518;&#24182;&#27809;&#26377;&#31561;&#24453;child&#30340;&#23436;&#25104;&#65292;&#32780;&#26159;&#30452;&#25509;&#36816;&#34892;print&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#23545;&#27604;&#31561;&#24453;&#30340;&#24773;&#20917;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> subprocess
child </SPAN>= subprocess.Popen([<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">ping</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">-c</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">5</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">www.google.com</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000">])
child.wait()
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">parent process</SPAN><SPAN style="COLOR: #800000">"</SPAN>)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#27492;&#22806;&#65292;&#20320;&#36824;&#21487;&#20197;&#22312;&#29238;&#36827;&#31243;&#20013;&#23545;&#23376;&#36827;&#31243;&#36827;&#34892;&#20854;&#23427;&#25805;&#20316;&#65292;&#27604;&#22914;&#25105;&#20204;&#19978;&#38754;&#20363;&#23376;&#20013;&#30340;child&#23545;&#35937;:</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #993300">child.poll()</SPAN> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # &#26816;&#26597;&#23376;&#36827;&#31243;&#29366;&#24577;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300">child.kill() &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <SPAN style="COLOR: #000000"># &#32456;&#27490;&#23376;&#36827;&#31243;</SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300">child.send_signal()&nbsp;&nbsp;&nbsp; <SPAN style="COLOR: #000000"># &#21521;&#23376;&#36827;&#31243;&#21457;&#36865;&#20449;&#21495;</SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300">child.terminate() &nbsp; &nbsp;&nbsp; <SPAN style="COLOR: #000000"># &#32456;&#27490;&#23376;&#36827;&#31243;</SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300"><SPAN style="COLOR: #000000">&nbsp;</SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300"><SPAN style="COLOR: #000000">&#23376;&#36827;&#31243;&#30340;PID&#23384;&#20648;&#22312;<SPAN style="COLOR: #993300">child.pid</SPAN></SPAN></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300"><SPAN style="COLOR: #000000">&nbsp;</SPAN></SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #993300"><SPAN style="COLOR: #000000">&#23376;&#36827;&#31243;&#30340;&#25991;&#26412;&#27969;&#25511;&#21046;<BR></SPAN></SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">(&#27839;&#29992;child&#23376;&#36827;&#31243;) &#23376;&#36827;&#31243;&#30340;&#26631;&#20934;&#36755;&#20837;&#65292;&#26631;&#20934;&#36755;&#20986;&#21644;&#26631;&#20934;&#38169;&#35823;&#20063;&#21487;&#20197;&#36890;&#36807;&#22914;&#19979;&#23646;&#24615;&#34920;&#31034;:</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #ff0000">child.stdin</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #ff0000">child.stdout</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier; COLOR: #ff0000">child.stderr</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#21487;&#20197;&#22312;Popen()&#24314;&#31435;&#23376;&#36827;&#31243;&#30340;&#26102;&#20505;&#25913;&#21464;&#26631;&#20934;&#36755;&#20837;&#12289;&#26631;&#20934;&#36755;&#20986;&#21644;&#26631;&#20934;&#38169;&#35823;&#65292;&#24182;&#21487;&#20197;&#21033;&#29992;<SPAN style="COLOR: #ff0000">subprocess.PIPE</SPAN>&#23558;&#22810;&#20010;&#23376;&#36827;&#31243;&#30340;&#36755;&#20837;&#21644;&#36755;&#20986;&#36830;&#25509;&#22312;&#19968;&#36215;&#65292;&#26500;&#25104;<SPAN style="COLOR: #ff0000">&#31649;&#36947;</SPAN>(pipe):<BR></SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> subprocess
child1 </SPAN>= subprocess.Popen([<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">ls</SPAN><SPAN style="COLOR: #800000">"</SPAN>,<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">-l</SPAN><SPAN style="COLOR: #800000">"</SPAN>], stdout=<SPAN style="COLOR: #000000">subprocess.PIPE)
child2 </SPAN>= subprocess.Popen([<SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">wc</SPAN><SPAN style="COLOR: #800000">"</SPAN>], <SPAN style="COLOR: #000000">stdin=</SPAN><SPAN style="COLOR: #0000ff"><SPAN style="COLOR: #000000">child1.stdout,stdout=subprocess.PIPE</SPAN>)<BR><SPAN style="COLOR: #000000"><SPAN style="COLOR: #0000ff"><SPAN style="COLOR: #000000">out =</SPAN> </SPAN>child2.communicate()<BR><SPAN style="COLOR: #0000ff"><SPAN style="COLOR: #000000"><SPAN style="COLOR: #0000ff">print<SPAN style="COLOR: #000000">(</SPAN><SPAN style="COLOR: #000000">out)</SPAN></SPAN></SPAN></SPAN>
</SPAN></SPAN></SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">subprocess.PIPE&#23454;&#38469;&#19978;&#20026;&#25991;&#26412;&#27969;&#25552;&#20379;&#19968;&#20010;&#32531;&#23384;&#21306;&#12290;child1&#30340;stdout&#23558;&#25991;&#26412;&#36755;&#20986;&#21040;&#32531;&#23384;&#21306;&#65292;&#38543;&#21518;child2&#30340;stdin&#20174;&#35813;PIPE&#20013;&#23558;&#25991;&#26412;&#35835;&#21462;&#36208;&#12290;child2&#30340;&#36755;&#20986;&#25991;&#26412;&#20063;&#34987;&#23384;&#25918;&#22312;PIPE&#20013;&#65292;&#30452;&#21040;communicate()&#26041;&#27861;&#20174;PIPE&#20013;&#35835;&#21462;&#20986;PIPE&#20013;&#30340;&#25991;&#26412;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#35201;&#27880;&#24847;&#30340;&#26159;&#65292;<SPAN style="COLOR: #ff0000">communicate()</SPAN>&#26159;Popen&#23545;&#35937;&#30340;&#19968;&#20010;&#26041;&#27861;&#65292;&#35813;&#26041;&#27861;&#20250;&#38459;&#22622;&#29238;&#36827;&#31243;&#65292;&#30452;&#21040;&#23376;&#36827;&#31243;&#23436;&#25104;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#36824;&#21487;&#20197;&#21033;&#29992;communicate()&#26041;&#27861;&#26469;&#20351;&#29992;PIPE&#32473;&#23376;&#36827;&#31243;&#36755;&#20837;:<BR></SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> subprocess
child </SPAN><SPAN style="COLOR: #000000">= subprocess.Popen([<SPAN style="COLOR: #993300">"cat"</SPAN>], stdin=subprocess.PIPE)
child.communicate(</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">vamei</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000">)</SPAN></SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#21551;&#21160;&#23376;&#36827;&#31243;&#20043;&#21518;&#65292;cat&#20250;&#31561;&#24453;&#36755;&#20837;&#65292;&#30452;&#21040;&#25105;&#20204;&#29992;communicate()&#36755;&#20837;"vamei"&#12290;<BR></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #ff0000">&#36890;&#36807;&#20351;&#29992;subprocess&#21253;&#65292;&#25105;&#20204;&#21487;&#20197;&#36816;&#34892;&#22806;&#37096;&#31243;&#24207;&#12290;&#36825;&#26497;&#22823;&#30340;&#25299;&#23637;&#20102;Python&#30340;&#21151;&#33021;&#12290;&#22914;&#26524;&#20320;&#24050;&#32463;&#20102;&#35299;&#20102;&#25805;&#20316;&#31995;&#32479;&#30340;&#26576;&#20123;&#24212;&#29992;&#65292;&#20320;&#21487;&#20197;&#20174;Python&#20013;&#30452;&#25509;&#35843;&#29992;&#35813;&#24212;&#29992;(&#32780;&#19981;&#26159;&#23436;&#20840;&#20381;&#36182;Python)&#65292;&#24182;&#23558;&#24212;&#29992;&#30340;&#32467;&#26524;&#36755;&#20986;&#32473;Python&#65292;&#24182;&#35753;Python&#32487;&#32493;&#22788;&#29702;&#12290;shell&#30340;&#21151;&#33021;(&#27604;&#22914;&#21033;&#29992;&#25991;&#26412;&#27969;&#36830;&#25509;&#21508;&#20010;&#24212;&#29992;)&#65292;&#23601;&#21487;&#20197;&#22312;Python&#20013;&#23454;&#29616;&#12290;</SPAN><BR></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#24635;&#32467;<BR></SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">subprocess.call, subprocess.check_call(), subprocess.check_output()<BR></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">subprocess.Popen(), subprocess.PIPE<BR></SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">Popen.wait(), Popen.communicate()<BR></SPAN></P></DIV></DIV>