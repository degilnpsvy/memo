<H1 class=postTitle><A id=cb_post_title_url class=postTitle2 href="http://www.cnblogs.com/vamei/archive/2012/09/03/2669426.html">Python&#26631;&#20934;&#24211;02 &#26102;&#38388;&#19982;&#26085;&#26399; (time, datetime&#21253;)</A> </H1>
<DIV class=clear></DIV>
<DIV class=postBody>
<DIV id=cnblogs_post_body>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20316;&#32773;&#65306;Vamei &#20986;&#22788;&#65306;http://www.cnblogs.com/vamei &#27426;&#36814;&#36716;&#36733;&#65292;&#20063;&#35831;&#20445;&#30041;&#36825;&#27573;&#22768;&#26126;&#12290;&#35874;&#35874;&#65281;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">Python&#20855;&#26377;&#33391;&#22909;&#30340;&#26102;&#38388;&#21644;&#26085;&#26399;&#31649;&#29702;&#21151;&#33021;&#12290;&#23454;&#38469;&#19978;&#65292;&#35745;&#31639;&#26426;&#21482;&#20250;&#32500;&#25252;&#19968;&#20010;<SPAN style="COLOR: #ff0000">&#25346;&#38047;&#26102;&#38388;<SPAN style="COLOR: #000000">(</SPAN></SPAN><SPAN style="COLOR: #000000">wall clock time)</SPAN>&#65292;&#36825;&#20010;&#26102;&#38388;&#26159;&#20174;&#26576;&#20010;&#22266;&#23450;&#26102;&#38388;&#36215;&#28857;&#21040;&#29616;&#22312;&#30340;&#26102;&#38388;&#38388;&#38548;&#12290;&#26102;&#38388;&#36215;&#28857;&#30340;&#36873;&#25321;&#19982;&#35745;&#31639;&#26426;&#30456;&#20851;&#65292;&#20294;&#19968;&#21488;&#35745;&#31639;&#26426;&#30340;&#35805;&#65292;&#36825;&#19968;&#26102;&#38388;&#36215;&#28857;&#26159;&#22266;&#23450;&#30340;&#12290;&#20854;&#23427;&#30340;&#26085;&#26399;&#20449;&#24687;&#37117;&#26159;&#20174;&#36825;&#19968;&#26102;&#38388;&#35745;&#31639;&#24471;&#21040;&#30340;&#12290;&#27492;&#22806;&#65292;&#35745;&#31639;&#26426;&#36824;&#21487;&#20197;&#27979;&#37327;CPU&#23454;&#38469;&#19978;&#36816;&#34892;&#30340;&#26102;&#38388;&#65292;&#20063;&#23601;&#26159;<SPAN style="COLOR: #ff0000">&#22788;&#29702;&#22120;&#26102;&#38388;</SPAN>(processor clock time)&#65292;&#20197;&#27979;&#37327;&#35745;&#31639;&#26426;&#24615;&#33021;&#12290;&#24403;CPU&#22788;&#20110;&#38386;&#32622;&#29366;&#24577;&#26102;&#65292;&#22788;&#29702;&#22120;&#26102;&#38388;&#20250;&#26242;&#20572;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">time&#21253;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">time&#21253;&#22522;&#20110;C&#35821;&#35328;&#30340;&#24211;&#20989;&#25968;(library functions)&#12290;Python&#30340;&#35299;&#37322;&#22120;&#36890;&#24120;&#26159;&#29992;C&#32534;&#20889;&#30340;&#65292;Python&#30340;&#19968;&#20123;&#20989;&#25968;&#20063;&#20250;&#30452;&#25509;&#35843;&#29992;C&#35821;&#35328;&#30340;&#24211;&#20989;&#25968;&#12290;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> time
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(time.time())   <SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000"> wall clock time, unit: second</SPAN>
<SPAN style="COLOR: #0000ff">print</SPAN>(time.clock())  <SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000"> processor clock time, unit: second</SPAN></SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">time.sleep()&#21487;&#20197;&#23558;&#31243;&#24207;&#32622;&#20110;<SPAN style="COLOR: #ff0000">&#20241;&#30496;</SPAN>&#29366;&#24577;&#65292;&#30452;&#21040;&#26576;&#26102;&#38388;&#38388;&#38548;&#20043;&#21518;&#20877;&#21796;&#37266;&#31243;&#24207;&#65292;&#35753;&#31243;&#24207;&#32487;&#32493;&#36816;&#34892;&#12290;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> time
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(<SPAN style="COLOR: #800000">'</SPAN><SPAN style="COLOR: #800000">start</SPAN><SPAN style="COLOR: #800000">'</SPAN><SPAN style="COLOR: #000000">)
time.sleep(</SPAN>10)     <SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000"> sleep for 10 seconds</SPAN>
<SPAN style="COLOR: #0000ff">print</SPAN>(<SPAN style="COLOR: #800000">'</SPAN><SPAN style="COLOR: #800000">wake up</SPAN><SPAN style="COLOR: #800000">'</SPAN>)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#24403;&#25105;&#20204;&#38656;&#35201;&#23450;&#26102;&#22320;&#26597;&#30475;&#31243;&#24207;&#36816;&#34892;&#29366;&#24577;&#26102;&#65292;&#23601;&#21487;&#20197;&#21033;&#29992;&#35813;&#26041;&#27861;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">time&#21253;&#36824;&#23450;&#20041;&#20102;struct_time&#23545;&#35937;&#12290;&#35813;&#23545;&#35937;&#23454;&#38469;&#19978;&#26159;&#23558;&#25346;&#38047;&#26102;&#38388;&#36716;&#25442;&#20026;&#24180;&#12289;&#26376;&#12289;&#26085;&#12289;&#26102;&#12289;&#20998;&#12289;&#31186;&#8230;&#8230;&#31561;&#26085;&#26399;&#20449;&#24687;&#65292;&#23384;&#20648;&#22312;&#35813;&#23545;&#35937;&#30340;&#21508;&#20010;&#23646;&#24615;&#20013;(tm_year, tm_mon, tm_mday...)&#12290;&#19979;&#38754;&#26041;&#27861;&#21487;&#20197;&#23558;&#25346;&#38047;&#26102;&#38388;&#36716;&#25442;&#20026;struct_time&#23545;&#35937;:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier">st = time.gmtime()      <SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000"> &#36820;&#22238;struct_time&#26684;&#24335;&#30340;UTC&#26102;&#38388;</SPAN>
st = time.localtime()   <SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000"> &#36820;&#22238;struct_time&#26684;&#24335;&#30340;&#24403;&#22320;&#26102;&#38388;, &#24403;&#22320;&#26102;&#21306;&#26681;&#25454;&#31995;&#32479;&#29615;&#22659;&#20915;&#23450;&#12290;</SPAN>
</SPAN><BR><SPAN style="FONT-FAMILY: courier new, courier">s  = time.mktime(st)   &nbsp;<SPAN style="COLOR: #008000">#</SPAN><SPAN style="COLOR: #008000"> &#23558;struct_time&#26684;&#24335;&#36716;&#25442;&#25104;wall clock time</SPAN></SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">datetime&#21253;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">1) &#31616;&#20171;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">datetime&#21253;&#26159;&#22522;&#20110;time&#21253;&#30340;&#19968;&#20010;&#39640;&#32423;&#21253;&#65292; &#20026;&#25105;&#20204;&#25552;&#20379;&#20102;&#22810;&#19968;&#23618;&#30340;&#20415;&#21033;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">datetime&#21487;&#20197;&#29702;&#35299;&#20026;date&#21644;time&#20004;&#20010;&#32452;&#25104;&#37096;&#20998;&#12290;date&#26159;&#25351;&#24180;&#26376;&#26085;&#26500;&#25104;&#30340;&#26085;&#26399;(&#30456;&#24403;&#20110;<SPAN style="COLOR: #ff0000">&#26085;&#21382;</SPAN>)&#65292;time&#26159;&#25351;&#26102;&#20998;&#31186;&#24494;&#31186;&#26500;&#25104;&#30340;&#19968;&#22825;24&#23567;&#26102;&#20013;&#30340;&#20855;&#20307;&#26102;&#38388;(&#30456;&#24403;&#20110;<SPAN style="COLOR: #ff0000">&#25163;&#34920;</SPAN>)&#12290;&#20320;&#21487;&#20197;&#23558;&#36825;&#20004;&#20010;&#20998;&#24320;&#31649;&#29702;(datetime.date&#31867;&#65292;datetime.time&#31867;)&#65292;&#20063;&#21487;&#20197;&#23558;&#20004;&#32773;&#21512;&#22312;&#19968;&#36215;(datetime.datetime&#31867;)&#12290;&#30001;&#20110;&#20854;&#26500;&#36896;&#22823;&#21516;&#23567;&#24322;&#65292;&#25105;&#20204;&#23558;&#21482;&#20171;&#32461;<SPAN style="COLOR: #ff0000">datetime.datetime</SPAN>&#31867;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#27604;&#22914;&#35828;&#25105;&#29616;&#22312;&#30475;&#21040;&#30340;&#26102;&#38388;&#65292;&#26159;2012&#24180;9&#26376;3&#26085;21&#26102;30&#20998;&#65292;&#25105;&#20204;&#21487;&#20197;&#29992;&#22914;&#19979;&#26041;&#24335;&#34920;&#36798;&#65306;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> datetime
t </SPAN>= datetime.datetime(2012,9,3,21,30<SPAN style="COLOR: #000000">)
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(t)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#25152;&#36820;&#22238;&#30340;t&#26377;&#22914;&#19979;&#23646;&#24615;:</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">hour, minute, second, microsecond</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">year, month, day, weekday&nbsp;&nbsp; # weekday&#34920;&#31034;&#21608;&#20960;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">2) &#36816;&#31639;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">datetime&#21253;&#36824;&#23450;&#20041;&#20102;<SPAN style="COLOR: #ff0000">&#26102;&#38388;&#38388;&#38548;</SPAN>&#23545;&#35937;(timedelta)&#12290;&#19968;<SPAN style="COLOR: #000000">&#20010;</SPAN><SPAN style="COLOR: #000000">&#26102;&#38388;&#28857;(datetime)</SPAN><SPAN style="COLOR: #ff0000">&#21152;&#19978;</SPAN>&#19968;&#20010;<SPAN style="COLOR: #000000">&#26102;&#38388;&#38388;&#38548;(timedelta)</SPAN>&#21487;&#20197;&#24471;&#21040;&#19968;&#20010;&#26032;&#30340;&#26102;&#38388;&#28857;(datetime)&#12290;&#27604;&#22914;&#20170;&#22825;&#30340;&#19978;&#21320;3&#28857;&#21152;&#19978;5&#20010;&#23567;&#26102;&#24471;&#21040;&#20170;&#22825;&#30340;&#19978;&#21320;8&#28857;&#12290;&#21516;&#29702;&#65292;&#20004;&#20010;&#26102;&#38388;&#28857;<SPAN style="COLOR: #ff0000">&#30456;&#20943;</SPAN>&#20250;&#24471;&#21040;&#19968;&#20010;&#26102;&#38388;&#38388;&#38548;&#12290;</SPAN></P>
<DIV class=cnblogs_code>
<DIV class=cnblogs_code_toolbar><SPAN class=cnblogs_code_copy><A title=&#22797;&#21046;&#20195;&#30721; void(0);"><IMG alt=&#22797;&#21046;&#20195;&#30721; src="http://common.cnblogs.com/images/copycode.gif"></A></SPAN></DIV><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">import</SPAN><SPAN style="COLOR: #000000"> datetime
t &nbsp; &nbsp; &nbsp;</SPAN>= datetime.datetime(2012,9,3,21,30<SPAN style="COLOR: #000000">)<BR>t_next =&nbsp;datetime.datetime(2012,9,5,23,30<SPAN style="COLOR: #000000">)</SPAN>
delta1 </SPAN>= datetime.timedelta(seconds = 600<SPAN style="COLOR: #000000">)
delta2 </SPAN>= datetime.timedelta(weeks = 3<SPAN style="COLOR: #000000">)
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(t +<SPAN style="COLOR: #000000"> delta1)
</SPAN><SPAN style="COLOR: #0000ff">print</SPAN>(t + delta2)</SPAN></PRE><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">print</SPAN>(t_next - t)</SPAN></PRE>
<DIV class=cnblogs_code_toolbar><SPAN class=cnblogs_code_copy><A title=&#22797;&#21046;&#20195;&#30721; void(0);"><IMG alt=&#22797;&#21046;&#20195;&#30721; src="http://common.cnblogs.com/images/copycode.gif"></A></SPAN></DIV></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#22312;&#32473;datetime.timedelta&#20256;&#36882;&#21442;&#25968;&#65288;&#22914;&#19978;&#30340;seconds&#21644;weeks&#65289;&#30340;&#26102;&#20505;&#65292;&#36824;&#21487;&#20197;&#26159;days, hours, milliseconds, microseconds&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20004;&#20010;datetime&#23545;&#35937;&#36824;&#21487;&#20197;&#36827;&#34892;<SPAN style="COLOR: #ff0000">&#27604;&#36739;</SPAN>&#12290;&#27604;&#22914;&#20351;&#29992;&#19978;&#38754;&#30340;t&#21644;t_next:</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">print</SPAN>(t &gt; t_next)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">3) datetime&#23545;&#35937;&#19982;&#23383;&#31526;&#20018;&#36716;&#25442;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20551;&#22914;&#25105;&#20204;&#26377;&#19968;&#20010;&#30340;&#23383;&#31526;&#20018;&#65292;&#25105;&#20204;&#22914;&#20309;&#23558;&#23427;&#36716;&#25442;&#25104;&#20026;datetime&#23545;&#35937;&#21602;&#65311;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#19968;&#20010;&#26041;&#27861;&#26159;&#29992;&#19978;&#19968;&#35762;&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#26469;&#25628;&#32034;&#23383;&#31526;&#20018;&#12290;&#20294;&#26102;&#38388;&#20449;&#24687;&#23454;&#38469;&#19978;&#26377;&#24456;&#26126;&#26174;&#30340;&#29305;&#24449;&#65292;&#25105;&#20204;&#21487;&#20197;&#29992;&#26684;&#24335;&#21270;&#35835;&#21462;&#30340;&#26041;&#24335;&#35835;&#21462;&#26102;&#38388;&#20449;&#24687;&#12290;</SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">from</SPAN> datetime <SPAN style="COLOR: #0000ff">import</SPAN> datetime</SPAN><BR><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #000000">format </SPAN>= <SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">output-%Y-%m-%d-%H%M%S.txt</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000"> <BR>str    </SPAN>= <SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #800000">output-1997-12-23-030000.txt</SPAN><SPAN style="COLOR: #800000">"</SPAN><SPAN style="COLOR: #000000"> <BR>t      </SPAN>= datetime.strptime(str, format)</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">strptime, p = parsing</SPAN></P>
<P><BR><SPAN style="FONT-FAMILY: courier new, courier">&#25105;&#20204;&#36890;&#36807;format&#26469;&#21578;&#30693;Python&#25105;&#20204;&#30340;str&#23383;&#31526;&#20018;&#20013;&#21253;&#21547;&#30340;&#26085;&#26399;&#30340;<SPAN style="COLOR: #ff0000">&#26684;&#24335;</SPAN>&#12290;&#22312;format&#20013;&#65292;<SPAN style="COLOR: #ff0000">%Y</SPAN>&#34920;&#31034;&#24180;&#25152;&#20986;&#29616;&#30340;&#20301;&#32622;, <SPAN style="COLOR: #ff0000">%m</SPAN>&#34920;&#31034;&#26376;&#20221;&#25152;&#20986;&#29616;&#30340;&#20301;&#32622;&#8230;&#8230;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#21453;&#36807;&#26469;&#65292;&#25105;&#20204;&#20063;&#21487;&#20197;&#35843;&#29992;datetime&#23545;&#35937;&#30340;strftime()&#26041;&#27861;&#65292;&#26469;&#23558;datetime&#23545;&#35937;&#36716;&#25442;&#20026;&#29305;&#23450;&#26684;&#24335;&#30340;&#23383;&#31526;&#20018;&#12290;&#27604;&#22914;&#19978;&#38754;&#25152;&#23450;&#20041;&#30340;t_next, </SPAN></P>
<DIV class=cnblogs_code><PRE><SPAN style="FONT-FAMILY: courier new, courier"><SPAN style="COLOR: #0000ff">print</SPAN>(t_next.strftime(format))</SPAN></PRE></DIV>
<P><SPAN style="FONT-FAMILY: courier new, courier">strftime, f = formatting</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#20855;&#20307;&#30340;&#26684;&#24335;&#20889;&#27861;&#21487;&#21442;&#38405;<A href="http://docs.python.org/library/datetime.html">&#23448;&#26041;&#25991;&#26723;</A>&#12290; &#22914;&#26524;&#26159;Linux&#31995;&#32479;&#65292;&#20063;&#21487;&#26597;&#38405;date&#21629;&#20196;&#30340;&#25163;&#20876;($man date)&#65292;&#20004;&#32773;&#30456;&#36890;&#12290;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&nbsp;</SPAN></P>
<H3><SPAN style="FONT-FAMILY: courier new, courier">&#24635;&#32467;</SPAN></H3>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#26102;&#38388;&#65292;&#20241;&#30496;</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">datetime, timedelta</SPAN></P>
<P><SPAN style="FONT-FAMILY: courier new, courier">&#26684;&#24335;&#21270;&#26102;&#38388;</SPAN></P></DIV></DIV>