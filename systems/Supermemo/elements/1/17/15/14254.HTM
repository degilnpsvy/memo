<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>3</SPAN> Explicitly Modeling <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN>: The General Case 
<P><A name=12679></A>
<P>Unfortunately, the cases in which <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> is polygonal or polyhedral are quite limited. Most problems yield extremely complicated C-space obstacles. One good point is that <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> can be expressed using semi-algebraic models, for any robots and obstacles defined using semi-algebraic models, even after applying any of the transformations from Sections <A href="http://planning.cs.uiuc.edu/node91.html#sec:rigid">3.2</A> to <A href="http://planning.cs.uiuc.edu/node112.html#sec:ttrees">3.4</A>. It might not be true, however, for other kinds of transformations, such as warping a flexible material [<A href="http://planning.cs.uiuc.edu/node858.html#AnsOweLamKav00">32</A>,<A href="http://planning.cs.uiuc.edu/node858.html#LamKav99">577</A>]. 
<P>Consider the case of a convex polygonal robot and a convex polygonal obstacle in a 2D world. Assume that any transformation in <SPAN class=MATH><IMG height=37 alt="$ SE(2)$" src="http://planning.cs.uiuc.edu/img45.gif" width=56 align=middle border=0></SPAN> may be applied to <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN>; thus, <!-- MATH
 ${\cal C}= {\mathbb{R}}^2 \times {\mathbb{S}}^1$
 --><SPAN class=MATH><IMG height=38 alt="$ {\cal C}= {\mathbb{R}}^2 \times {\mathbb{S}}^1$" src="http://planning.cs.uiuc.edu/img1426.gif" width=104 align=middle border=0></SPAN> and <!-- MATH
 $q =
(x_t,y_t,\theta)$
 --><SPAN class=MATH><IMG height=37 alt="$ q = (x_t,y_t,\theta)$" src="http://planning.cs.uiuc.edu/img1344.gif" width=110 align=middle border=0></SPAN>. The task is to define a set of algebraic primitives<A name=12683></A> that can be combined to define <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN>. Once again, it is important to distinguish between Type EV<A name=12684></A> and Type VE contacts<A name=12685></A>. Consider how to construct the algebraic primitives<A name=12686></A> for the Type EV contacts; Type VE can be handled in a similar manner. 
<P>
<DIV align=center><A name=fig:typea2></A><A name=13213></A>
<TABLE>
<CAPTION align=bottom><STRONG>Figure 4.21:</STRONG> An illustration to help in constructing <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> when rotation is allowed.</CAPTION>
<TBODY>
<TR>
<TD><IMG height=207 alt=\begin{figure}\centerline{\psfig{file=figs/typea2.eps,width=2.2in}}\end{figure} src="http://planning.cs.uiuc.edu/img1427.gif" width=254 border=0></TD></TR></TBODY></TABLE></DIV>
<P>For the translation-only case, we were able to determine all of the Type EV<A name=12691></A> contacts by sorting the edge normals. With rotation, the ordering of edge normals depends on <SPAN class=MATH><IMG height=17 alt="$ \theta $" src="http://planning.cs.uiuc.edu/img47.gif" width=14 align=bottom border=0></SPAN>. This implies that the applicability of a Type EV<A name=12692></A> contact depends on <SPAN class=MATH><IMG height=17 alt="$ \theta $" src="http://planning.cs.uiuc.edu/img47.gif" width=14 align=bottom border=0></SPAN>, the robot orientation. Recall the constraint that the inward normal of <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN> must point between the outward normals of the edges of <SPAN class=MATH><IMG height=17 alt="$ {\cal O}$" src="http://planning.cs.uiuc.edu/img55.gif" width=21 align=bottom border=0></SPAN> that contain the vertex of contact, as shown in Figure <A href="http://planning.cs.uiuc.edu/node165.html#fig:typea2">4.21</A>. This constraint can be expressed in terms of inner products using the vectors <SPAN class=MATH><IMG height=33 alt="$ v_1$" src="http://planning.cs.uiuc.edu/img87.gif" width=21 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ v_2$" src="http://planning.cs.uiuc.edu/img1428.gif" width=21 align=middle border=0></SPAN>. The statement regarding the directions of the normals can equivalently be formulated as the statement that the angle between <SPAN class=MATH><IMG height=17 alt="$ n$" src="http://planning.cs.uiuc.edu/img57.gif" width=16 align=bottom border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ v_1$" src="http://planning.cs.uiuc.edu/img87.gif" width=21 align=middle border=0></SPAN>, and between <SPAN class=MATH><IMG height=17 alt="$ n$" src="http://planning.cs.uiuc.edu/img57.gif" width=16 align=bottom border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ v_2$" src="http://planning.cs.uiuc.edu/img1428.gif" width=21 align=middle border=0></SPAN>, must each be less than <SPAN class=MATH><IMG height=37 alt="$ \pi/2$" src="http://planning.cs.uiuc.edu/img1429.gif" width=35 align=middle border=0></SPAN>. Using inner products, this implies that <!-- MATH
 $n \cdot v_1 \geq 0$
 --><SPAN class=MATH><IMG height=33 alt="$ n \cdot v_1 \geq 0$" src="http://planning.cs.uiuc.edu/img1430.gif" width=81 align=middle border=0></SPAN> and <!-- MATH
 $n
\cdot v_2 \geq 0$
 --><SPAN class=MATH><IMG height=33 alt="$ n&#10;\cdot v_2 \geq 0$" src="http://planning.cs.uiuc.edu/img1431.gif" width=81 align=middle border=0></SPAN>. As in the translation case, the condition <!-- MATH
 $n \cdot
v = 0$
 --><SPAN class=MATH><IMG height=17 alt="$ n \cdot v = 0$" src="http://planning.cs.uiuc.edu/img1412.gif" width=74 align=bottom border=0></SPAN> is required for contact. Observe that <SPAN class=MATH><IMG height=17 alt="$ n$" src="http://planning.cs.uiuc.edu/img57.gif" width=16 align=bottom border=0></SPAN> now depends on <SPAN class=MATH><IMG height=17 alt="$ \theta $" src="http://planning.cs.uiuc.edu/img47.gif" width=14 align=bottom border=0></SPAN>. For any <!-- MATH
 $q \in {\cal C}$
 --><SPAN class=MATH><IMG height=34 alt="$ q \in {\cal C}$" src="http://planning.cs.uiuc.edu/img1343.gif" width=48 align=middle border=0></SPAN>, if <!-- MATH
 $n(\theta) \cdot v_1 \geq 0$
 --><SPAN class=MATH><IMG height=37 alt="$ n(\theta) \cdot v_1 \geq 0$" src="http://planning.cs.uiuc.edu/img1432.gif" width=105 align=middle border=0></SPAN>, <!-- MATH
 $n(\theta) \cdot v_2 \geq 0$
 --><SPAN class=MATH><IMG height=37 alt="$ n(\theta) \cdot v_2 \geq 0$" src="http://planning.cs.uiuc.edu/img1433.gif" width=105 align=middle border=0></SPAN>, and <!-- MATH
 $n(\theta) \cdot v(q) > 0$
 --><SPAN class=MATH><IMG  src="" height=37 alt="$ n(\theta) \cdot v(q) > 0$" src="http://planning.cs.uiuc.edu/img1434.gif" width=121 align=middle border=0></SPAN>, then <!-- MATH
 $q
\in {\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ q&#10;\in {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img1435.gif" width=75 align=middle border=0></SPAN>. Let <SPAN class=MATH><IMG height=34 alt="$ H_f$" src="http://planning.cs.uiuc.edu/img1436.gif" width=29 align=middle border=0></SPAN> denote the set of configurations that satisfy these conditions. These conditions imply that a point is in <!-- MATH
 ${\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img51.gif" width=43 align=middle border=0></SPAN>. Furthermore, any other Type EV<A name=12694></A> and Type VE<A name=12695></A> contacts could imply that more points are in <!-- MATH
 ${\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img51.gif" width=43 align=middle border=0></SPAN>. Ordinarily, <!-- MATH
 $H_f \subset {\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ H_f \subset {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img1437.gif" width=92 align=middle border=0></SPAN>, which implies that the complement, <!-- MATH
 ${\cal C}\setminus H_f$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal C}\setminus H_f$" src="http://planning.cs.uiuc.edu/img1438.gif" width=58 align=middle border=0></SPAN>, is a superset of <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> (thus, <!-- MATH
 ${\cal C}_{obs}
\subset {\cal C}\setminus H_f$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal C}_{obs}&#10;\subset {\cal C}\setminus H_f$" src="http://planning.cs.uiuc.edu/img1439.gif" width=113 align=middle border=0></SPAN>). Let <!-- MATH
 $H_A = {\cal C}\setminus H_f$
 --><SPAN class=MATH><IMG height=37 alt="$ H_A = {\cal C}\setminus H_f$" src="http://planning.cs.uiuc.edu/img1440.gif" width=110 align=middle border=0></SPAN>. Using the primitives<A name=12696></A> 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_1 = \{ q \in {\cal C}\; | \; n(\theta) \cdot v_1 \leq 0 \},
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=37 alt="$\displaystyle H_1 = \{ q \in {\cal C}\; \vert \; n(\theta) \cdot v_1 \leq 0 \},$" src="http://planning.cs.uiuc.edu/img1441.gif" width=237 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>39</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_2 = \{ q \in {\cal C}\; | \; n(\theta) \cdot v_2 \leq 0 \},
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=37 alt="$\displaystyle H_2 = \{ q \in {\cal C}\; \vert \; n(\theta) \cdot v_2 \leq 0 \},$" src="http://planning.cs.uiuc.edu/img1442.gif" width=237 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>40</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>and 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_3 = \{ q \in {\cal C}\; | \; n(\theta) \cdot v(q) \leq 0 \},
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=37 alt="$\displaystyle H_3 = \{ q \in {\cal C}\; \vert \; n(\theta) \cdot v(q) \leq 0 \},$" src="http://planning.cs.uiuc.edu/img1443.gif" width=253 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>41</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>let <!-- MATH
 $H_A = H_1 \cup H_2 \cup H_3$
 --><SPAN class=MATH><IMG height=34 alt="$ H_A = H_1 \cup H_2 \cup H_3$" src="http://planning.cs.uiuc.edu/img1444.gif" width=168 align=middle border=0></SPAN>. 
<P>It is known that <!-- MATH
 ${\cal C}_{obs}\subseteq H_A$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}\subseteq H_A$" src="http://planning.cs.uiuc.edu/img1445.gif" width=86 align=middle border=0></SPAN>, but <SPAN class=MATH><IMG height=34 alt="$ H_A$" src="http://planning.cs.uiuc.edu/img1446.gif" width=31 align=middle border=0></SPAN> may contain points in <!-- MATH
 ${\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img51.gif" width=43 align=middle border=0></SPAN>. The situation is similar to what was explained in Section <A href="http://planning.cs.uiuc.edu/node78.html#sec:polygonal">3.1.1</A> for building a model of a convex polygon from half-planes. In the current setting, it is only known that any configuration outside of <SPAN class=MATH><IMG height=34 alt="$ H_A$" src="http://planning.cs.uiuc.edu/img1446.gif" width=31 align=middle border=0></SPAN> must be in <!-- MATH
 ${\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img51.gif" width=43 align=middle border=0></SPAN>. If <SPAN class=MATH><IMG height=34 alt="$ H_A$" src="http://planning.cs.uiuc.edu/img1446.gif" width=31 align=middle border=0></SPAN> is intersected with all other corresponding sets for each possible Type EV<A name=12704></A> and Type VE<A name=12705></A> contact, then the result is <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN>. Each contact has the opportunity to remove a portion of <!-- MATH
 ${\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img51.gif" width=43 align=middle border=0></SPAN> from consideration. Eventually, enough pieces of <!-- MATH
 ${\cal C}_{free}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img51.gif" width=43 align=middle border=0></SPAN> are removed so that the only configurations remaining must lie in <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN>. For any Type EV contact<A name=14410></A>, <!-- MATH
 $(H_1
\cup H_2) \setminus H_3 \subseteq {\cal C}_{free}$
 --><SPAN class=MATH><IMG height=37 alt="$ (H_1&#10;\cup H_2) \setminus H_3 \subseteq {\cal C}_{free}$" src="http://planning.cs.uiuc.edu/img1447.gif" width=191 align=middle border=0></SPAN>. A similar statement can be made for Type VE contacts<A name=12707></A>. A logical predicate, similar to that defined in Section <A href="http://planning.cs.uiuc.edu/node78.html#sec:polygonal">3.1.1</A>, can be constructed to determine whether <!-- MATH
 $q \in {\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ q \in {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img1351.gif" width=67 align=middle border=0></SPAN> in time that is linear in the number of <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> primitives. 
<P>One important issue remains. The expression <SPAN class=MATH><IMG height=37 alt="$ n(\theta)$" src="http://planning.cs.uiuc.edu/img1448.gif" width=40 align=middle border=0></SPAN> is not a polynomial because of the <!-- MATH
 $\cos \theta$
 --><SPAN class=MATH><IMG height=17 alt="$ \cos \theta$" src="http://planning.cs.uiuc.edu/img1449.gif" width=42 align=bottom border=0></SPAN> and <!-- MATH
 $\sin \theta$
 --><SPAN class=MATH><IMG height=17 alt="$ \sin \theta$" src="http://planning.cs.uiuc.edu/img1450.gif" width=40 align=bottom border=0></SPAN> terms in the rotation matrix of <SPAN class=MATH><IMG height=37 alt="$ SO(2)$" src="http://planning.cs.uiuc.edu/img1234.gif" width=56 align=middle border=0></SPAN>. If polynomials could be substituted for these expressions, then everything would be fixed because the expression of the normal vector (not a unit normal) and the inner product are both linear functions, thereby transforming polynomials into polynomials. Such a substitution can be made using stereographic projection (see [<A href="http://planning.cs.uiuc.edu/node858.html#Lat91">588</A>]); however, a simpler approach is to use complex numbers to represent rotation. Recall that when <SPAN class=MATH><IMG height=34 alt="$ a + bi$" src="http://planning.cs.uiuc.edu/img1257.gif" width=52 align=middle border=0></SPAN> is used to represent rotation, each rotation matrix in <SPAN class=MATH><IMG height=37 alt="$ SO(2)$" src="http://planning.cs.uiuc.edu/img1234.gif" width=56 align=middle border=0></SPAN> is represented as (<A href="http://planning.cs.uiuc.edu/node150.html#eqn:complexmat">4.18</A>), and the <!-- MATH
 $3 \times 3$
 --><SPAN class=MATH><IMG height=33 alt="$ 3 \times 3$" src="http://planning.cs.uiuc.edu/img158.gif" width=47 align=middle border=0></SPAN> homogeneous transformation matrix<A name=14418></A> becomes 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
T(a,b,x_t,y_t) = 
\begin{pmatrix}
a & -b & x_t\\
b & a & y_t\\
0 & 0 & 1 
\end{pmatrix} .
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle T(a,b,x_t,y_t) = \begin{pmatrix}a &amp; -b &amp; x_t b &amp; a &amp; y_t 0 &amp; 0 &amp; 1 \end{pmatrix} .$" src="http://planning.cs.uiuc.edu/img1451.gif" width=255 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>42</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>Using this matrix to transform a point <!-- MATH
 $[x \; y \; 1]$
 --><SPAN class=MATH><IMG height=37 alt="$ [x \; y \; 1]$" src="http://planning.cs.uiuc.edu/img1452.gif" width=55 align=middle border=0></SPAN> results in the point coordinates <!-- MATH
 $(ax -by + x_t, bx + ay + y_t)$
 --><SPAN class=MATH><IMG height=37 alt="$ (ax -by + x_t, bx + ay + y_t)$" src="http://planning.cs.uiuc.edu/img1453.gif" width=228 align=middle border=0></SPAN>. Thus, any transformed point on <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN> is a linear function of <SPAN class=MATH><IMG height=17 alt="$ a$" src="http://planning.cs.uiuc.edu/img458.gif" width=15 align=bottom border=0></SPAN>, <SPAN class=MATH><IMG height=17 alt="$ b$" src="http://planning.cs.uiuc.edu/img424.gif" width=13 align=bottom border=0></SPAN>, <SPAN class=MATH><IMG height=33 alt="$ x_t$" src="http://planning.cs.uiuc.edu/img73.gif" width=21 align=middle border=0></SPAN>, and <SPAN class=MATH><IMG height=33 alt="$ y_t$" src="http://planning.cs.uiuc.edu/img74.gif" width=20 align=middle border=0></SPAN>. 
<P>This was a simple trick to make a nice, linear function, but what was the cost? The dependency is now on <SPAN class=MATH><IMG height=17 alt="$ a$" src="http://planning.cs.uiuc.edu/img458.gif" width=15 align=bottom border=0></SPAN> and <SPAN class=MATH><IMG height=17 alt="$ b$" src="http://planning.cs.uiuc.edu/img424.gif" width=13 align=bottom border=0></SPAN> instead of <SPAN class=MATH><IMG height=17 alt="$ \theta $" src="http://planning.cs.uiuc.edu/img47.gif" width=14 align=bottom border=0></SPAN>. This appears to increase the dimension of <SPAN class=MATH><IMG height=17 alt="$ {\cal C}$" src="http://planning.cs.uiuc.edu/img116.gif" width=16 align=bottom border=0></SPAN> from 3 to 4, and <!-- MATH
 ${\cal C}=
{\mathbb{R}}^4$
 --><SPAN class=MATH><IMG height=19 alt="$ {\cal C}=&#10;{\mathbb{R}}^4$" src="http://planning.cs.uiuc.edu/img1454.gif" width=62 align=bottom border=0></SPAN>. However, an algebraic primitive<A name=12716></A> must be added that constrains <SPAN class=MATH><IMG height=17 alt="$ a$" src="http://planning.cs.uiuc.edu/img458.gif" width=15 align=bottom border=0></SPAN> and <SPAN class=MATH><IMG height=17 alt="$ b$" src="http://planning.cs.uiuc.edu/img424.gif" width=13 align=bottom border=0></SPAN> to lie on the unit circle. 
<P>By using complex numbers, primitives in <!-- MATH
 ${\mathbb{R}}^4$
 --><SPAN class=MATH><IMG height=19 alt="$ {\mathbb{R}}^4$" src="http://planning.cs.uiuc.edu/img1109.gif" width=26 align=bottom border=0></SPAN> are obtained for each Type EV<A name=12717></A> and Type VE<A name=12718></A> contact. By defining <!-- MATH
 ${\cal C}= {\mathbb{R}}^4$
 --><SPAN class=MATH><IMG height=19 alt="$ {\cal C}=&#10;{\mathbb{R}}^4$" src="http://planning.cs.uiuc.edu/img1454.gif" width=62 align=bottom border=0></SPAN>, the following algebraic primitives<A name=12719></A> are obtained for a Type EV contact<A name=14430></A>: 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_1 = \{ (x_t,y_t,a,b) \in {\cal C}\; | \; n(x_t,y_t,a,b) \cdot v_1 \leq 0 \},
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=37 alt="$\displaystyle H_1 = \{ (x_t,y_t,a,b) \in {\cal C}\; \vert \; n(x_t,y_t,a,b) \cdot v_1 \leq 0 \},$" src="http://planning.cs.uiuc.edu/img1455.gif" width=381 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>43</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_2 = \{ (x_t,y_t,a,b) \in {\cal C}\; | \; n(x_t,y_t,a,b) \cdot v_2 \leq 0 \},
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=37 alt="$\displaystyle H_2 = \{ (x_t,y_t,a,b) \in {\cal C}\; \vert \; n(x_t,y_t,a,b) \cdot v_2 \leq 0 \},$" src="http://planning.cs.uiuc.edu/img1456.gif" width=381 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>44</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>and 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_3 = \{ (x_t,y_t,a,b) \in {\cal C}\; | \; n(x_t,y_t,a,b) \cdot v(x_t,y_t,a,b) \leq 0 \}.
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=37 alt="$\displaystyle H_3 = \{ (x_t,y_t,a,b) \in {\cal C}\; \vert \; n(x_t,y_t,a,b) \cdot v(x_t,y_t,a,b) \leq 0 \}.$" src="http://planning.cs.uiuc.edu/img1457.gif" width=463 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>45</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>This yields <!-- MATH
 $H_A = H_1 \cup H_2 \cup H_3$
 --><SPAN class=MATH><IMG height=34 alt="$ H_A = H_1 \cup H_2 \cup H_3$" src="http://planning.cs.uiuc.edu/img1444.gif" width=168 align=middle border=0></SPAN>. To preserve the correct <!-- MATH
 ${\mathbb{R}}^2 \times {\mathbb{S}}^1$
 --><SPAN class=MATH><IMG height=38 alt="$ {\mathbb{R}}^2 \times {\mathbb{S}}^1$" src="http://planning.cs.uiuc.edu/img1239.gif" width=68 align=middle border=0></SPAN> topology of <SPAN class=MATH><IMG height=17 alt="$ {\cal C}$" src="http://planning.cs.uiuc.edu/img116.gif" width=16 align=bottom border=0></SPAN>, the set 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
H_s = \{ (x_t,y_t,a,b) \in {\cal C}\; | \; a^2 + b^2 - 1 = 0 \}
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=40 alt="$\displaystyle H_s = \{ (x_t,y_t,a,b) \in {\cal C}\; \vert \; a^2 + b^2 - 1 = 0 \}$" src="http://planning.cs.uiuc.edu/img1458.gif" width=334 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>46</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>is intersected with <SPAN class=MATH><IMG height=34 alt="$ H_A$" src="http://planning.cs.uiuc.edu/img1446.gif" width=31 align=middle border=0></SPAN>. The set <SPAN class=MATH><IMG height=34 alt="$ H_s$" src="http://planning.cs.uiuc.edu/img1459.gif" width=27 align=middle border=0></SPAN> remains fixed over all Type EV<A name=12729></A> and Type VE<A name=12730></A> contacts; therefore, it only needs to be considered once. 
<P>
<P>
<DIV><A name=exa:cobs2><B>Example <SPAN class=arabic>4</SPAN>..<SPAN class=arabic>16</SPAN></B></A> (A Nonlinear Boundary for <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN>) &nbsp; Consider adding rotation to the model described in Example <A href="http://planning.cs.uiuc.edu/node163.html#exa:cobs">4.15</A>. In this case, all possible contacts between pairs of edges must be considered. For this example, there are <SPAN class=MATH><IMG height=17 alt="$ 12$" src="http://planning.cs.uiuc.edu/img1460.gif" width=23 align=bottom border=0></SPAN> Type EV<A name=12734></A> contacts and <SPAN class=MATH><IMG height=17 alt="$ 12$" src="http://planning.cs.uiuc.edu/img1460.gif" width=23 align=bottom border=0></SPAN> Type VE <A name=12735></A>contacts. Each contact produces <SPAN class=MATH><IMG height=17 alt="$ 3$" src="http://planning.cs.uiuc.edu/img88.gif" width=14 align=bottom border=0></SPAN> algebraic primitives<A name=12736></A>. With the inclusion of <SPAN class=MATH><IMG height=34 alt="$ H_s$" src="http://planning.cs.uiuc.edu/img1459.gif" width=27 align=middle border=0></SPAN>, this simple example produces <SPAN class=MATH><IMG height=17 alt="$ 73$" src="http://planning.cs.uiuc.edu/img1461.gif" width=23 align=bottom border=0></SPAN> primitives! Rather than construct all of these, we derive the primitives for a single contact. Consider the Type VE <A name=12737></A>contact between <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=34 alt="$ b_4$" src="http://planning.cs.uiuc.edu/img1462.gif" width=20 align=middle border=0></SPAN>-<SPAN class=MATH><IMG height=34 alt="$ b_1$" src="http://planning.cs.uiuc.edu/img1463.gif" width=20 align=middle border=0></SPAN>. The outward edge normal <SPAN class=MATH><IMG height=17 alt="$ n$" src="http://planning.cs.uiuc.edu/img57.gif" width=16 align=bottom border=0></SPAN> remains fixed at <SPAN class=MATH><IMG height=37 alt="$ n =&#10;[1,0]$" src="http://planning.cs.uiuc.edu/img1464.gif" width=78 align=middle border=0></SPAN>. The vectors <SPAN class=MATH><IMG height=33 alt="$ v_1$" src="http://planning.cs.uiuc.edu/img87.gif" width=21 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ v_2$" src="http://planning.cs.uiuc.edu/img1428.gif" width=21 align=middle border=0></SPAN> are derived from the edges adjacent to <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN>, which are <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN>-<SPAN class=MATH><IMG height=33 alt="$ a_2$" src="http://planning.cs.uiuc.edu/img871.gif" width=22 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN>-<SPAN class=MATH><IMG height=33 alt="$ a_1$" src="http://planning.cs.uiuc.edu/img1465.gif" width=22 align=middle border=0></SPAN>. Note that each of <SPAN class=MATH><IMG height=33 alt="$ a_1$" src="http://planning.cs.uiuc.edu/img1465.gif" width=22 align=middle border=0></SPAN>, <SPAN class=MATH><IMG height=33 alt="$ a_2$" src="http://planning.cs.uiuc.edu/img871.gif" width=22 align=middle border=0></SPAN>, and <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN> depend on the configuration. Using the 2D homogeneous transformation<A name=12738></A> (<A href="http://planning.cs.uiuc.edu/node99.html#eqn:2dhomog">3.35</A>), <SPAN class=MATH><IMG height=33 alt="$ a_1$" src="http://planning.cs.uiuc.edu/img1465.gif" width=22 align=middle border=0></SPAN> at configuration <!-- MATH
 $(x_t,y_t,\theta)$
 --><SPAN class=MATH><IMG height=37 alt="$ (x_t,y_t,\theta)$" src="http://planning.cs.uiuc.edu/img1466.gif" width=76 align=middle border=0></SPAN> is <!-- MATH
 $(\cos \theta + x_t, \sin \theta + y_t)$
 --><SPAN class=MATH><IMG height=37 alt="$ (\cos \theta + x_t, \sin \theta + y_t)$" src="http://planning.cs.uiuc.edu/img1467.gif" width=178 align=middle border=0></SPAN>. Using <SPAN class=MATH><IMG height=34 alt="$ a + bi$" src="http://planning.cs.uiuc.edu/img1257.gif" width=52 align=middle border=0></SPAN> to represent rotation, the expression of <SPAN class=MATH><IMG height=33 alt="$ a_1$" src="http://planning.cs.uiuc.edu/img1465.gif" width=22 align=middle border=0></SPAN> becomes <!-- MATH
 $(a +
x_t, b + y_t)$
 --><SPAN class=MATH><IMG height=37 alt="$ (a +&#10;x_t, b + y_t)$" src="http://planning.cs.uiuc.edu/img1468.gif" width=123 align=middle border=0></SPAN>. The expressions of <SPAN class=MATH><IMG height=33 alt="$ a_2$" src="http://planning.cs.uiuc.edu/img871.gif" width=22 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN> are <!-- MATH
 $(-b + x_t,a +
y_t)$
 --><SPAN class=MATH><IMG height=37 alt="$ (-b + x_t,a +&#10;y_t)$" src="http://planning.cs.uiuc.edu/img1469.gif" width=137 align=middle border=0></SPAN> and <!-- MATH
 $(-a + b + x_t,-b - a + y_t)$
 --><SPAN class=MATH><IMG height=37 alt="$ (-a + b + x_t,-b - a + y_t)$" src="http://planning.cs.uiuc.edu/img1470.gif" width=216 align=middle border=0></SPAN>, respectively. It follows that <!-- MATH
 $v_1 = a_2 - a_3 = [a - 2b, 2a + b]$
 --><SPAN class=MATH><IMG height=37 alt="$ v_1 = a_2 - a_3 = [a - 2b, 2a + b]$" src="http://planning.cs.uiuc.edu/img1471.gif" width=249 align=middle border=0></SPAN> and <!-- MATH
 $v_2 = a_1 - a_3 = [2a -
b, a + 2b]$
 --><SPAN class=MATH><IMG height=37 alt="$ v_2 = a_1 - a_3 = [2a -&#10;b, a + 2b]$" src="http://planning.cs.uiuc.edu/img1472.gif" width=249 align=middle border=0></SPAN>. Note that <SPAN class=MATH><IMG height=33 alt="$ v_1$" src="http://planning.cs.uiuc.edu/img87.gif" width=21 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ v_2$" src="http://planning.cs.uiuc.edu/img1428.gif" width=21 align=middle border=0></SPAN> depend only on the orientation of <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN>, as expected. Assume that <SPAN class=MATH><IMG height=17 alt="$ v$" src="http://planning.cs.uiuc.edu/img58.gif" width=14 align=bottom border=0></SPAN> is drawn from <SPAN class=MATH><IMG height=34 alt="$ b_4$" src="http://planning.cs.uiuc.edu/img1462.gif" width=20 align=middle border=0></SPAN> to <SPAN class=MATH><IMG height=33 alt="$ a_3$" src="http://planning.cs.uiuc.edu/img30.gif" width=22 align=middle border=0></SPAN>. This yields <!-- MATH
 $v = a_3 - b_4 = [-a + b + x_t- 1, -a - b + y_t+ 1]$
 --><SPAN class=MATH><IMG height=37 alt="$ v = a_3 - b_4 = [-a + b + x_t- 1, -a - b + y_t+ 1]$" src="http://planning.cs.uiuc.edu/img1473.gif" width=394 align=middle border=0></SPAN>. The inner products <!-- MATH
 $v_1 \cdot n$
 --><SPAN class=MATH><IMG height=33 alt="$ v_1 \cdot n$" src="http://planning.cs.uiuc.edu/img1474.gif" width=46 align=middle border=0></SPAN>, <!-- MATH
 $v_2 \cdot n$
 --><SPAN class=MATH><IMG height=33 alt="$ v_2 \cdot n$" src="http://planning.cs.uiuc.edu/img1475.gif" width=46 align=middle border=0></SPAN>, and <SPAN class=MATH><IMG height=17 alt="$ v \cdot n$" src="http://planning.cs.uiuc.edu/img1476.gif" width=40 align=bottom border=0></SPAN> can easily be computed to form <SPAN class=MATH><IMG height=34 alt="$ H_1$" src="http://planning.cs.uiuc.edu/img1477.gif" width=28 align=middle border=0></SPAN>, <SPAN class=MATH><IMG height=34 alt="$ H_2$" src="http://planning.cs.uiuc.edu/img1478.gif" width=28 align=middle border=0></SPAN>, and <SPAN class=MATH><IMG height=34 alt="$ H_3$" src="http://planning.cs.uiuc.edu/img1479.gif" width=28 align=middle border=0></SPAN> as algebraic primitives. 
<P>One interesting observation can be made here. The only nonlinear primitive is <!-- MATH
 $a^2 + b^2 = 1$
 --><SPAN class=MATH><IMG height=38 alt="$ a^2 + b^2 =&#10;1$" src="http://planning.cs.uiuc.edu/img1226.gif" width=95 align=middle border=0></SPAN>. Therefore, <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> can be considered as a linear polytope (like a polyhedron, but one dimension higher) in <!-- MATH
 ${\mathbb{R}}^4$
 --><SPAN class=MATH><IMG height=19 alt="$ {\mathbb{R}}^4$" src="http://planning.cs.uiuc.edu/img1109.gif" width=26 align=bottom border=0></SPAN> that is intersected with a cylinder. <!-- MATH
 $\blacksquare$
 --><SPAN class=MATH><IMG height=16 alt="$ \blacksquare$" src="http://planning.cs.uiuc.edu/img282.gif" width=20 align=bottom border=0></SPAN> <BR></P></DIV>
<P></P>
<P><BR>
<HR>
<!--Table of Child-Links--><A name=CHILD_LINKS><STRONG>Subsections</STRONG></A> 
<UL class=ChildLinks>
<LI>
<UL>
<LI><A href="http://planning.cs.uiuc.edu/node166.html" name=tex2html3998>3D rigid bodies</A> 
<LI><A href="http://planning.cs.uiuc.edu/node167.html" name=tex2html3999>Chains and trees of bodies</A> </LI></UL></LI></UL><!--End of Table of Child-Links-->