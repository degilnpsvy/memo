<H4><A name=SECTION03131020000000000000>Homogeneous transformation matrices for 2D chains</A> </H4>
<P>We are now prepared to determine the location of each link. The location in <SPAN class=MATH><IMG height=18 alt="$ {\cal W}$" src="http://planning.cs.uiuc.edu/img22.gif" width=25 align=bottom border=0></SPAN> of a point in <!-- MATH
 $(x,y) \in {\cal A}_1$
 --><SPAN class=MATH><IMG height=37 alt="$ (x,y) \in {\cal A}_1$" src="http://planning.cs.uiuc.edu/img859.gif" width=94 align=middle border=0></SPAN> is determined by applying the 2D homogeneous transformation matrix<A name=8952></A> (<A href="http://planning.cs.uiuc.edu/node99.html#eqn:2dhomog">3.35</A>), 
<P></P>
<DIV class=mathdisplay align=center><!-- MATH
 \begin{equation}
T_1 = \begin{pmatrix}
\cos\theta_1 & -\sin\theta_1 & x_t\\
\sin\theta_1 & \cos\theta_1 & y_t\\
0 & 0 & 1 \\
\end{pmatrix}.
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle T_1 = \begin{pmatrix}\cos\theta_1 &amp; -\sin\theta_1 &amp; x_t \sin\theta_1 &amp; \cos\theta_1 &amp; y_t 0 &amp; 0 &amp; 1  \end{pmatrix}.$" src="http://planning.cs.uiuc.edu/img860.gif" width=243 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>51</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>As shown in Figure <A href="http://planning.cs.uiuc.edu/node107.html#fig:2dlinki">3.10</A>, let <SPAN class=MATH><IMG height=33 alt="$ a_{i-1}$" src="http://planning.cs.uiuc.edu/img26.gif" width=37 align=middle border=0></SPAN> be the distance between the joints in <!-- MATH
 ${\cal A}_{i-1}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{i-1}$" src="http://planning.cs.uiuc.edu/img17.gif" width=43 align=middle border=0></SPAN>. The orientation difference between <!-- MATH
 ${\cal A}_i$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_i$" src="http://planning.cs.uiuc.edu/img15.gif" width=25 align=middle border=0></SPAN> and <!-- MATH
 ${\cal A}_{i-1}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{i-1}$" src="http://planning.cs.uiuc.edu/img17.gif" width=43 align=middle border=0></SPAN> is denoted by the angle <SPAN class=MATH><IMG height=34 alt="$ \theta _i$" src="http://planning.cs.uiuc.edu/img25.gif" width=19 align=middle border=0></SPAN>. Let <SPAN class=MATH><IMG height=34 alt="$ T_i$" src="http://planning.cs.uiuc.edu/img861.gif" width=21 align=middle border=0></SPAN> represent a <!-- MATH
 $3 \times 3$
 --><SPAN class=MATH><IMG height=33 alt="$ 3 \times 3$" src="http://planning.cs.uiuc.edu/img158.gif" width=47 align=middle border=0></SPAN> homogeneous transformation matrix<A name=8957></A> (<A href="http://planning.cs.uiuc.edu/node99.html#eqn:2dhomog">3.35</A>), specialized for link <!-- MATH
 ${\cal A}_i$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_i$" src="http://planning.cs.uiuc.edu/img15.gif" width=25 align=middle border=0></SPAN> for <!-- MATH
 $1 < i \leq m$
 --><SPAN class=MATH><IMG height=33 alt="$ 1 < i \leq m$" src="http://planning.cs.uiuc.edu/img862.gif" width=87 align=middle border=0></SPAN>, 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:chain-2D></A><!-- MATH
 \begin{equation}
T_i = \begin{pmatrix}
\cos\theta_i & -\sin\theta_i & a_{i-1} \\
\sin\theta_i & \cos\theta_i & 0 \\
0 & 0 & 1 \\
\end{pmatrix} .
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle T_i = \begin{pmatrix}\cos\theta_i &amp; -\sin\theta_i &amp; a_{i-1}  \sin\theta_i &amp; \cos\theta_i &amp; 0  0 &amp; 0 &amp; 1  \end{pmatrix} .$" src="http://planning.cs.uiuc.edu/img863.gif" width=253 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>52</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>This generates the following sequence of transformations: 
<OL>
<LI>Rotate counterclockwise by <SPAN class=MATH><IMG height=34 alt="$ \theta _i$" src="http://planning.cs.uiuc.edu/img25.gif" width=19 align=middle border=0></SPAN>. 
<LI>Translate by <SPAN class=MATH><IMG height=33 alt="$ a_{i-1}$" src="http://planning.cs.uiuc.edu/img26.gif" width=37 align=middle border=0></SPAN> along the <SPAN class=MATH><IMG height=17 alt="$ x$" src="http://planning.cs.uiuc.edu/img86.gif" width=15 align=bottom border=0></SPAN>-axis. </LI></OL>The transformation <SPAN class=MATH><IMG height=34 alt="$ T_i$" src="http://planning.cs.uiuc.edu/img861.gif" width=21 align=middle border=0></SPAN> expresses the difference between the body frame of <!-- MATH
 ${\cal A}_i$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_i$" src="http://planning.cs.uiuc.edu/img15.gif" width=25 align=middle border=0></SPAN> and the body frame of <!-- MATH
 ${\cal A}_{i-1}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{i-1}$" src="http://planning.cs.uiuc.edu/img17.gif" width=43 align=middle border=0></SPAN>. The application of <SPAN class=MATH><IMG height=34 alt="$ T_i$" src="http://planning.cs.uiuc.edu/img861.gif" width=21 align=middle border=0></SPAN> moves <!-- MATH
 ${\cal A}_i$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_i$" src="http://planning.cs.uiuc.edu/img15.gif" width=25 align=middle border=0></SPAN> from its body frame to the body frame of <!-- MATH
 ${\cal A}_{i-1}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{i-1}$" src="http://planning.cs.uiuc.edu/img17.gif" width=43 align=middle border=0></SPAN>. The application of <!-- MATH
 $T_{i-1} T_i$
 --><SPAN class=MATH><IMG height=34 alt="$ T_{i-1} T_i$" src="http://planning.cs.uiuc.edu/img864.gif" width=55 align=middle border=0></SPAN> moves both <!-- MATH
 ${\cal A}_i$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_i$" src="http://planning.cs.uiuc.edu/img15.gif" width=25 align=middle border=0></SPAN> and <!-- MATH
 ${\cal A}_{i-1}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{i-1}$" src="http://planning.cs.uiuc.edu/img17.gif" width=43 align=middle border=0></SPAN> to the body frame of <!-- MATH
 ${\cal A}_{i-2}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{i-2}$" src="http://planning.cs.uiuc.edu/img865.gif" width=43 align=middle border=0></SPAN>. By following this procedure, the location in <SPAN class=MATH><IMG height=18 alt="$ {\cal W}$" src="http://planning.cs.uiuc.edu/img22.gif" width=25 align=bottom border=0></SPAN> of any point <!-- MATH
 $(x,y) \in {\cal A}_m$
 --><SPAN class=MATH><IMG height=37 alt="$ (x,y) \in {\cal A}_m$" src="http://planning.cs.uiuc.edu/img866.gif" width=100 align=middle border=0></SPAN> is determined by multiplying the transformation matrices to obtain 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:chainmats></A><!-- MATH
 \begin{equation}
T_1 T_2 \cdots T_m \begin{pmatrix}
x \\y \\1 \\
\end{pmatrix} .
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle T_1 T_2 \cdots T_m \begin{pmatrix}x  y  1  \end{pmatrix} .$" src="http://planning.cs.uiuc.edu/img867.gif" width=150 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>53</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>
<P>
<P>
<DIV><A name=exa:2dchain><B>Example <SPAN class=arabic>3</SPAN>..<SPAN class=arabic>3</SPAN></B></A> (A 2D Chain of Three Links) &nbsp; To gain an intuitive understanding of these transformations, consider determining the configuration for link <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN>, as shown in Figure <A href="http://planning.cs.uiuc.edu/node108.html#fig:chain3">3.11</A>. Figure <A href="http://planning.cs.uiuc.edu/node108.html#fig:chain3">3.11</A>a shows a three-link chain in which <!-- MATH
 ${\cal A}_1$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_1$" src="http://planning.cs.uiuc.edu/img846.gif" width=28 align=middle border=0></SPAN> is at its initial configuration and the other links are each offset by <SPAN class=MATH><IMG height=37 alt="$ \pi/4$" src="http://planning.cs.uiuc.edu/img868.gif" width=35 align=middle border=0></SPAN> from the previous link. Figure <A href="http://planning.cs.uiuc.edu/node108.html#fig:chain3">3.11</A>b shows the frame in which the model for <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN> is initially defined. The application of <SPAN class=MATH><IMG height=34 alt="$ T_3$" src="http://planning.cs.uiuc.edu/img869.gif" width=23 align=middle border=0></SPAN> causes a rotation of <SPAN class=MATH><IMG height=34 alt="$ \theta_3$" src="http://planning.cs.uiuc.edu/img870.gif" width=21 align=middle border=0></SPAN> and a translation by <SPAN class=MATH><IMG height=33 alt="$ a_2$" src="http://planning.cs.uiuc.edu/img871.gif" width=22 align=middle border=0></SPAN>. As shown in Figure <A href="http://planning.cs.uiuc.edu/node108.html#fig:chain3">3.11</A>c, this places <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN> in its appropriate configuration. Note that <!-- MATH
 ${\cal A}_2$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_2$" src="http://planning.cs.uiuc.edu/img61.gif" width=28 align=middle border=0></SPAN> can be placed in its initial configuration, and it will be attached correctly to <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN>. The application of <SPAN class=MATH><IMG height=34 alt="$ T_2$" src="http://planning.cs.uiuc.edu/img872.gif" width=23 align=middle border=0></SPAN> to the previous result places both <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN> and <!-- MATH
 ${\cal A}_2$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_2$" src="http://planning.cs.uiuc.edu/img61.gif" width=28 align=middle border=0></SPAN> in their proper configurations, and <!-- MATH
 ${\cal A}_1$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_1$" src="http://planning.cs.uiuc.edu/img846.gif" width=28 align=middle border=0></SPAN> can be placed in its initial configuration. <!-- MATH
 $\blacksquare$
 --><SPAN class=MATH><IMG height=16 alt="$ \blacksquare$" src="http://planning.cs.uiuc.edu/img282.gif" width=20 align=bottom border=0></SPAN> <BR></DIV>
<P></P>
<P>
<DIV align=center><A name=fig:chain3></A><A name=8516></A>
<TABLE>
<CAPTION align=bottom><STRONG>Figure 3.11:</STRONG> Applying the transformation <SPAN class=MATH><IMG height=34 alt="$ T_2 T_3$" src="http://planning.cs.uiuc.edu/img19.gif" width=42 align=middle border=0></SPAN> to the model of <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN>. If <SPAN class=MATH><IMG height=34 alt="$ T_1$" src="http://planning.cs.uiuc.edu/img21.gif" width=23 align=middle border=0></SPAN> is the identity matrix, then this yields the location in <SPAN class=MATH><IMG height=18 alt="$ {\cal W}$" src="http://planning.cs.uiuc.edu/img22.gif" width=25 align=bottom border=0></SPAN> of points in <!-- MATH
 ${\cal A}_3$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_3$" src="http://planning.cs.uiuc.edu/img20.gif" width=28 align=middle border=0></SPAN>.</CAPTION>
<TBODY>
<TR>
<TD><IMG height=694 alt="\begin{figure}\begin{center}&#10;\begin{tabular}{ccc}&#10;\psfig{file=figs/2dlinks1.eps,...&#10;...l A}_3$ in ${\cal A}_1$'s body frame \\&#10;\end{tabular}\end{center}&#10;\end{figure}" src="http://planning.cs.uiuc.edu/img873.gif" width=635 border=0></TD></TR></TBODY></TABLE></DIV>
<P>For revolute joints<A name=7838></A>, the <SPAN class=MATH><IMG height=33 alt="$ a_i$" src="http://planning.cs.uiuc.edu/img874.gif" width=20 align=middle border=0></SPAN> parameters are constants, and the <SPAN class=MATH><IMG height=34 alt="$ \theta _i$" src="http://planning.cs.uiuc.edu/img25.gif" width=19 align=middle border=0></SPAN> parameters are variables. The transformed <SPAN class=MATH><IMG height=17 alt="$ m$" src="http://planning.cs.uiuc.edu/img112.gif" width=21 align=bottom border=0></SPAN>th link is represented as <!-- MATH
 ${\cal A}_m(x_t,y_t,\theta_1,\ldots,\theta_m)$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal A}_m(x_t,y_t,\theta_1,\ldots,\theta_m)$" src="http://planning.cs.uiuc.edu/img875.gif" width=175 align=middle border=0></SPAN>. In some cases, the first link might have a fixed location in the world. In this case, the revolute joints<A name=7839></A> account for all degrees of freedom, yielding <!-- MATH
 ${\cal A}_m(\theta_1,\ldots,\theta_m)$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal A}_m(\theta_1,\ldots,\theta_m)$" src="http://planning.cs.uiuc.edu/img876.gif" width=127 align=middle border=0></SPAN>. For prismatic joints<A name=7840></A>, the <SPAN class=MATH><IMG height=33 alt="$ a_i$" src="http://planning.cs.uiuc.edu/img874.gif" width=20 align=middle border=0></SPAN> parameters are variables, instead of the <SPAN class=MATH><IMG height=34 alt="$ \theta _i$" src="http://planning.cs.uiuc.edu/img25.gif" width=19 align=middle border=0></SPAN> parameters. It is straightforward to include both types of joints in the same kinematic chain.