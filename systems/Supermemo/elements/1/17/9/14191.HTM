<H4><A name=SECTION03123020000000000000>Yaw, pitch, and roll rotations</A> </H4>
<P><A name=7632></A>
<P>A 3D body can be rotated about three orthogonal axes, as shown in Figure <A href="http://planning.cs.uiuc.edu/node101.html#fig:yawpitchroll">3.8</A>. Borrowing aviation terminology, these rotations will be referred to as yaw, pitch, and roll: 
<P><A name=7635></A>
<OL>
<LI>A <EM>yaw</EM><A name=7637></A> is a counterclockwise rotation of <SPAN class=MATH><IMG height=17 alt="$ \alpha$" src="http://planning.cs.uiuc.edu/img815.gif" width=17 align=bottom border=0></SPAN> about the <SPAN class=MATH><IMG height=17 alt="$ z$" src="http://planning.cs.uiuc.edu/img704.gif" width=14 align=bottom border=0></SPAN>-axis. The rotation matrix is given by 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:yawmat></A><!-- MATH
 \begin{equation}
R_z(\alpha) = \begin{pmatrix}
	\cos\alpha & 	-\sin\alpha & 	0 \\
	\sin\alpha & 	\cos\alpha & 	0 \\
	0 & 		0 & 		1 \\
\end{pmatrix} .
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle R_z(\alpha) = \begin{pmatrix}\cos\alpha &amp; -\sin\alpha &amp; 0  \sin\alpha &amp; \cos\alpha &amp; 0  0 &amp; 0 &amp; 1  \end{pmatrix} .$" src="http://planning.cs.uiuc.edu/img816.gif" width=258 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>39</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>Note that the upper left entries of <!-- MATH
 $R_z(\alpha)$
 --><SPAN class=MATH><IMG height=37 alt="$ R_z(\alpha)$" src="http://planning.cs.uiuc.edu/img817.gif" width=53 align=middle border=0></SPAN> form a 2D rotation applied to the <SPAN class=MATH><IMG height=17 alt="$ x$" src="http://planning.cs.uiuc.edu/img86.gif" width=15 align=bottom border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ y$" src="http://planning.cs.uiuc.edu/img166.gif" width=15 align=middle border=0></SPAN> coordinates, whereas the <SPAN class=MATH><IMG height=17 alt="$ z$" src="http://planning.cs.uiuc.edu/img704.gif" width=14 align=bottom border=0></SPAN> coordinate remains constant. 
<P><A name=7643></A></P>
<LI>A <EM>pitch</EM><A name=7645></A> is a counterclockwise rotation of <SPAN class=MATH><IMG height=34 alt="$ \beta$" src="http://planning.cs.uiuc.edu/img818.gif" width=16 align=middle border=0></SPAN> about the <SPAN class=MATH><IMG height=33 alt="$ y$" src="http://planning.cs.uiuc.edu/img166.gif" width=15 align=middle border=0></SPAN>-axis. The rotation matrix is given by 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:pitchmat></A><!-- MATH
 \begin{equation}
R_y(\beta) = \begin{pmatrix}
	\cos\beta & 	0 & 	\sin\beta \\
	0 & 		1 & 	0 \\
	-\sin\beta & 	0 & 	\cos\beta \\
\end{pmatrix} .
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle R_y(\beta) = \begin{pmatrix}\cos\beta &amp; 0 &amp; \sin\beta  0 &amp; 1 &amp; 0  -\sin\beta &amp; 0 &amp; \cos\beta  \end{pmatrix} .$" src="http://planning.cs.uiuc.edu/img819.gif" width=257 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>40</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>
<P><A name=7651></A></P>
<LI>A <EM>roll</EM><A name=7653></A> is a counterclockwise rotation of <SPAN class=MATH><IMG height=33 alt="$ \gamma$" src="http://planning.cs.uiuc.edu/img820.gif" width=16 align=middle border=0></SPAN> about the <SPAN class=MATH><IMG height=17 alt="$ x$" src="http://planning.cs.uiuc.edu/img86.gif" width=15 align=bottom border=0></SPAN>-axis. The rotation matrix is given by 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:rollmat></A><!-- MATH
 \begin{equation}
R_x(\gamma) = \begin{pmatrix}
	1 & 	0 & 		0 \\
	0 & 	\cos\gamma & 	-\sin\gamma \\
	0 & 	\sin\gamma & 	\cos\gamma \\
\end{pmatrix} .
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle R_x(\gamma) = \begin{pmatrix}1 &amp; 0 &amp; 0  0 &amp; \cos\gamma &amp; -\sin\gamma  0 &amp; \sin\gamma &amp; \cos\gamma  \end{pmatrix} .$" src="http://planning.cs.uiuc.edu/img821.gif" width=255 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>41</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P></LI></OL>Each rotation matrix is a simple extension of the 2D rotation matrix, (<A href="http://planning.cs.uiuc.edu/node98.html#eqn:2drotmat">3.31</A>). For example, the yaw matrix, <!-- MATH
 $R_z(\alpha)$
 --><SPAN class=MATH><IMG height=37 alt="$ R_z(\alpha)$" src="http://planning.cs.uiuc.edu/img817.gif" width=53 align=middle border=0></SPAN>, essentially performs a 2D rotation with respect to the <SPAN class=MATH><IMG height=17 alt="$ x$" src="http://planning.cs.uiuc.edu/img86.gif" width=15 align=bottom border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ y$" src="http://planning.cs.uiuc.edu/img166.gif" width=15 align=middle border=0></SPAN> coordinates while leaving the <SPAN class=MATH><IMG height=17 alt="$ z$" src="http://planning.cs.uiuc.edu/img704.gif" width=14 align=bottom border=0></SPAN> coordinate unchanged. Thus, the third row and third column of <!-- MATH
 $R_z(\alpha)$
 --><SPAN class=MATH><IMG height=37 alt="$ R_z(\alpha)$" src="http://planning.cs.uiuc.edu/img817.gif" width=53 align=middle border=0></SPAN> look like part of the identity matrix, while the upper right portion of <!-- MATH
 $R_z(\alpha)$
 --><SPAN class=MATH><IMG height=37 alt="$ R_z(\alpha)$" src="http://planning.cs.uiuc.edu/img817.gif" width=53 align=middle border=0></SPAN> looks like the 2D rotation matrix. 
<P>The yaw, pitch, and roll rotations can be used to place a 3D body in any orientation. A single rotation matrix can be formed by multiplying the yaw, pitch, and roll rotation matrices to obtain 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:yprmat></A><!-- MATH
 \begin{equation}
\begin{split}
R(\alpha,& \beta,\gamma) = R_z(\alpha) \, R_y(\beta) \, R_x(\gamma) = \\
& \begin{pmatrix}
	\cos\alpha \cos\beta & 
	\cos\alpha \sin\beta \sin\gamma - \sin\alpha \cos\gamma &
	\cos\alpha \sin\beta \cos\gamma + \sin\alpha \sin\gamma \\
	\sin\alpha \cos\beta &
	\sin\alpha \sin\beta \sin\gamma + \cos\alpha \cos\gamma &
	\sin\alpha \sin\beta \cos\gamma - \cos\alpha \sin\gamma \\
	-\sin\beta & \cos\beta \sin\gamma & \cos\beta \cos\gamma \\
\end{pmatrix}.
\end{split}
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=106 alt="\begin{displaymath}\begin{split}R(\alpha,&amp; \beta,\gamma) = R_z(\alpha)   R_y(\b...&#10;...\sin\gamma &amp; \cos\beta \cos\gamma  \end{pmatrix}. \end{split}\end{displaymath}" src="http://planning.cs.uiuc.edu/img822.gif" width=646 border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>42</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>It is important to note that <!-- MATH
 $R(\alpha,\beta,\gamma)$
 --><SPAN class=MATH><IMG height=37 alt="$ R(\alpha,\beta,\gamma)$" src="http://planning.cs.uiuc.edu/img823.gif" width=85 align=middle border=0></SPAN> performs the roll first, then the pitch, and finally the yaw. If the order of these operations is changed, a different rotation matrix would result. Be careful when interpreting the rotations. Consider the final rotation, a yaw by <SPAN class=MATH><IMG height=17 alt="$ \alpha$" src="http://planning.cs.uiuc.edu/img815.gif" width=17 align=bottom border=0></SPAN>. Imagine sitting inside of a robot <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN> that looks like an aircraft. If <!-- MATH
 $\beta = \gamma = 0$
 --><SPAN class=MATH><IMG height=34 alt="$ \beta = \gamma = 0$" src="http://planning.cs.uiuc.edu/img824.gif" width=87 align=middle border=0></SPAN>, then the yaw turns the plane in a way that feels like turning a car to the left. However, for arbitrary values of <SPAN class=MATH><IMG height=34 alt="$ \beta$" src="http://planning.cs.uiuc.edu/img818.gif" width=16 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=33 alt="$ \gamma$" src="http://planning.cs.uiuc.edu/img820.gif" width=16 align=middle border=0></SPAN>, the final rotation axis will not be vertically aligned with the aircraft because the aircraft is left in an unusual orientation before <SPAN class=MATH><IMG height=17 alt="$ \alpha$" src="http://planning.cs.uiuc.edu/img815.gif" width=17 align=bottom border=0></SPAN> is applied. The yaw rotation occurs about the <SPAN class=MATH><IMG height=17 alt="$ z$" src="http://planning.cs.uiuc.edu/img704.gif" width=14 align=bottom border=0></SPAN>-axis of the world frame, not the body frame of <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN>. Each time a new rotation matrix is introduced from the left, it has no concern for original body frame of <SPAN class=MATH><IMG height=18 alt="$ {\cal A}$" src="http://planning.cs.uiuc.edu/img54.gif" width=20 align=bottom border=0></SPAN>. It simply rotates every point in <!-- MATH
 ${\mathbb{R}}^3$
 --><SPAN class=MATH><IMG height=19 alt="$ {\mathbb{R}}^3$" src="http://planning.cs.uiuc.edu/img23.gif" width=26 align=bottom border=0></SPAN> in terms of the world frame. Note that 3D rotations depend on three parameters, <SPAN class=MATH><IMG height=17 alt="$ \alpha$" src="http://planning.cs.uiuc.edu/img815.gif" width=17 align=bottom border=0></SPAN>, <SPAN class=MATH><IMG height=34 alt="$ \beta$" src="http://planning.cs.uiuc.edu/img818.gif" width=16 align=middle border=0></SPAN>, and <SPAN class=MATH><IMG height=33 alt="$ \gamma$" src="http://planning.cs.uiuc.edu/img820.gif" width=16 align=middle border=0></SPAN>, whereas 2D rotations depend only on a single parameter, <SPAN class=MATH><IMG height=17 alt="$ \theta $" src="http://planning.cs.uiuc.edu/img47.gif" width=14 align=bottom border=0></SPAN>. The primitives of the model can be transformed using <!-- MATH
 $R(\alpha,\beta,\gamma)$
 --><SPAN class=MATH><IMG height=37 alt="$ R(\alpha,\beta,\gamma)$" src="http://planning.cs.uiuc.edu/img823.gif" width=85 align=middle border=0></SPAN>, resulting in <!-- MATH
 ${\cal A}(\alpha,\beta,\gamma)$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal A}(\alpha,\beta,\gamma)$" src="http://planning.cs.uiuc.edu/img825.gif" width=86 align=middle border=0></SPAN>.