<H4><A name=SECTION03231020000000000000>Obstacle region for multiple bodies</A> </H4>
<P>If the robot consists of multiple bodies, the situation is more complicated. The definition in (<A href="http://planning.cs.uiuc.edu/node158.html#eqn:cobs">4.34</A>) only implies that the robot does not collide with the obstacles; however, if the robot consists of multiple bodies, then it might also be appropriate to avoid collisions between different links of the robot. Let the robot be modeled as a collection, <!-- MATH
 $\{{\cal A}_1,{\cal A}_2,\ldots,{\cal A}_m\}$
 --><SPAN class=MATH><IMG height=37 alt="$ \{{\cal A}_1,{\cal A}_2,\ldots,{\cal A}_m\}$" src="http://planning.cs.uiuc.edu/img1354.gif" width=148 align=middle border=0></SPAN>, of <SPAN class=MATH><IMG height=17 alt="$ m$" src="http://planning.cs.uiuc.edu/img112.gif" width=21 align=bottom border=0></SPAN> links, which may or may not be attached together by joints. A single configuration vector <SPAN class=MATH><IMG height=33 alt="$ q$" src="http://planning.cs.uiuc.edu/img81.gif" width=14 align=middle border=0></SPAN> is given for the entire collection of links. We will write <!-- MATH
 ${\cal A}_i(q)$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal A}_i(q)$" src="http://planning.cs.uiuc.edu/img1355.gif" width=49 align=middle border=0></SPAN> for each link, <SPAN class=MATH><IMG height=16 alt="$ i$" src="http://planning.cs.uiuc.edu/img70.gif" width=11 align=bottom border=0></SPAN>, even though some of the parameters of <SPAN class=MATH><IMG height=33 alt="$ q$" src="http://planning.cs.uiuc.edu/img81.gif" width=14 align=middle border=0></SPAN> may be irrelevant for moving link <!-- MATH
 ${\cal A}_i$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_i$" src="http://planning.cs.uiuc.edu/img15.gif" width=25 align=middle border=0></SPAN>. For example, in a kinematic chain, the configuration of the second body does not depend on the angle between the ninth and tenth bodies. 
<P>Let <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN> denote the set of <EM>collision pairs</EM><A name=14094></A>, in which each collision pair, <!-- MATH
 $(i,j) \in P$
 --><SPAN class=MATH><IMG height=37 alt="$ (i,j) \in P$" src="http://planning.cs.uiuc.edu/img1357.gif" width=81 align=middle border=0></SPAN>, represents a pair of link indices <!-- MATH
 $i,j
\in \{ 1,2,\ldots,m\}$
 --><SPAN class=MATH><IMG height=37 alt="$ i,j&#10;\in \{ 1,2,\ldots,m\}$" src="http://planning.cs.uiuc.edu/img1358.gif" width=156 align=middle border=0></SPAN>, such that <!-- MATH
 $i \not = j$
 --><SPAN class=MATH><IMG height=34 alt="$ i \not = j$" src="http://planning.cs.uiuc.edu/img668.gif" width=45 align=middle border=0></SPAN>. If <SPAN class=MATH><IMG height=37 alt="$ (i,j)$" src="http://planning.cs.uiuc.edu/img146.gif" width=43 align=middle border=0></SPAN> appears in <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN>, it means that <SPAN class=MATH><IMG height=34 alt="$ A_i$" src="http://planning.cs.uiuc.edu/img584.gif" width=24 align=middle border=0></SPAN> and <SPAN class=MATH><IMG height=34 alt="$ A_j$" src="http://planning.cs.uiuc.edu/img1359.gif" width=26 align=middle border=0></SPAN> are not allowed to be in a configuration, <SPAN class=MATH><IMG height=33 alt="$ q$" src="http://planning.cs.uiuc.edu/img81.gif" width=14 align=middle border=0></SPAN>, for which <!-- MATH
 ${\cal A}_i(q) \cap {\cal A}_j(q) \not = \emptyset$
 --><SPAN class=MATH><IMG height=37 alt="$ {\cal A}_i(q) \cap {\cal A}_j(q) \not = \emptyset$" src="http://planning.cs.uiuc.edu/img1360.gif" width=151 align=middle border=0></SPAN>. Usually, <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN> does not represent all pairs because consecutive links are in contact all of the time due to the joint that connects them. One common definition for <SPAN class=MATH><IMG height=17 alt="$ P$" src="http://planning.cs.uiuc.edu/img508.gif" width=19 align=bottom border=0></SPAN> is that each link must avoid collisions with any links to which it is not attached by a joint. For <SPAN class=MATH><IMG height=17 alt="$ m$" src="http://planning.cs.uiuc.edu/img112.gif" width=21 align=bottom border=0></SPAN> bodies, <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN> is generally of size <SPAN class=MATH><IMG height=38 alt="$ O(m^2)$" src="http://planning.cs.uiuc.edu/img1361.gif" width=58 align=middle border=0></SPAN>; however, in practice it is often possible to eliminate many pairs by some geometric analysis of the linkage. Collisions between some pairs of links may be impossible over all of <SPAN class=MATH><IMG height=17 alt="$ {\cal C}$" src="http://planning.cs.uiuc.edu/img116.gif" width=16 align=bottom border=0></SPAN>, in which case they do not need to appear in <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN>. 
<P>Using <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN>, the consideration of robot self-collisions is added to the definition of <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> to obtain 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:cobs2></A><!-- MATH
 \begin{equation}
{\cal C}_{obs}= 
\Bigg( \bigcup_{i=1}^{m} 
\{ q \in {\cal C}\;|\; {\cal A}_i(q) \cap {\cal O}\not = \emptyset \}  \Bigg) \bigcup
\Bigg( \bigcup_{[i,j] \in P} 
\{ q \in {\cal C}\;|\; {\cal A}_i(q) \cap {\cal A}_j(q) \not = \emptyset \} \Bigg).
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=76 alt="$\displaystyle {\cal C}_{obs}= \Bigg( \bigcup_{i=1}^{m} \{ q \in {\cal C}\;\vert...&#10;... {\cal C}\;\vert\; {\cal A}_i(q) \cap {\cal A}_j(q) \not = \emptyset \} \Bigg).$" src="http://planning.cs.uiuc.edu/img1362.gif" width=638 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>4</SPAN>.<SPAN class=arabic>36</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>Thus, a configuration <!-- MATH
 $q \in {\cal C}$
 --><SPAN class=MATH><IMG height=34 alt="$ q \in {\cal C}$" src="http://planning.cs.uiuc.edu/img1343.gif" width=48 align=middle border=0></SPAN> is in <!-- MATH
 ${\cal C}_{obs}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal C}_{obs}$" src="http://planning.cs.uiuc.edu/img53.gif" width=34 align=middle border=0></SPAN> if at least one link collides with <SPAN class=MATH><IMG height=17 alt="$ {\cal O}$" src="http://planning.cs.uiuc.edu/img55.gif" width=21 align=bottom border=0></SPAN> or a pair of links indicated by <SPAN class=MATH><IMG height=17 alt="$ {P}$" src="http://planning.cs.uiuc.edu/img1356.gif" width=19 align=bottom border=0></SPAN> collide with each other.