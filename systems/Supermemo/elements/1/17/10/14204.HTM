<H4><A name=SECTION03140030000000000000>Junctions with more than two rotation axes</A> </H4>
<P>Now consider modeling a more complicated collection of attached links. The main novelty is that one link may have joints attached to it in more than two locations, as in <!-- MATH
 ${\cal A}_7$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_7$" src="http://planning.cs.uiuc.edu/img33.gif" width=28 align=middle border=0></SPAN> in Figure <A href="http://planning.cs.uiuc.edu/node113.html#fig:linkjunct">3.22</A>. A link with more than two joints will be referred to as a <EM>junction</EM><A name=8158></A>. 
<P>If there is only one junction, then most of the complications arising from junctions can be avoided by choosing the junction as the root. For example, for a simple humanoid<A name=9065></A> model, the torso would be a junction. It would be sensible to make this the root of the tree, as opposed to the right foot. The legs, arms, and head could all be modeled as independent chains. In each chain, the only concern is that the first link of each chain does not attach to the same point on the torso. This can be solved by inserting a fixed, fictitious link that connects from the origin of the torso to the attachment point of the limb. 
<P>
<DIV align=center><A name=fig:linkjunct2></A><A name=8537></A>
<TABLE>
<CAPTION align=bottom><STRONG>Figure 3.23:</STRONG> The junction is assigned two different frames, depending on which chain was followed. The solid axes were obtained from transforming <!-- MATH
 ${\cal A}_9$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_9$" src="http://planning.cs.uiuc.edu/img34.gif" width=28 align=middle border=0></SPAN>, and the dashed axes were obtained from transforming <!-- MATH
 ${\cal A}_{13}$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_{13}$" src="http://planning.cs.uiuc.edu/img35.gif" width=34 align=middle border=0></SPAN>.</CAPTION>
<TBODY>
<TR>
<TD><IMG height=354 alt="\begin{figure}\begin{center}&#10;\centerline{\psfig{file=figs/linkjunct2.eps,width=3.0in}}&#10;\end{center}&#10;\end{figure}" src="http://planning.cs.uiuc.edu/img923.gif" width=344 border=0></TD></TR></TBODY></TABLE></DIV>
<P>The situation is more interesting if there are multiple junctions. Suppose that Figure <A href="http://planning.cs.uiuc.edu/node113.html#fig:linkjunct">3.22</A> represents part of a 2D system of links for which the root, <!-- MATH
 ${\cal A}_1$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_1$" src="http://planning.cs.uiuc.edu/img846.gif" width=28 align=middle border=0></SPAN>, is attached via a chain of links to <!-- MATH
 ${\cal A}_5$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_5$" src="http://planning.cs.uiuc.edu/img924.gif" width=28 align=middle border=0></SPAN>. To transform link <!-- MATH
 ${\cal A}_9$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_9$" src="http://planning.cs.uiuc.edu/img34.gif" width=28 align=middle border=0></SPAN>, the tools from Section <A href="http://planning.cs.uiuc.edu/node106.html#sec:2dchain">3.3.1</A> may be directly applied to yield a sequence of transformations, 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:treemats></A><!-- MATH
 \begin{equation}
T_1 \cdots T_5 T_6 T_7 T_8 T_9 \begin{pmatrix}
x \\y \\1 \\
\end{pmatrix} ,
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle T_1 \cdots T_5 T_6 T_7 T_8 T_9 \begin{pmatrix}x  y  1  \end{pmatrix} ,$" src="http://planning.cs.uiuc.edu/img925.gif" width=200 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>68</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>for a point <!-- MATH
 $(x,y) \in {\cal A}_9$
 --><SPAN class=MATH><IMG height=37 alt="$ (x,y) \in {\cal A}_9$" src="http://planning.cs.uiuc.edu/img926.gif" width=94 align=middle border=0></SPAN>. Likewise, to transform <SPAN class=MATH><IMG height=34 alt="$ T_{13}$" src="http://planning.cs.uiuc.edu/img927.gif" width=30 align=middle border=0></SPAN>, the sequence 
<P></P>
<DIV class=mathdisplay align=center><A name=eqn:treemats2></A><!-- MATH
 \begin{equation}
T_1 \cdots T_5 T_6 T_7 T_{12} T_{13} \begin{pmatrix}
x \\y \\1 \\
\end{pmatrix}
\end{equation}
 -->
<TABLE class=equation cellPadding=0 width="100%" align=center>
<TBODY>
<TR vAlign=center>
<TD noWrap align=middle><SPAN class=MATH><IMG height=87 alt="$\displaystyle T_1 \cdots T_5 T_6 T_7 T_{12} T_{13} \begin{pmatrix}x  y  1  \end{pmatrix}$" src="http://planning.cs.uiuc.edu/img928.gif" width=205 align=middle border=0></SPAN></TD>
<TD class=eqno noWrap align=right width=10>(<SPAN class=arabic>3</SPAN>.<SPAN class=arabic>69</SPAN>)</TD></TR></TBODY></TABLE></DIV><BR clear=all>
<P></P>can be used by ignoring the chain formed by <!-- MATH
 ${\cal A}_8$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_8$" src="http://planning.cs.uiuc.edu/img929.gif" width=28 align=middle border=0></SPAN> and <!-- MATH
 ${\cal A}_9$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_9$" src="http://planning.cs.uiuc.edu/img34.gif" width=28 align=middle border=0></SPAN>. So far everything seems to work well, but take a close look at <!-- MATH
 ${\cal A}_7$
 --><SPAN class=MATH><IMG height=34 alt="$ {\cal A}_7$" src="http://planning.cs.uiuc.edu/img33.gif" width=28 align=middle border=0></SPAN>. As shown in Figure <A href="http://planning.cs.uiuc.edu/node115.html#fig:linkjunct2">3.23</A>, its body frame was defined in two different ways, one for each chain. If both are forced to use the same frame, then at least one must abandon the nice conventions of Section <A href="http://planning.cs.uiuc.edu/node106.html#sec:2dchain">3.3.1</A> for choosing frames. This situation becomes worse for 3D trees because this would suggest abandoning the DH parameterization. The Khalil-Kleinfinger parameterization<A name=9076></A> is an elegant extension of the DH parameterization and solves these frame assignment issues [<A href="http://planning.cs.uiuc.edu/node858.html#KhaKle86">524</A>].