<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>5. DETAILED COMMENTS ON CERTAIN DEVICE DRIVERS</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>This section contains detailed information by the authors on certain chipsets.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><A name=lbBQ><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>&nbsp;</FONT></SPAN></A><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>AT3D (AT25)</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Also known as Promotion at25. Popular as the 2D part of a voodoo rush card.&nbsp;<BR>&nbsp;&nbsp;&nbsp; I have written a driver for this chipset, based on the XF86 driver for this chipset.&nbsp;<BR>&nbsp;&nbsp;&nbsp; The programs that work with this driver include all the programs in the demos directory, zgv and dvisvga (tmview).&nbsp;<BR>&nbsp;&nbsp;&nbsp; I believe it should be easy to make it work on AT24, AT6422.&nbsp;<BR>&nbsp;&nbsp;&nbsp;&nbsp;</FONT><A name=lbBR><FONT face=Calibri>&nbsp;</FONT></A></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>ATI Mach32</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Please see&nbsp;<B><A href="http://www.fifi.org/cgi-bin/man2html?svgalib.mach32+7"><FONT color=#0000ff>svgalib.mach32</FONT></A></B>(7).</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><A name=lbBS><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>&nbsp;</FONT></SPAN></A><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>ATI Mach64</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>The rage.c driver works only on mach64 based cards with internal DAC. The driver might misdetect the base frequency the card uses, so if when setting any svgalib modes the screen blanks, or complains about out of bound freqencies, or the display is unsynced, then try adding the option&nbsp;<B>RageDoubleClock</B>&nbsp;to the config file.&nbsp;<BR>&nbsp;&nbsp;</FONT><A name=lbBT><FONT face=Calibri>&nbsp;</FONT></A></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Chips and Technologies chipsets 65525, 65535, 65546, 65548, 65550, and 65554 (usually in laptops).</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Please see&nbsp;<B><A href="http://www.fifi.org/cgi-bin/man2html?svgalib.chips+7"><FONT color=#0000ff>svgalib.chips</FONT></A></B>(7).</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><A name=lbBU><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>&nbsp;</FONT></SPAN></A><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Tseng ET4000/ET4000W32(i/p)</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Please see&nbsp;<B><A href="http://www.fifi.org/cgi-bin/man2html?svgalib.et4000+7"><FONT color=#0000ff>svgalib.et4000</FONT></A></B>(7).</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><A name=lbBV><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>&nbsp;</FONT></SPAN></A><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Tseng ET6000</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>I have only 2 Mbytes of memory on my ET6000 card, so I am not able to get all possible modes running. I haven't even tried to do all of the modes which I am capable of doing, but I am confident that I can manage more modes when I have time. I have enough modes working to make the card useful, so I felt it was worth while to add the driver to svgalib now.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Linear graphics is working on this card, both with and without BACKGROUND enabled, and vga_runinbackground works.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>I decided it was best to quit working on more modes and try to get acceleration and sprites working.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>My et6000 card is on a PCI bus. The card will run on a vesa bus, but since I don't have one on my machine I couldn't develop vesa bus handling. I quit if the bus is a vesa bus.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>I check for an et6000 card, which can be unequivocally identified. The et4000 driver does not properly identify et4000 cards. It thinks the et6000 card is an et4000, but can only run it in vga modes.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>I have found the following four modelines to be useful in&nbsp;<B>libvga.config</B>&nbsp;or in&nbsp;<B>~/.svgalibrc</B>&nbsp;for proper display of some modes.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><BR><FONT face=Calibri>Modeline "512x384@79" 25.175 512 560 592 640 384 428 436 494&nbsp;<BR>Modeline "400x300@72" 25.000 400 456 472 520 300 319 332 350 DOUBLESCAN&nbsp;<BR>Modeline "512x480@71" 25.175 512 584 600 656 480 500 510 550&nbsp;<BR>Modeline "400x600@72" 25.000 400 440 488 520 600 639 644 666</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Don Secrest &lt;</FONT><A href="mailto:secrest@uiuc.edu"><FONT color=#0000ff face=Calibri>secrest@uiuc.edu</FONT></A><FONT face=Calibri>&gt; Aug 21, 1999</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><A name=lbBW><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>&nbsp;</FONT></SPAN></A><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Oak Technologies OTI-037/67/77/87</FONT></SPAN></B></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>First a few comments of me (Michael Weller &lt;</FONT><A href="mailto:eowmob@exp-math.uni-essen.de"><FONT color=#0000ff face=Calibri>eowmob@exp-math.uni-essen.de</FONT></A><FONT face=Calibri>&gt;):</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>As of this writing (1.2.8) fixes were made to the oak driver by Frodo Looijaard &lt;</FONT><A href="mailto:frodol@dds.nl"><FONT color=#0000ff face=Calibri>frodol@dds.nl</FONT></A><FONT face=Calibri>&gt; to reenable OTI-067 support. It is unknown right now if they might have broken OTI-087 support. The author of the '87 support Christopher Wiles &lt;</FONT><A href="mailto:wileyc@moscow.com"><FONT color=#0000ff face=Calibri>wileyc@moscow.com</FONT></A><FONT face=Calibri>&gt; owns no longer an OTI-087 card and can thus no longer give optimal support to this driver. Thus you might be better off contacting me or Frodo for questions. If you are a knowledgable OTI-087 user and experience problems you are welcome to provide fixes. No user of a OTI-087 is currently known to me, so if you are able to fix problems with the driver please do so (and contact me) as noone else can.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Michael.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Now back to the original Oak information:</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>The original OTI driver, which supported the OTI-067/77 at 640x480x256, has been augmented with the following features:</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><FONT face=Calibri><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US>1)</SPAN></B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></FONT></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Supported resolutions/colors have been expanded to 640x480x32K, 800x600x256/32K, 1024x768x256, and 1280x1024x16.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><FONT face=Calibri><B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US>2)</SPAN></B><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US></SPAN></FONT></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>The OTI-087 (all variants) is now supported. Video memory is correctly recognized.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>The driver as it exists now is somewhat schizoid. As the '87 incorporates a completely different set of extended registers, I found it necessary to split its routines from the others. Further, I did not have access to either a '67 or a '77 for testing the new resolutions. If using them causes your monitor/video card to fry, your dog to bite you, and so forth, I warned you. The driver works on my '87, and that's all I guarantee. Period.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Heh. Now, if someone wants to try them out ... let me know if they work.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>New from last release:</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>32K modes now work for 640x480 and 800x600. I found that the Sierra DAC information in VGADOC3.ZIP is, well, wrong. But, then again, the information for the '87 was wrong also.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>64K modes&nbsp;<B>do not</B>&nbsp;work. I can't even get Oak's BIOS to enter those modes.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>I have included a 1280x1024x16 mode, but I haven't tested it. My monitor can't handle that resolution. According to the documentation, with 2 megs the '87 should be able to do an interlaced 1280x1024x256 ... again, I couldn't get the BIOS to do the mode. I haven't 2 megs anyway, so there it sits.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>I have included routines for entering and leaving linear mode. They&nbsp;<B>should</B>&nbsp;work, but they don't. It looks like a pointer to the frame buffer is not being passed to SVGALIB. I've been fighting with this one for a month. If anyone wants to play with this, let me know if it can be make to work. I've got exams that I need to pass.</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Tidbit: I pulled the extended register info out of the video BIOS. When the information thus obtained failed to work, I procured the OTI-087 data book. It appears that Oak's video BIOS sets various modes incorrectly (e.g. setting 8-bit color as 4, wrong dot clock frequencies, etc.). Sort of makes me wonder ...</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 17.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>Christopher M. Wiles (</FONT><A href="mailto:a0017097@wsuaix.csc.wsu.edu"><FONT color=#0000ff face=Calibri>a0017097@wsuaix.csc.wsu.edu</FONT></A><FONT face=Calibri>)&nbsp;<BR>12 September 1994</FONT></SPAN>