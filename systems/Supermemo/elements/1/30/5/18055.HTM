<H4 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: medium; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=appendixsubsec>C.5.1 Problems With The Old Mechanism</H4>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">The old extension mechanism had several problems:</P>
<UL style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">
<LI>It depended heavily upon<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>internals. Any time the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>NODE</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>structure<A href="http://www.gnu.org/software/gawk/manual/gawk.html#FOOT113" name=DOCF113><SUP>113</SUP></A><SPAN class=Apple-converted-space>&nbsp;</SPAN>changed, an extension would have to be recompiled. Furthermore, to really write extensions required understanding something about<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE>&#8217;s internal functions. There was some documentation in this Web page, but it was quite minimal.</LI>
<LI>Being able to call into<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>from an extension required linker facilities that are common on Unix-derived systems but that did not work on Windows systems; users wanting extensions on Windows had to statically link them into<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE>, even though Windows supports dynamic loading of shared objects.</LI>
<LI>The API would change occasionally as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>changed; no compatibility between versions was ever offered or planned for.</LI></UL>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Despite the drawbacks, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>xgawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>project developers forked<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and developed several significant extensions. They also enhanced<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE>&#8217;s facilities relating to file inclusion and shared object access.</P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">A new API was desired for a long time, but only in 2012 did the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>gawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>maintainer and the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>xgawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>developers finally start working on it together. More information about the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>xgawk</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>project is provided in<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://www.gnu.org/software/gawk/manual/gawk.html#gawkextlib">gawkextlib</A>.