<B><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; FONT-FAMILY: Arial; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">4.1.2.6 The phase argument </SPAN></B><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; FONT-FAMILY: Arial; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt"></SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">a) Each call to <I>nb_transport </I>passes a reference to a phase object. In the case of the base protocol, successive calls to <I>nb_transport </I>with the same phase are not permitted. Each phase transition has an associated timing point. A timing annotation using the <B>sc_time </B>argument shall delay the timing point relative to the phase transition. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">b) The phase argument is passed by reference. Either caller or callee may modify the phase. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">c) The intent is that the phase argument should be used to inform components as to whether and when they are permitted to read or modify the attributes of a transaction. If the rules of a protocol allow a given component to modify the value of a transaction attribute during a particular phase, then that component may modify the value at any time during that phase and any number of times during that phase. The protocol should forbid other components from reading the value of that attribute during that phase, only permitting the value to be read after the next phase transition. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">d) The value of the phase argument represents the current state of the protocol state machine for the given hop. Where a single transaction object is passed between more than two components (initiator, interconnect, target), each hop requires (notionally, at least) a separate protocol state machine. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">e) Whereas the transaction object has a lifetime and a scope that may extend beyond any single call to <I>nb_transport</I>, the phase object is normally local to the caller. Each <I>nb_transport </I>call for a given transaction may have a separate phase object. Corresponding phase transitions on different hops may occur at different points in simulation time. </SPAN></P>
<p><SPAN lang=EN-US style="FONT-SIZE: 15pt; COLOR: black; mso-bidi-font-size: 10.0pt; mso-font-kerning: 0pt">f) The default phase type <B>tlm_phase </B>is specific to the base protocol. Other protocols may use or extend type <B>tlm_phase </B>or may substitute their own phase type (with a corresponding loss of interoperability). See 8.1 Phases. </SPAN>