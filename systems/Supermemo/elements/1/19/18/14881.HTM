<H3 class=section>9.4 Avoiding Recompilation of Some Files</H3>
<P><A name=index-g_t_0040code_007b_002do_007d-722></A><A name=index-g_t_0040code_007b_002d_002dold_002dfile_007d-723></A><A name=index-g_t_0040code_007b_002d_002dassume_002dold_007d-724></A><A name=index-files_002c-assuming-old-725></A><A name=index-files_002c-avoiding-recompilation-of-726></A><A name=index-recompilation_002c-avoiding-727></A>Sometimes you may have changed a source file but you do not want to recompile all the files that depend on it. For example, suppose you add a macro or a declaration to a header file that many other files depend on. Being conservative, <CODE>make</CODE> assumes that any change in the header file requires recompilation of all dependent files, but you know that they do not need to be recompiled and you would rather not waste the time waiting for them to compile. 
<P>If you anticipate the problem before changing the header file, you can use the &#8216;<SAMP><SPAN class=samp>-t</SPAN></SAMP>&#8217; flag. This flag tells <CODE>make</CODE> not to run the recipes in the rules, but rather to mark the target up to date by changing its last-modification date. You would follow this procedure: 
<OL type=1>
<LI><FONT class=clozed>Use the command &#8216;<SAMP><SPAN class=samp>make</SPAN></SAMP>&#8217; to recompile the source files that really need recompilation, ensuring that the object files are up-to-date before you begin. </FONT>
<LI><FONT class=clozed>Make the changes in the header files. </FONT>
<LI><FONT class=clozed>Use the command &#8216;<SAMP><SPAN class=samp>make -t</SPAN></SAMP>&#8217; to mark all the object files as up to date. The next time you run <CODE>make</CODE>, the changes in the header files will not cause any recompilation. </FONT></LI></OL>
<P>If you have already changed the header file at a time when some files do need recompilation, it is too late to do this. Instead, you can use the &#8216;<SAMP><SPAN class=samp>-o&nbsp;</SPAN><VAR>file</VAR></SAMP>&#8217;<!-- /@w --> flag, which marks a specified file as &#8220;old&#8221; (see <A href="https://www.gnu.org/software/make/manual/make.html#Options-Summary">Summary of Options</A>). This means that the file itself will not be remade, and nothing else will be remade on its account. Follow this procedure: 
<OL type=1>
<LI><FONT class=clozed>Recompile the source files that need compilation for reasons independent of the particular header file, with &#8216;<SAMP><SPAN class=samp>make -o </SPAN><VAR>headerfile</VAR></SAMP>&#8217;. If several header files are involved, use a separate &#8216;<SAMP><SPAN class=samp>-o</SPAN></SAMP>&#8217; option for each header file. </FONT>
<LI><FONT class=clozed>Touch all the object files with &#8216;<SAMP><SPAN class=samp>make -t</SPAN></SAMP>&#8217;. </FONT></LI></OL>