<SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>In the above scenario, if we wanted to ensure that the invocation of </SPAN><SPAN style="FONT-FAMILY: NewBaskervilleEF-RomanIta; FONT-SIZE: 24pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: NewBaskervilleEF-RomanIta" lang=EN-US>xyz() </SPAN><SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>in the shared library actually called the version of the function defined within the library, then we could use the </SPAN><SPAN style="FONT-FAMILY: NewBaskervilleEF-RomanIta; FONT-SIZE: 24pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: NewBaskervilleEF-RomanIta" lang=EN-US><FONT class=clozed>&#8211;Bsymbolic</FONT> </SPAN><SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>linker option when building the shared library:</SPAN> 
<P></P>
<P><SPAN style="FONT-FAMILY: 'Lucida Console'; COLOR: #00bf00; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>1</SPAN><SPAN style="FONT-FAMILY: 'Lucida Console'; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>$ gcc -g -c -fPIC -Wall -c foo.c</SPAN></P>
<P><SPAN style="FONT-FAMILY: 'Lucida Console'; COLOR: #00bf00; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>2</SPAN><SPAN style="FONT-FAMILY: 'Lucida Console'; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>$ gcc -g -shared -Wl,-Bsymbolic -o libfoo.so foo.o</SPAN></P>
<P><SPAN style="FONT-FAMILY: 'Lucida Console'; COLOR: #00bf00; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>3</SPAN><SPAN style="FONT-FAMILY: 'Lucida Console'; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>$ gcc -g -o prog prog.c libfoo.so</SPAN></P>
<P><SPAN style="FONT-FAMILY: 'Lucida Console'; COLOR: #00bf00; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>4</SPAN><SPAN style="FONT-FAMILY: 'Lucida Console'; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>$ <SPAN style="COLOR: #bfbf00">LD_LIBRARY_PATH</SPAN>=. ./prog</SPAN></P>
<P><SPAN style="FONT-FAMILY: 'Lucida Console'; COLOR: #00bf00; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>5</SPAN><SPAN style="FONT-FAMILY: 'Lucida Console'; FONT-SIZE: 17pt; mso-bidi-font-size: 9.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: 'Lucida Console'" lang=EN-US>foo-xyz</SPAN></P>
<P><FONT class=extract><SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>The </SPAN><SPAN style="FONT-FAMILY: NewBaskervilleEF-RomanIta; FONT-SIZE: 24pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: NewBaskervilleEF-RomanIta" lang=EN-US>&#8211;Bsymbolic </SPAN></FONT><SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US><FONT class=extract>linker option specifies that references to global symbols within a shared library should be preferentially bound to definitions (if they exist) within that library.</FONT> (Note that, regardless of this option, calling </SPAN><SPAN style="FONT-FAMILY: NewBaskervilleEF-RomanIta; FONT-SIZE: 24pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: NewBaskervilleEF-RomanIta" lang=EN-US>xyz() </SPAN><SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>from the main program would always invoke the version of </SPAN><SPAN style="FONT-FAMILY: NewBaskervilleEF-RomanIta; FONT-SIZE: 24pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: NewBaskervilleEF-RomanIta" lang=EN-US>xyz() </SPAN><SPAN style="FONT-SIZE: 18.5pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>defined in the main program.)</SPAN>