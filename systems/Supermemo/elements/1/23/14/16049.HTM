<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#26816;&#26597;</SPAN><SPAN lang=EN-US><FONT face=Calibri> Linux </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#19979;&#32447;&#31243;&#24211;&#30340;&#31867;&#22411;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><FONT size=3><SPAN lang=EN-US><FONT face=Calibri>linux </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#19979;&#26377;</SPAN><SPAN lang=EN-US><FONT face=Calibri> linuxthreads </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#21644;</SPAN><SPAN lang=EN-US><FONT face=Calibri> NPTL</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#65292;</SPAN><SPAN lang=EN-US><FONT face=Calibri>nptl </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#27604;</SPAN><SPAN lang=EN-US><FONT face=Calibri> linuxthreads </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#20808;&#36827;&#65292;&#30446;&#21069;&#26032;&#20869;&#26680;&#37117;&#25903;&#25345;</SPAN><SPAN lang=EN-US><FONT face=Calibri> ntpl</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#65292;&#30456;&#24212;&#30340;</SPAN><SPAN lang=EN-US><FONT face=Calibri> glibc </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#20063;&#25903;&#25345;&#65292;&#36935;&#21040;&#32769;&#30340;&#26426;&#22120;&#65292;&#29992;&#30340;&#36824;&#26159;</SPAN><SPAN lang=EN-US><FONT face=Calibri> linuxthreads</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#65292;&#34429;&#28982;&#20108;&#32773;&#20108;&#36827;&#21046;&#20860;&#23481;&#65292;&#20294;&#26159;&#26576;&#20123;&#32454;&#33410;&#19978;&#36824;&#26159;&#19981;&#21516;&#65292;&#38382;&#39064;&#29616;&#23454;&#23384;&#22312;&#65292;&#26080;&#22856;&#20063;&#24471;&#35299;&#20915;&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#26041;&#27861;&#26159;&#29992;</SPAN><SPAN lang=EN-US><FONT face=Calibri> confstr </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#26469;&#35835;&#21462;&#31995;&#32479;&#30340;&#37197;&#32622;&#20449;&#24687;&#65306;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;</FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>#include &lt;unistd.h&gt;</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>static bool CheckNptl()</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>{</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>char buf[32];</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>confstr(_CS_GNU_LIBPTHREAD_VERSION, buf, sizeof(buf));</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>return strstr(buf, "NPTL") != NULL;</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>}</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>bool IsThreadLibNptl()</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>{</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><FONT size=3><SPAN lang=EN-US><FONT face=Calibri><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>static bool is_nptl = CheckNptl(); // </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#32531;&#23384;&#22312;&#38745;&#24577;&#23616;&#37096;&#21464;&#37327;&#20013;&#65292;</SPAN><SPAN lang=EN-US><FONT face=Calibri>gcc </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin">&#19979;&#38745;&#24577;&#23616;&#37096;&#21464;&#37327;&#30340;&#21021;&#22987;&#21270;&#40664;&#35748;&#24773;&#20917;&#19979;&#26159;&#32447;&#31243;&#23433;&#20840;&#30340;&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </SPAN>return is_nptl;</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN lang=EN-US><FONT face=Calibri><FONT size=3>}</FONT></FONT></SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: &#23435;&#20307;; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin"><FONT size=3>&#28982;&#21518;&#22312;&#20195;&#30721;&#20013;&#23601;&#33021;&#26041;&#20415;&#20351;&#29992;&#20102;&#12290;</FONT></SPAN><SPAN lang=EN-US></SPAN>