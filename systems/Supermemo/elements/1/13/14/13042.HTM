<DIV class=navheader style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<TABLE width="100%" summary="Navigation header">
<TBODY>
<TR>
<TH align=middle colSpan=3>4.13.&nbsp;Two's Complement</TH></TR>
<TR>
<TD align=left width="20%"><A accessKey=p href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch04s12.html">Prev</A>&nbsp;</TD>
<TH align=middle width="60%">Chapter&nbsp;4.&nbsp;Data Representation</TH>
<TD align=right width="20%">&nbsp;<A accessKey=n href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch04s14.html">Next</A></TD></TR></TBODY></TABLE>
<HR>
</DIV>
<DIV class=section title="4.13.&nbsp;Two's Complement" style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A name=id286956261></A>4.13.&nbsp;Two's Complement</H2></DIV></DIV></DIV>
<DIV class=section title=4.13.1.&nbsp;Format>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956265></A>4.13.1.&nbsp;Format</H3></DIV></DIV></DIV>
<P>The most common format used to represent signed integers in modern computers is<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM class=glossterm>two's complement</EM>.</P>
<P>A positive integer in two's complement always has a 0 in the leftmost bit (<EM class=glossterm>sign bit</EM>) and is represented the same way as an unsigned binary integer.</P><PRE class=screen>	+14<SUB>10</SUB> = 01110<SUB>two's comp</SUB>
	</PRE></DIV>
<DIV class=section title=4.13.2.&nbsp;Negation>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956289></A>4.13.2.&nbsp;Negation</H3></DIV></DIV></DIV>
<P>To negate a number, a process sometimes called<SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN class=quote>&#8220;<SPAN class=quote>taking the two's complement</SPAN>&#8221;</SPAN>, we invert all the bits and add one.</P><PRE class=screen>	-14<SUB>10</SUB> = 10001 + 1
	    = 10010<SUB>two's comp</SUB>
	</PRE>
<P>Note that the same process works for both positive and negative numbers. Subtracting one and inverting produces the same results as inverting and adding 1.</P>
<P>10010 - 1 = 10001, inverted = 01110 10010 inverted = 01101, + 1 = 01110</P><PRE class=screen>	-(0001) = 1110 + 1 = 1111
	-(1111) = 0000 + 1 = 0001
	-(1110) = 0001 + 1 = 0010
	-(0010) = 1101 + 1 = 1110
	-(1000) = 0111 + 1 = 1000   Ooops!
	</PRE>
<P>Convert the following 4-bit 2's comp values to decimal:</P><PRE class=screen>	0111 = +(1 + 2 + 4) = +7
	1000 = -(0111 + 1) = -(1000) = -8
	0110 = +(2 + 4) = +6
	1001 = -(0110 + 1) = -0111 = -(1 + 2 + 4) = -7
	1110 = -(0001 + 1) = -0010 = -2
	</PRE></DIV>
<DIV class=section title="4.13.3.&nbsp;Addition and Subtraction">
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956316></A>4.13.3.&nbsp;Addition and Subtraction</H3></DIV></DIV></DIV>
<P>Addition works exactly like unsigned addition. This means a computer that uses 2's complement to store signed integers can use the same adder circuit to do both signed and unsigned addition. Subtraction is done by negating and adding.</P><PRE class=screen>	Binary      Unsigned    2's comp
	    0 1
	    0101        5       +5
	+   1001    +   9   +   -7
	--------------------------------
	    1110       14       -2
	</PRE></DIV>
<DIV class=section title=4.13.4.&nbsp;Range>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956324></A>4.13.4.&nbsp;Range</H3></DIV></DIV></DIV>
<P>Two's complement essentially takes one bit away from the value for use as a sign bit. Since we have one fewer binary digit, the maximum value is 1/2 what it would be for an unsigned number with the same number of bits.</P>
<P>The largest positive value in N-bit two's complement is 0111...111, which is 2<SUP>N-1</SUP>-1.</P>
<P>The smallest negative value in N-bit two's complement is 1000...000, which is -2<SUP>N-1</SUP>.</P>
<DIV class=table><A name=twos_comp_table></A>
<P class=title><B>Table&nbsp;4.4.&nbsp;Two's Complement Integer Ranges</B></P>
<DIV class=table-contents>
<TABLE summary="Two's Complement Integer Ranges" border=1>
<COLGROUP>
<COL>
<COL></COLGROUP>
<THEAD>
<TR>
<TH align=left>Bits</TH>
<TH align=left>Range</TH></TR></THEAD>
<TBODY>
<TR>
<TD align=left>8</TD>
<TD align=left>-2<SUP>7</SUP>0 (-128) to +2<SUP>7</SUP>-1 (+127)</TD></TR>
<TR>
<TD align=left>16</TD>
<TD align=left>-2<SUP>15</SUP><SPAN class=Apple-converted-space>&nbsp;</SPAN>(-32,768) to +2<SUP>15</SUP>-1 (32,767)</TD></TR>
<TR>
<TD align=left>32</TD>
<TD align=left>-2<SUP>31</SUP><SPAN class=Apple-converted-space>&nbsp;</SPAN>(-2,147,483,648) to +2<SUP>31</SUP>-1 (+2,147,483,647)</TD></TR>
<TR>
<TD align=left>64</TD>
<TD align=left>-2<SUP>63</SUP><SPAN class=Apple-converted-space>&nbsp;</SPAN>(-9,223,372,036,854,775,808) to +2<SUP>63</SUP>-1 (9,223,372,036,854,775,807)</TD></TR></TBODY></TABLE></DIV></DIV><BR class=table-break></DIV>
<DIV class=section title=4.13.5.&nbsp;Comparison>
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956406></A>4.13.5.&nbsp;Comparison</H3></DIV></DIV></DIV>
<P>Comparison of two's complement values is not the same as unsigned comparison if the signs are different:</P><PRE class=screen>	A       B       Unsigned    Two's comp
	0111    0110    &gt;           &gt;
	1111    1000    &gt;           &gt;
	0111    1111    &lt;           &gt;
	</PRE>
<P>This is due to the fact that two's complement rearranges the binary patterns on the number line, so that the latter half of the patterns (those beginning with 1, are less than the first half).</P><PRE class=screen>	Unsigned    0       7       8       15
		    0000    0111    1000    1111
	Two's comp  0       +7      -8      -1      (out of sequence)
	</PRE></DIV>
<DIV class=section title="4.13.6.&nbsp;Overflow Detection">
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956453></A>4.13.6.&nbsp;Overflow Detection</H3></DIV></DIV></DIV>
<P>Overflow in two's complement is determined by a result with the wrong sign. I.e., if you add two positives and get a negative result, or add two negatives and get a positive.</P>
<P>It is not possible to get an overflow when adding numbers of oppositve signs!</P><PRE class=screen>	    111
	    0111    +7      0111    +7      1111    -1
	+   0011    +3      1000    -8      1000    -8    
	-----------------------------------------------------------------
	    1010    -6      1111    -1      0111    +7
	</PRE></DIV>
<DIV class=section title="4.13.7.&nbsp;Extension and Reduction">
<DIV class=titlepage>
<DIV>
<DIV>
<H3 class=title><A name=id286956462></A>4.13.7.&nbsp;Extension and Reduction</H3></DIV></DIV></DIV>
<P>Two's complement values are extended to larger formats by copying the sign bit to all new positions:</P><PRE class=screen>	4-bit       8-bit       16-bit              Decimal
	0111        00000111    0000000000000111    +7
	1110        11111110    1111111111111110    -2
	</PRE></DIV></DIV>
<DIV class=navfooter style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<HR>

<TABLE width="100%" summary="Navigation footer">
<TBODY>
<TR>
<TD align=left width="40%"><A accessKey=p href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch04s12.html">Prev</A>&nbsp;</TD>
<TD align=middle width="20%"><A accessKey=u href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch04.html">Up</A></TD>
<TD align=right width="40%">&nbsp;<A accessKey=n href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch04s14.html">Next</A></TD></TR>
<TR>
<TD vAlign=top align=left width="40%">4.12.&nbsp;One's complement&nbsp;</TD>
<TD align=middle width="20%"><A accessKey=h href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/index.html">Home</A></TD>
<TD vAlign=top align=right width="40%">&nbsp;4.14.&nbsp;Biased Notation</TD></TR></TBODY></TABLE></DIV>