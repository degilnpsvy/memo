<DIV class=navheader style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<TABLE width="100%" summary="Navigation header">
<TBODY>
<TR>
<TH align=middle colSpan=3>15.9.&nbsp;Enabling I/O Interrupts</TH></TR>
<TR>
<TD align=left width="20%"><A accessKey=p href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch15s08.html">Prev</A>&nbsp;</TD>
<TH align=middle width="60%">Chapter&nbsp;15.&nbsp;Exceptions</TH>
<TD align=right width="20%">&nbsp;<A accessKey=n href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch15s10.html">Next</A></TD></TR></TBODY></TABLE>
<HR>
</DIV>
<DIV class=section title="15.9.&nbsp;Enabling I/O Interrupts" style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<DIV class=titlepage>
<DIV>
<DIV>
<H2 class=title style="CLEAR: both"><A name=id286966584></A>15.9.&nbsp;Enabling I/O Interrupts</H2></DIV></DIV></DIV>
<P>Enabling interrupts on the MIPS processor involves two steps:</P>
<DIV class=procedure>
<OL class=procedure type=1>
<LI class=step title="Step 1">Tell the device to send interrupt signals. In SPIM, this means setting the interrupt enable bit in the receiver control register and/or the transmitter control register.</LI>
<LI class=step title="Step 2">Tell cp0 to accept interrupt signals. This is done by setting bits to enable specific interrupts and setting the global interrupt enable bit in the cp0 status register ($12). Bits 8-15 of the status register enable 8 different interrupt levels. Bits 3 and 4? of the mask (11 and 12 of the status register) enable keyboard and display interrupts, respectively.
<DIV class=note title=Note style="MARGIN-LEFT: 0.5in; MARGIN-RIGHT: 0.5in">
<H3 class=title>Note</H3>The book's example for enabling all interrupts does not follow good practice. It should be done using a read-modify-write cycle so that bits outside the mask are not altered.<PRE class=programlisting>		mfc0    $s1, $12
		ori     $s1, 0x0000ff00
		mtc0    $s1, $12
	    </PRE></DIV></LI></OL></DIV></DIV>
<DIV class=navfooter style="WORD-SPACING: 0px; FONT: medium Simsun; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); TEXT-INDENT: 0px; WHITE-SPACE: normal; LETTER-SPACING: normal; orphans: auto; widows: auto; -webkit-text-stroke-width: 0px">
<HR>

<TABLE width="100%" summary="Navigation footer">
<TBODY>
<TR>
<TD align=left width="40%"><A accessKey=p href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch15s08.html">Prev</A>&nbsp;</TD>
<TD align=middle width="20%"><A accessKey=u href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch15.html">Up</A></TD>
<TD align=right width="40%">&nbsp;<A accessKey=n href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/ch15s10.html">Next</A></TD></TR>
<TR>
<TD vAlign=top align=left width="40%">15.8.&nbsp;The Exception Handler&nbsp;</TD>
<TD align=middle width="20%"><A accessKey=h href="http://www.cs.uwm.edu/classes/cs315/Bacon/Lecture/HTML/index.html">Home</A></TD>
<TD vAlign=top align=right width="40%">&nbsp;15.10.&nbsp;Example Code Using Interrupts</TD></TR></TBODY></TABLE></DIV>