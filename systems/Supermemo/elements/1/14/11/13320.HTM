<A name=Bash-Startup-Files></A>
<H3 class=section>6.2 Bash Startup Files</H3><A name=index-startup-files></A>
<P>This section describes how Bash executes its startup files. If any of the files exist but cannot be read, Bash reports an error. Tildes are expanded in file names as described above under Tilde Expansion (see <A href="http://www.gnu.org/software/bash/manual/html_node/Tilde-Expansion.html#Tilde-Expansion">Tilde Expansion</A>). </P>
<P>Interactive shells are described in <A href="http://www.gnu.org/software/bash/manual/html_node/Interactive-Shells.html#Interactive-Shells">Interactive Shells</A>. </P><A name=Invoked-as-an-interactive-login-shell_002c-or-with-_002d_002dlogin></A>
<H4 class=subsubheading>Invoked as an interactive login shell, or with <SAMP>--login</SAMP></H4>
<P>When Bash is invoked as an interactive login shell, or as a non-interactive shell with the <SAMP>--login</SAMP> option, it first reads and executes commands from the file <SAMP>/etc/profile</SAMP>, if that file exists. After reading that file, it looks for <SAMP>~/.bash_profile</SAMP>, <SAMP>~/.bash_login</SAMP>, and <SAMP>~/.profile</SAMP>, in that order, and reads and executes commands from the first one that exists and is readable. The <SAMP>--noprofile</SAMP> option may be used when the shell is started to inhibit this behavior. </P>
<P>When a login shell exits, Bash reads and executes commands from the file <SAMP>~/.bash_logout</SAMP>, if it exists. </P><A name=Invoked-as-an-interactive-non_002dlogin-shell></A>
<H4 class=subsubheading>Invoked as an interactive non-login shell</H4>
<P>When an interactive shell that is not a login shell is started, Bash reads and executes commands from <SAMP>~/.bashrc</SAMP>, if that file exists. This may be inhibited by using the <SAMP>--norc</SAMP> option. The <SAMP>--rcfile <VAR>file</VAR></SAMP> option will force Bash to read and execute commands from <VAR>file</VAR> instead of <SAMP>~/.bashrc</SAMP>. </P>
<P>So, typically, your <SAMP>~/.bash_profile</SAMP> contains the line </P>
<DIV class=example><PRE class=example><CODE>if [ -f ~/.bashrc ]; then . ~/.bashrc; fi</CODE>
</PRE></DIV>
<P>after (or before) any login-specific initializations. </P><A name=Invoked-non_002dinteractively></A>
<H4 class=subsubheading>Invoked non-interactively</H4>
<P>When Bash is started non-interactively, to run a shell script, for example, it looks for the variable <CODE>BASH_ENV</CODE> in the environment, expands its value if it appears there, and uses the expanded value as the name of a file to read and execute. Bash behaves as if the following command were executed: </P>
<DIV class=example><PRE class=example><CODE>if [ -n "$BASH_ENV" ]; then . "$BASH_ENV"; fi</CODE>
</PRE></DIV>
<P>but the value of the <CODE>PATH</CODE> variable is not used to search for the file name. </P>
<P>As noted above, if a non-interactive shell is invoked with the <SAMP>--login</SAMP> option, Bash attempts to read and execute commands from the login shell startup files. </P><A name=Invoked-with-name-sh></A>
<H4 class=subsubheading>Invoked with name <CODE>sh</CODE></H4>
<P>If Bash is invoked with the name <CODE>sh</CODE>, it tries to mimic the startup behavior of historical versions of <CODE>sh</CODE> as closely as possible, while conforming to the <SMALL><FONT size=2>POSIX</FONT></SMALL> standard as well. </P>
<P>When invoked as an interactive login shell, or as a non-interactive shell with the <SAMP>--login</SAMP> option, it first attempts to read and execute commands from <SAMP>/etc/profile</SAMP> and <SAMP>~/.profile</SAMP>, in that order. The <SAMP>--noprofile</SAMP> option may be used to inhibit this behavior. When invoked as an interactive shell with the name <CODE>sh</CODE>, Bash looks for the variable <CODE>ENV</CODE>, expands its value if it is defined, and uses the expanded value as the name of a file to read and execute. Since a shell invoked as <CODE>sh</CODE> does not attempt to read and execute commands from any other startup files, the <SAMP>--rcfile</SAMP> option has no effect. A non-interactive shell invoked with the name <CODE>sh</CODE> does not attempt to read any other startup files. </P>
<P>When invoked as <CODE>sh</CODE>, Bash enters <SMALL><FONT size=2>POSIX</FONT></SMALL> mode after the startup files are read. </P><A name=Invoked-in-POSIX-mode></A>
<H4 class=subsubheading>Invoked in <SMALL>POSIX</SMALL> mode</H4>
<P>When Bash is started in <SMALL><FONT size=2>POSIX</FONT></SMALL> mode, as with the <SAMP>--posix</SAMP> command line option, it follows the <SMALL><FONT size=2>POSIX</FONT></SMALL> standard for startup files. In this mode, interactive shells expand the <CODE>ENV</CODE> variable and commands are read and executed from the file whose name is the expanded value. No other startup files are read. </P><A name=Invoked-by-remote-shell-daemon></A>
<H4 class=subsubheading>Invoked by remote shell daemon</H4>
<P>Bash attempts to determine when it is being run with its standard input connected to a network connection, as when executed by the remote shell daemon, usually <CODE>rshd</CODE>, or the secure shell daemon <CODE>sshd</CODE>. If Bash determines it is being run in this fashion, it reads and executes commands from <SAMP>~/.bashrc</SAMP>, if that file exists and is readable. It will not do this if invoked as <CODE>sh</CODE>. The <SAMP>--norc</SAMP> option may be used to inhibit this behavior, and the <SAMP>--rcfile</SAMP> option may be used to force another file to be read, but <CODE>rshd</CODE> does not generally invoke the shell with those options or allow them to be specified. </P><A name=Invoked-with-unequal-effective-and-real-UID_002fGIDs></A>
<H4 class=subsubheading>Invoked with unequal effective and real <SMALL>UID/GID</SMALL>s</H4>
<P>If Bash is started with the effective user (group) id not equal to the real user (group) id, and the <CODE>-p</CODE> option is not supplied, no startup files are read, shell functions are not inherited from the environment, the <CODE>SHELLOPTS</CODE>, <CODE>BASHOPTS</CODE>, <CODE>CDPATH</CODE>, and <CODE>GLOBIGNORE</CODE> variables, if they appear in the environment, are ignored, and the effective user id is set to the real user id. If the <CODE>-p</CODE> option is supplied at invocation, the startup behavior is the same, but the effective user id is not reset. </P>
<HR>

<DIV class=header>
<P>Next: <A accessKey=n href="http://www.gnu.org/software/bash/manual/html_node/Interactive-Shells.html#Interactive-Shells" rel=next>Interactive Shells</A>, Previous: <A accessKey=p href="http://www.gnu.org/software/bash/manual/html_node/Invoking-Bash.html#Invoking-Bash" rel=previous>Invoking Bash</A>, Up: <A accessKey=u href="http://www.gnu.org/software/bash/manual/html_node/Bash-Features.html#Bash-Features" rel=up>Bash Features</A> &nbsp; [<A title="Table of contents" href="http://www.gnu.org/software/bash/manual/html_node/index.html#SEC_Contents" rel=contents>Contents</A>][<A title=Index href="http://www.gnu.org/software/bash/manual/html_node/Indexes.html#Indexes" rel=index>Index</A>]</P></DIV>