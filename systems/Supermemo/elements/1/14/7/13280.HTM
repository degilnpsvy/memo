<A name=Tilde-Expansion></A>
<H4 class=subsection>3.5.2 Tilde Expansion</H4><A name=index-tilde-expansion></A><A name=index-expansion_002c-tilde></A>
<P>If a word begins with an unquoted tilde character (&#8216;<SAMP>~</SAMP>&#8217;), all of the characters up to the first unquoted slash (or all characters, if there is no unquoted slash) are considered a <VAR>tilde-prefix</VAR>. If none of the characters in the tilde-prefix are quoted, the characters in the tilde-prefix following the tilde are treated as a possible <VAR>login name</VAR>. If this login name is the null string, the tilde is replaced with the value of the <CODE>HOME</CODE> shell variable. If <CODE>HOME</CODE> is unset, the home directory of the user executing the shell is substituted instead. Otherwise, the tilde-prefix is replaced with the home directory associated with the specified login name. </P>
<P><FONT class=extract>If the tilde-prefix is &#8216;<SAMP>~+</SAMP>&#8217;, the value of the shell variable <CODE>PWD</CODE> replaces the tilde-prefix. If the tilde-prefix is &#8216;<SAMP>~-</SAMP>&#8217;, the value of the shell variable <CODE>OLDPWD</CODE>, if it is set, is substituted.</FONT> </P>
<P><FONT class=extract>If the characters following the tilde in the tilde-prefix consist of a number <VAR>N</VAR>, optionally prefixed by a &#8216;<SAMP>+</SAMP>&#8217; or a &#8216;<SAMP>-</SAMP>&#8217;, the tilde-prefix is replaced with the corresponding element from the directory stack, as it would be displayed by the <CODE>dirs</CODE> builtin invoked with the characters following tilde in the tilde-prefix as an argument (see </FONT><A href="http://www.gnu.org/software/bash/manual/html_node/The-Directory-Stack.html#The-Directory-Stack"><FONT class=extract>The Directory Stack</FONT></A><FONT class=extract>). If the tilde-prefix, sans the tilde, consists of a number without a leading &#8216;<SAMP>+</SAMP>&#8217; or &#8216;<SAMP>-</SAMP>&#8217;, &#8216;<SAMP>+</SAMP>&#8217; is assumed.</FONT> </P>
<P><FONT class=extract>If the login name is invalid, or the tilde expansion fails, the word is left unchanged.</FONT> </P>
<P><FONT class=extract>Each variable assignment is checked for unquoted tilde-prefixes immediately following a &#8216;<SAMP>:</SAMP>&#8217; or the first &#8216;<SAMP>=</SAMP>&#8217;. In these cases, tilde expansion is also performed. Consequently, one may use file names with tildes in assignments to <CODE>PATH</CODE>, <CODE>MAILPATH</CODE>, and <CODE>CDPATH</CODE>, and the shell assigns the expanded value.</FONT> </P>
<P><FONT class=extract>The following table shows how Bash treats unquoted tilde-prefixes: </FONT></P>
<DL compact>
<DT><FONT class=extract><CODE>~</CODE> </FONT>
<DD>
<P><FONT class=extract>The value of <CODE>$HOME</CODE> </FONT></P>
<DT><FONT class=extract><CODE>~/foo</CODE> </FONT>
<DD>
<P><FONT class=extract><SAMP>$HOME/foo</SAMP> </FONT></P>
<DT><FONT class=extract><CODE>~fred/foo</CODE> </FONT>
<DD>
<P><FONT class=extract>The subdirectory <CODE>foo</CODE> of the home directory of the user <CODE>fred</CODE> </FONT></P>
<DT><FONT class=extract><CODE>~+/foo</CODE> </FONT>
<DD>
<P><FONT class=extract><SAMP>$PWD/foo</SAMP> </FONT></P>
<DT><FONT class=extract><CODE>~-/foo</CODE> </FONT>
<DD>
<P><FONT class=extract><SAMP>${OLDPWD-'~-'}/foo</SAMP> </FONT></P>
<DT><FONT class=extract><CODE>~<VAR>N</VAR></CODE> </FONT>
<DD>
<P><FONT class=extract>The string that would be displayed by &#8216;<SAMP>dirs +<VAR>N</VAR></SAMP>&#8217; </FONT></P>
<DT><FONT class=extract><CODE>~+<VAR>N</VAR></CODE> </FONT>
<DD>
<P><FONT class=extract>The string that would be displayed by &#8216;<SAMP>dirs +<VAR>N</VAR></SAMP>&#8217; </FONT></P>
<DT><FONT class=extract><CODE>~-<VAR>N</VAR></CODE> </FONT>
<DD>
<P><FONT class=extract>The string that would be displayed by &#8216;<SAMP>dirs -<VAR>N</VAR></SAMP>&#8217; </FONT></P></DD></DL>
<HR>

<DIV class=header>
<P>Next: <A accessKey=n href="http://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html#Shell-Parameter-Expansion" rel=next>Shell Parameter Expansion</A>, Previous: <A accessKey=p href="http://www.gnu.org/software/bash/manual/html_node/Brace-Expansion.html#Brace-Expansion" rel=previous>Brace Expansion</A>, Up: <A accessKey=u href="http://www.gnu.org/software/bash/manual/html_node/Shell-Expansions.html#Shell-Expansions" rel=up>Shell Expansions</A> &nbsp; [<A title="Table of contents" href="http://www.gnu.org/software/bash/manual/html_node/index.html#SEC_Contents" rel=contents>Contents</A>][<A title=Index href="http://www.gnu.org/software/bash/manual/html_node/Indexes.html#Indexes" rel=index>Index</A>]</P></DIV>