<A name=Command-Execution-Environment></A>
<H4 class=subsection>3.7.3 Command Execution Environment</H4><A name=index-execution-environment></A>
<P><FONT class=extract>The shell has an <VAR>execution environment</VAR>, which consists of the following: </FONT></P>
<UL>
<LI><FONT class=extract>open files inherited by the shell at invocation, as modified by redirections supplied to the <CODE>exec</CODE> builtin </FONT>
<LI><FONT class=extract>the current working directory as set by <CODE>cd</CODE>, <CODE>pushd</CODE>, or <CODE>popd</CODE>, or inherited by the shell at invocation </FONT>
<LI><FONT class=extract>the file creation mode mask as set by <CODE>umask</CODE> or inherited from the shell&#8217;s parent </FONT>
<LI><FONT class=extract>current traps set by <CODE>trap</CODE> </FONT>
<LI><FONT class=extract>shell parameters that are set by variable assignment or with <CODE>set</CODE> or inherited from the shell&#8217;s parent in the environment </FONT>
<LI><FONT class=extract>shell functions defined during execution or inherited from the shell&#8217;s parent in the environment </FONT>
<LI><FONT class=extract>options enabled at invocation (either by default or with command-line arguments) or by <CODE>set</CODE> </FONT>
<LI><FONT class=extract>options enabled by <CODE>shopt</CODE> (see </FONT><A href="http://www.gnu.org/software/bash/manual/html_node/The-Shopt-Builtin.html#The-Shopt-Builtin"><FONT class=extract>The Shopt Builtin</FONT></A><FONT class=extract>) </FONT>
<LI><FONT class=extract>shell aliases defined with <CODE>alias</CODE> (see </FONT><A href="http://www.gnu.org/software/bash/manual/html_node/Aliases.html#Aliases"><FONT class=extract>Aliases</FONT></A><FONT class=extract>) </FONT>
<LI><FONT class=extract>various process <SMALL><FONT size=2>ID</FONT></SMALL>s, including those of background jobs (see </FONT><A href="http://www.gnu.org/software/bash/manual/html_node/Lists.html#Lists"><FONT class=extract>Lists</FONT></A><FONT class=extract>), the value of <CODE>$$</CODE>, and the value of <CODE>$PPID</CODE> </FONT></LI></UL>
<P><FONT class=extract>When a simple command other than a builtin or shell function is to be executed, it is invoked in a separate execution environment that consists of the following. Unless otherwise noted, the values are inherited from the shell. </FONT></P>
<UL>
<LI><FONT class=extract>the shell&#8217;s open files, plus any modifications and additions specified by redirections to the command </FONT>
<LI><FONT class=extract>the current working directory </FONT>
<LI><FONT class=extract>the file creation mode mask </FONT>
<LI><FONT class=extract>shell variables and functions marked for export, along with variables exported for the command, passed in the environment (see </FONT><A href="http://www.gnu.org/software/bash/manual/html_node/Environment.html#Environment"><FONT class=extract>Environment</FONT></A><FONT class=extract>) </FONT>
<LI><FONT class=extract>traps caught by the shell are reset to the values inherited from the shell&#8217;s parent, and traps ignored by the shell are ignored </FONT></LI></UL>
<P>A command invoked in this separate environment cannot affect the shell&#8217;s execution environment. </P>
<P><FONT class=extract>Command substitution, commands grouped with parentheses, and asynchronous commands are invoked in a subshell environment that is a duplicate of the shell environment, except that traps caught by the shell are reset to the values that the shell inherited from its parent at invocation. Builtin commands that are invoked as part of a pipeline are also executed in a subshell environment. Changes made to the subshell environment cannot affect the shell&#8217;s execution environment. </FONT></P>
<P><FONT class=extract>Subshells spawned to execute command substitutions inherit the value of the <SAMP>-e</SAMP> option from the parent shell. When not in <SMALL><FONT size=2>POSIX</FONT></SMALL> mode, Bash clears the <SAMP>-e</SAMP> option in such subshells. </FONT></P>
<P><FONT class=extract>If a command is followed by a &#8216;<SAMP>&amp;</SAMP>&#8217; and job control is not active, the default standard input for the command is the empty file <SAMP>/dev/null</SAMP>. Otherwise, the invoked command inherits the file descriptors of the calling shell as modified by redirections. </FONT></P>
<HR>

<DIV class=header>
<P>Next: <A accessKey=n href="http://www.gnu.org/software/bash/manual/html_node/Environment.html#Environment" rel=next>Environment</A>, Previous: <A accessKey=p href="http://www.gnu.org/software/bash/manual/html_node/Command-Search-and-Execution.html#Command-Search-and-Execution" rel=previous>Command Search and Execution</A>, Up: <A accessKey=u href="http://www.gnu.org/software/bash/manual/html_node/Executing-Commands.html#Executing-Commands" rel=up>Executing Commands</A> &nbsp; [<A title="Table of contents" href="http://www.gnu.org/software/bash/manual/html_node/index.html#SEC_Contents" rel=contents>Contents</A>][<A title=Index href="http://www.gnu.org/software/bash/manual/html_node/Indexes.html#Indexes" rel=index>Index</A>]</P></DIV>