your software must actively invalidate any caches&#8217; lines that fall within the address range covered by your DMA buffer, before there&#8217;s any chance that the CPU will try to refer to them again. This is much easier to manage if you round out all your DMA buffers so they start and end exactly at cache line boundaries. 
<P></P>
<P></P>
<P>For outbound transfers, before you allow a DMA device to transfer data from memory&#8212;such as a packet that you&#8217;re sending out via a network interface&#8212;you must make absolutely sure that none of the data to be sent is still just sitting in the cache. After your software has finished writing out the information to be transferred by DMA, it must force the write-back of all cache lines currently holding information within the address range that the DMA controller will use for the transfer. Only then can you safely initiate the DMA transfer.