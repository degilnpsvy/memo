--- 3.6 Descending down in directories 
<P></P>
<P>&nbsp;A Makefile is only responsible for building objects in its own<BR>&nbsp;directory. Files in subdirectories should be taken care of by<BR>&nbsp;Makefiles in these subdirs. The build system will automatically<BR>&nbsp;invoke make recursively in subdirectories, provided you let it know of<BR>&nbsp;them.</P>
<P>&nbsp;To do so, obj-y and obj-m are used.<BR>&nbsp;ext2 lives in a separate directory, and the Makefile present in fs/<BR>&nbsp;tells kbuild to descend down using the following assignment.</P>
<P>&nbsp;Example:<BR>&nbsp;&nbsp;#fs/Makefile<BR>&nbsp;&nbsp;obj-$(CONFIG_EXT2_FS) += ext2/</P>
<P>&nbsp;If CONFIG_EXT2_FS is set to either 'y' (built-in) or 'm' (modular)<BR>&nbsp;the corresponding obj- variable will be set, and kbuild will descend<BR>&nbsp;down in the ext2 directory.<BR>&nbsp;Kbuild only uses this information to decide that it needs to visit<BR>&nbsp;the directory, it is the Makefile in the subdirectory that<BR>&nbsp;specifies what is modules and what is built-in.</P>
<P>&nbsp;It is good practice to use a CONFIG_ variable when assigning directory<BR>&nbsp;names. This allows kbuild to totally skip the directory if the<BR>&nbsp;corresponding CONFIG_ option is neither 'y' nor 'm'.