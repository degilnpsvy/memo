&#27880;&#37322;&#30340;&#24847;&#24605;&#26159;&#35828;&#65306;&#8220;&#38450;&#27490;&#32534;&#35793;&#22120;&#23558;&#19981;&#21516;&#30340;__key&#23454;&#20363;&#21512;&#24182;&#25104;&#21516;&#19968;&#20010;&#8221;</P>
<P>&#22914;&#26524;&#26159;&#65306; </P>
<P>void class_register(class) </P>
<P>{ static struct lock_class_key __key; </P>
<P>__class_register(class, &amp;__key); } </P>
<P>void A() { class_register(XXX); } </P>
<P>void B() { class_register(XXX); } </P>
<P>&#37027;&#20040;A&#21644;B&#23454;&#38469;&#19978;&#37117;&#20351;&#29992;&#21516;&#19968;&#20010;__key&#30340;&#23454;&#20363;&#65292;&#22240;&#20026;&#36825;&#20010;__key&#26159;&#22312;class_register&#37324;&#38754;&#30003;&#26126;&#30340;&#12290; &#32780;&#22914;&#26524;&#26159;define&#65292;A&#21644;B&#23558;&#20351;&#29992;&#19981;&#21516;&#30340;__key&#30340;&#23454;&#20363;&#65292;&#22240;&#20026;&#23439;&#23637;&#24320;&#21518;&#65292;__key&#20998;&#21035;&#22312;A&#21644;B&#37324;&#38754;&#37117;&#30003;&#26126;&#20102;&#12290;&#20294;&#26159;&#65292;&#24403;&#28982;&#65292;&#22914;&#26524;&#26377;N&#20010;&#20989;&#25968;&#37117;&#35843;&#29992;&#20102;A&#65292;&#37027;&#20040;&#23427;&#20204;&#36824;&#26159;&#20849;&#21516;&#20351;&#29992;&#20102;A&#37324;&#38754;&#30003;&#26126;&#30340;&#37027;&#20010;__key&#30340;&#23454;&#20363;&#12290; &#24456;&#32469;......</TD></TR></TBODY></TABLE>