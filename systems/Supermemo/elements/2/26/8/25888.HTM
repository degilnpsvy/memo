/**<BR>&nbsp;* Use these macros to make defining attributes easier. See include/linux/device.h<BR>&nbsp;* for examples..<BR>&nbsp;*/ 
<P></P>
<P>#define SYSFS_PREALLOC 010000</P>
<P><FONT class=extract>#define __ATTR(_name, _mode, _show, _store) {&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.attr = {.name = __stringify(_name),&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;&nbsp; .mode = VERIFY_OCTAL_PERMISSIONS(_mode) },&nbsp;&nbsp;\<BR>&nbsp;.show&nbsp;= _show,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.store&nbsp;= _store,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>}</FONT></P>
<P><FONT class=extract>#define __ATTR_PREALLOC(_name, _mode, _show, _store) {&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.attr = {.name = __stringify(_name),&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;&nbsp; .mode = SYSFS_PREALLOC | VERIFY_OCTAL_PERMISSIONS(_mode) },\<BR>&nbsp;.show&nbsp;= _show,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.store&nbsp;= _store,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>}</FONT></P>
<P><FONT class=extract>#define __ATTR_RO(_name) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.attr&nbsp;= { .name = __stringify(_name), .mode = S_IRUGO },&nbsp;\<BR>&nbsp;.show&nbsp;= _name##_show,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>}</FONT></P>
<P><FONT class=extract>#define __ATTR_WO(_name) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.attr&nbsp;= { .name = __stringify(_name), .mode = S_IWUSR },&nbsp;\<BR>&nbsp;.store&nbsp;= _name##_store,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>}</FONT></P>
<P><FONT class=extract>#define __ATTR_RW(_name) __ATTR(_name, (S_IWUSR | S_IRUGO),&nbsp;&nbsp;\<BR>&nbsp;&nbsp;&nbsp; _name##_show, _name##_store)</FONT></P>
<P><FONT class=extract>#define __ATTR_NULL { .attr = { .name = NULL } }</FONT></P>
<P><FONT class=extract>#ifdef CONFIG_DEBUG_LOCK_ALLOC<BR>#define __ATTR_IGNORE_LOCKDEP(_name, _mode, _show, _store) {&nbsp;\<BR>&nbsp;.attr = {.name = __stringify(_name), .mode = _mode,&nbsp;\<BR>&nbsp;&nbsp;&nbsp;.ignore_lockdep = true },&nbsp;&nbsp;\<BR>&nbsp;.show&nbsp;&nbsp;= _show,&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;.store&nbsp;&nbsp;= _store,&nbsp;&nbsp;&nbsp;&nbsp;\<BR>}<BR>#else<BR>#define __ATTR_IGNORE_LOCKDEP&nbsp;__ATTR<BR>#endif</FONT></P>
<P><FONT class=extract>#define __ATTRIBUTE_GROUPS(_name)&nbsp;&nbsp;&nbsp;&nbsp;\<BR>static const struct attribute_group *_name##_groups[] = {&nbsp;\<BR>&nbsp;&amp;_name##_group,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>&nbsp;NULL,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>}</FONT></P>
<P><FONT class=extract>#define ATTRIBUTE_GROUPS(_name)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>static const struct attribute_group _name##_group = {&nbsp;&nbsp;\<BR>&nbsp;.attrs = _name##_attrs,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>};&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\<BR>__ATTRIBUTE_GROUPS(_name)</FONT>