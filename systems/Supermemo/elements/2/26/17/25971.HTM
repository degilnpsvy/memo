<H5>&#20877;&#35848;Subsystem </H5>
<P>&#22312;&#26087;&#30340;Linux&#20869;&#26680;&#29256;&#26412;&#20013;&#65288;&#20197;&#34583;&#34583;&#20351;&#29992;&#30340;linux2.6.23&#29256;&#26412;&#30340;&#20869;&#26680;&#20026;&#20363;&#65289;&#65292;sysfs&#19979;&#25152;&#26377;&#30340;&#39030;&#23618;&#30446;&#24405;&#65288;&#21253;&#25324;&#19968;&#20123;&#20108;&#32423;&#30446;&#24405;&#65289;&#37117;&#26159;&#20197;&#35843;&#29992;subsystem_register&#25509;&#21475;&#65292;&#20197;sub-system&#30340;&#24418;&#24335;&#27880;&#20876;&#21040;&#20869;&#26680;&#30340;&#65292;&#22914;&#65306; </P>
<BLOCKQUOTE>
<P>/sys/bus/ </P>
<P>/sys/devices/ </P>
<P>/sys/devices/system/ </P>
<P>/sys/block </P>
<P>/sys/kernel/ </P>
<P>/sys/slab/ </P>
<P>&#8230; </P><SPAN style="BACKGROUND-COLOR: rgb(255,255,255)"></SPAN></BLOCKQUOTE>
<P>&#37027;&#26102;&#30340;subsystem_register&#30340;&#23454;&#29616;&#24456;&#31616;&#21333;&#65292;&#23601;&#26159;&#35843;&#29992;kset_register&#65292;&#21019;&#24314;&#19968;&#20010;kset&#12290;&#25105;&#20204;&#30693;&#36947;&#65292;kset&#23601;&#26159;&#19968;&#22534;kobject&#30340;&#38598;&#21512;&#65292;&#24182;&#20250;&#22312;sysfs&#20013;&#20197;&#30446;&#24405;&#30340;&#24418;&#24335;&#21576;&#29616;&#20986;&#26469;&#12290; </P>
<P>&#22312;&#26032;&#29256;&#26412;&#30340;&#20869;&#26680;&#20013;&#65288;&#22914;<A href="http://www.wowotech.net/linux_kenrel/11.html">&#8220;Linux&#20869;&#26680;&#20998;&#26512;&#8221;&#31995;&#21015;&#25991;&#31456;</A>&#25152;&#21442;&#32771;&#30340;linux3.10.29&#65289;&#65292;subsystem&#30340;&#23454;&#29616;&#26377;&#20102;&#24456;&#22823;&#21464;&#21270;&#65292;&#20363;&#22914;&#65306;&#21435;&#25481;&#20102;subsystem_register&#25509;&#21475;&#65288;&#20294;&#20026;&#20102;&#20860;&#23481;/sys/device/system&#23376;&#31995;&#32479;&#65292;&#22312;drivers/base/bus.c&#20013;&#65292;&#22686;&#21152;&#20102;&#19968;&#20010;subsys_register&#30340;&#20869;&#37096;&#25509;&#21475;&#65292;&#29992;&#20110;&#23454;&#29616;&#30456;&#24212;&#30340;&#21151;&#33021;&#65289;&#12290;&#26681;&#25454;&#36825;&#20123;&#21464;&#21270;&#65292;&#29616;&#22312;&#27880;&#20876;subsystem&#26377;&#20004;&#31181;&#26041;&#24335;&#65306; </P>
<P>&#26041;&#24335;&#19968;&#65292;&#22312;&#21508;&#33258;&#30340;&#21021;&#22987;&#21270;&#20989;&#25968;&#20013;&#65292;&#35843;&#29992;kset_create_and_add&#25509;&#21475;&#65292;&#21019;&#24314;&#23545;&#24212;&#30340;&#23376;&#31995;&#32479;&#65292;&#21253;&#25324;&#65306; </P>
<UL>
<LI>bus&#23376;&#31995;&#32479;&#65292;/sys/bus/&#65292;buses_init&#65288;drivers/base/bus.c&#65289; 
<LI>class&#23376;&#31995;&#32479;&#65292;/sys/class 
<LI>kernel&#23376;&#31995;&#32479;&#65292;/sys/kernel 
<LI>firmware&#23376;&#31995;&#32479;&#65292;/sys/firmware 
<LI>&#31561;&#31561; </LI></UL>
<P>&#20854;&#20013;bus&#23376;&#31995;&#32479;&#23601;&#26159;&#26412;&#25991;&#25152;&#35762;&#30340;Bus&#27169;&#22359;&#65292;&#32780;&#20854;&#23427;&#30340;&#65292;&#25105;&#20204;&#20250;&#22312;&#21518;&#32493;&#30340;&#25991;&#31456;&#20013;&#38470;&#32493;&#35762;&#36848;&#12290;&#36825;&#20010;&#26041;&#24335;&#21644;&#26087;&#29256;&#26412;&#20869;&#26680;&#20351;&#29992;kset_register&#25509;&#21475;&#30340;&#26041;&#24335;&#22522;&#26412;&#19968;&#26679;&#12290; </P>
<P>&#26041;&#24335;&#20108;&#65292;&#22312;bus&#27169;&#22359;&#20013;&#65292;&#21033;&#29992;subsys_register&#25509;&#21475;&#65292;&#23553;&#35013;&#20986;&#20004;&#20010;API&#65306;subsys_system_register&#21644;subsys_virtual_register&#65292;&#20998;&#21035;&#29992;&#20110;&#27880;&#20876;system&#35774;&#22791;(/sys/devices/system/*)&#21644;virtual&#35774;&#22791;(/sys/devices/virtual/*)&#12290; &#32780;&#35813;&#26041;&#24335;&#21644;&#26041;&#24335;&#19968;&#30340;&#21306;&#21035;&#26159;&#65306;<SPAN style="COLOR: rgb(255,0,0)">&#23427;&#19981;&#20165;&#20165;&#21019;&#24314;&#20102;sysfs&#20013;&#30340;&#30446;&#24405;&#65292;&#21516;&#26102;&#20250;&#27880;&#20876;&#21516;&#21517;&#30340;bus&#21644;device</SPAN>&#12290;