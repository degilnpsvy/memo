subsys interface 
<P></P>
<P>subsys interface&#26159;&#19968;&#20010;&#24456;&#22855;&#24618;&#30340;&#19996;&#35199;&#65292;&#38500;&#38750;&#26377;&#19968;&#20010;&#20363;&#23376;&#65292;&#21542;&#21017;&#24456;&#38590;&#29702;&#35299;&#12290;&#20195;&#30721;&#20013;&#26159;&#36825;&#26679;&#27880;&#37322;&#30340;&#65306; </P>
<P>Interfaces usually represent a specific functionality of a subsystem/class of devices. </P>
<P>&#23383;&#38754;&#19978;&#29702;&#35299;&#65292;&#23427;&#25277;&#35937;&#20102;bus&#19979;&#25152;&#26377;&#35774;&#22791;&#30340;&#19968;&#20123;&#29305;&#23450;&#21151;&#33021;&#12290; </P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5">kernel&#20351;&#29992;struct subsys_interface&#32467;&#26500;&#25277;&#35937;subsys interface&#65292;&#24182;&#25552;&#20379;&#20102;subsys_interface_register/subsys_interface_unregister&#29992;&#20110;&#27880;&#20876;/&#27880;&#38144;subsys interface&#65292;bus&#19979;&#25152;&#26377;&#30340;interface&#37117;&#25346;&#36733;&#22312;struct subsys_private&#21464;&#37327;&#30340;&#8220;interface&#8221;&#38142;&#34920;&#19978;&#65288;&#20855;&#20307;&#21487;&#21442;&#32771;2.2&#23567;&#33410;&#30340;&#25551;&#36848;&#65289;&#12290;struct subsys_interface&#30340;&#23450;&#20041;&#22914;&#19979;&#65306; </SPAN></P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#296" name=296><FONT size=4>296</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#297" name=297><FONT size=4>297</FONT></A><FONT size=4> * struct subsys_interface - interfaces to device functions
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#298" name=298><FONT size=4>298</FONT></A><FONT size=4> * @name:       name of the device function
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#299" name=299><FONT size=4>299</FONT></A><FONT size=4> * @subsys:     subsytem of the devices to attach to
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#300" name=300><FONT size=4>300</FONT></A><FONT size=4> * @node:       the list of functions registered at the subsystem
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#301" name=301><FONT size=4>301</FONT></A><FONT size=4> * @add_dev:    device hookup to device function handler
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#302" name=302><FONT size=4>302</FONT></A><FONT size=4> * @remove_dev: device hookup to device function handler
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#303" name=303><FONT size=4>303</FONT></A><FONT size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#304" name=304><FONT size=4>304</FONT></A><FONT size=4> * Simple interfaces attached to a subsystem. Multiple interfaces can
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#305" name=305><FONT size=4>305</FONT></A><FONT size=4> * attach to a subsystem and its devices. Unlike drivers, they do not
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#306" name=306><FONT size=4>306</FONT></A><FONT size=4> * exclusively claim or control devices. Interfaces usually represent
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#307" name=307><FONT size=4>307</FONT></A><FONT size=4> * a specific functionality of a </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=subsystem/"><FONT size=4>subsystem</FONT></A><FONT size=4>/</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=subsystem/class"><FONT size=4>class</FONT></A><FONT size=4> of devices.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#308" name=308><FONT size=4>308</FONT></A><FONT size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#309" name=309><FONT size=4>309</FONT></A><FONT size=4><B>struct</B> </FONT><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" name=subsys_interface></A><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" href="http://172.21.12.145:8080/source/s?refs=subsys_interface&amp;project=linux-4.1"><FONT size=4>subsys_interface</FONT></A><FONT size=4> {
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#310" name=310><FONT size=4>310</FONT></A><FONT size=4>	<B>const</B> <B>char</B> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=name></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#311" name=311><FONT size=4>311</FONT></A><FONT size=4>	<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#bus_type"><FONT size=4>bus_type</FONT></A><FONT size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=subsys></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=subsys&amp;project=linux-4.1"><FONT size=4>subsys</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#312" name=312><FONT size=4>312</FONT></A><FONT size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=list_head&amp;project=linux-4.1"><FONT size=4>list_head</FONT></A><FONT size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=node></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=node&amp;project=linux-4.1"><FONT size=4>node</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#313" name=313><FONT size=4>313</FONT></A><FONT size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=add_dev></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=add_dev&amp;project=linux-4.1"><FONT size=4>add_dev</FONT></A><FONT size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT size=4>device</FONT></A><FONT size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>, <B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#subsys_interface"><FONT size=4>subsys_interface</FONT></A><FONT size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sif&amp;project=linux-4.1"><FONT size=4>sif</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#314" name=314><FONT size=4>314</FONT></A><FONT size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=remove_dev></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=remove_dev&amp;project=linux-4.1"><FONT size=4>remove_dev</FONT></A><FONT size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT size=4>device</FONT></A><FONT size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>, <B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#subsys_interface"><FONT size=4>subsys_interface</FONT></A><FONT size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sif&amp;project=linux-4.1"><FONT size=4>sif</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#315" name=315><FONT size=4>315</FONT></A><FONT size=4>};</FONT></PRE></SPAN>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"></SPAN><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5">name&#65292;interface&#30340;&#21517;&#31216;&#12290; </SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5">subsys&#65292;interface&#25152;&#23646;&#30340;bus&#12290; </SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5">node&#65292;&#29992;&#20110;&#23558;interface&#25346;&#21040;bus&#20013;&#12290; </SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract>add_dev/remove_dev&#65292;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;subsys interface&#30340;&#26680;&#24515;&#21151;&#33021;&#12290;&#24403;bus&#19979;&#26377;&#35774;&#22791;&#22686;&#21152;&#25110;&#32773;&#21024;&#38500;&#30340;&#26102;&#20505;&#65292;bus core&#20250;&#35843;&#29992;&#23427;&#19979;&#38754;&#25152;&#26377;subsys interface&#30340;add_dev&#25110;&#32773;remove_dev&#22238;&#35843;&#12290;&#35774;&#35745;&#32773;&#21487;&#20197;&#22312;&#36825;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#20013;&#23454;&#29616;&#25152;&#38656;&#21151;&#33021;&#65292;&#20363;&#22914;&#32465;&#23450;&#35813;&#8220;specific functionality&#8221;&#25152;&#23545;&#24212;&#30340;driver&#65292;&#31561;&#31561;&#12290;</FONT> </SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5">subsys interface&#30340;&#23454;&#29616;&#36923;&#36753;&#27604;&#36739;&#31616;&#21333;&#65292;&#36825;&#37324;&#19981;&#20877;&#35814;&#32454;&#25551;&#36848;&#20102;&#65292;&#20855;&#20307;&#21487;&#21442;&#32771;&#8220;drivers/base/bus.c&#8221;&#20013;&#30456;&#24212;&#30340;&#20195;&#30721;&#12290;&#21478;&#22806;&#65292;&#21518;&#32493;&#20998;&#26512;cpufreq framework&#30340;&#26102;&#20505;&#65292;&#20250;&#36935;&#21040;&#20351;&#29992;subsys interface&#30340;&#20363;&#23376;&#65292;&#21040;&#26102;&#20505;&#25105;&#20204;&#20877;&#36827;&#19968;&#27493;&#29702;&#35299;&#23427;&#30340;&#29616;&#23454;&#24847;&#20041;&#12290; </SPAN>