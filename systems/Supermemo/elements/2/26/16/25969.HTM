<H5>device&#21644;device_driver&#30340;&#28155;&#21152; </H5>
<P>&#25105;&#20204;&#26377;&#22312;"<A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html">Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</A>&#8221;&#20013;&#35762;&#36807;&#65292;<FONT class=extract>&#20869;&#26680;&#25552;&#20379;&#20102;device_register&#21644;driver_register&#20004;&#20010;&#25509;&#21475;&#65292;&#20379;&#21508;&#20010;driver&#27169;&#22359;&#20351;&#29992;&#12290;&#32780;&#36825;&#20004;&#20010;&#25509;&#21475;&#30340;&#26680;&#24515;&#36923;&#36753;&#65292;&#26159;&#36890;&#36807;bus&#27169;&#22359;&#30340;bus_add_device&#21644;bus_add_driver&#23454;&#29616;&#30340;</FONT>&#65292;&#19979;&#38754;&#25105;&#20204;&#30475;&#30475;&#36825;&#20004;&#20010;&#25509;&#21475;&#30340;&#22788;&#29702;&#36923;&#36753;&#12290; </P>
<P>&#36825;&#20004;&#20010;&#25509;&#21475;&#37117;&#26159;&#22312;drivers/base/base.h&#20013;&#22768;&#26126;&#65292;&#22312;drivers/base/bus.c&#20013;&#23454;&#29616;&#65292;&#20854;&#21407;&#22411;&#20026;&#65306; </P><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN class=c style="COLOR: rgb(102,102,102)"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#499" name=499><FONT size=4>499</FONT></A><FONT size=4> * bus_add_device - add device to bus
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#500" name=500><FONT size=4>500</FONT></A><FONT size=4> * @dev: device being added
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#501" name=501><FONT size=4>501</FONT></A><FONT size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#502" name=502><FONT size=4>502</FONT></A><FONT size=4> * - Add device's bus attributes.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#503" name=503><FONT size=4>503</FONT></A><FONT size=4> * - Create links to device's bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#504" name=504><FONT size=4>504</FONT></A><FONT size=4> * - Add the device to its bus's list of devices.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#505" name=505><FONT size=4>505</FONT></A><FONT size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#506" name=506><FONT size=4>506</FONT></A><FONT size=4><B>int</B> </FONT><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" name=bus_add_device></A><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" href="http://172.21.12.145:8080/source/s?refs=bus_add_device&amp;project=linux-4.1"><FONT size=4>bus_add_device</FONT></A><FONT size=4>(<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device&amp;project=linux-4.1"><FONT size=4>device</FONT></A><FONT size=4> *</FONT><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" name=dev></A><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" href="http://172.21.12.145:8080/source/s?refs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#507" name=507><FONT size=4>507</FONT></A><FONT size=4>{
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#508" name=508><FONT size=4>508</FONT></A><FONT size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_type&amp;project=linux-4.1"><FONT size=4>bus_type</FONT></A><FONT size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=bus></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_get"><FONT size=4>bus_get</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>-&gt;</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=bus></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#509" name=509><FONT size=4>509</FONT></A><FONT size=4>	<B>int</B> </FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=error></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = 0;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#510" name=510><FONT size=4>510</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#511" name=511><FONT size=4>511</FONT></A><FONT size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#512" name=512><FONT size=4>512</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=pr_debug&amp;project=linux-4.1"><FONT size=4>pr_debug</FONT></A><FONT size=4>(<SPAN class=s style="COLOR: green">"bus: '%s': add device %s\n"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_name&amp;project=linux-4.1"><FONT size=4>dev_name</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>));
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#513" name=513><FONT size=4>513</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#device_add_attrs"><FONT size=4>device_add_attrs</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#514" name=514><FONT size=4>514</FONT></A><FONT size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#515" name=515><FONT size=4>515</FONT></A><FONT size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put&amp;project=linux-4.1"><FONT size=4>out_put</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#516" name=516><FONT size=4>516</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device_add_groups&amp;project=linux-4.1"><FONT size=4>device_add_groups</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_groups&amp;project=linux-4.1"><FONT size=4>dev_groups</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#517" name=517><FONT size=4>517</FONT></A><FONT size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#518" name=518><FONT size=4>518</FONT></A><FONT size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_id&amp;project=linux-4.1"><FONT size=4>out_id</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#519" name=519><FONT size=4>519</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sysfs_create_link&amp;project=linux-4.1"><FONT size=4>sysfs_create_link</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT size=4>devices_kset</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>,
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#520" name=520><FONT size=4>520</FONT></A><FONT size=4>						&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_name&amp;project=linux-4.1"><FONT size=4>dev_name</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>));
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#521" name=521><FONT size=4>521</FONT></A><FONT size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#522" name=522><FONT size=4>522</FONT></A><FONT size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_groups&amp;project=linux-4.1"><FONT size=4>out_groups</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#523" name=523><FONT size=4>523</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sysfs_create_link&amp;project=linux-4.1"><FONT size=4>sysfs_create_link</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#524" name=524><FONT size=4>524</FONT></A><FONT size=4>				&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT size=4>subsys</FONT></A><FONT size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>, <SPAN class=s style="COLOR: green">"subsystem"</SPAN>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#525" name=525><FONT size=4>525</FONT></A><FONT size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#526" name=526><FONT size=4>526</FONT></A><FONT size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_subsys&amp;project=linux-4.1"><FONT size=4>out_subsys</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#527" name=527><FONT size=4>527</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_add_tail&amp;project=linux-4.1"><FONT size=4>klist_add_tail</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=knode_bus&amp;project=linux-4.1"><FONT size=4>knode_bus</FONT></A><FONT size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_devices&amp;project=linux-4.1"><FONT size=4>klist_devices</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#528" name=528><FONT size=4>528</FONT></A><FONT size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#529" name=529><FONT size=4>529</FONT></A><FONT size=4>	<B>return</B> 0;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#530" name=530><FONT size=4>530</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#531" name=531><FONT size=4>531</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_subsys&amp;project=linux-4.1"><FONT size=4>out_subsys</FONT></A><FONT size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#532" name=532><FONT size=4>532</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sysfs_remove_link&amp;project=linux-4.1"><FONT size=4>sysfs_remove_link</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT size=4>devices_kset</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_name&amp;project=linux-4.1"><FONT size=4>dev_name</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>));
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#533" name=533><FONT size=4>533</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_groups&amp;project=linux-4.1"><FONT size=4>out_groups</FONT></A><FONT size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#534" name=534><FONT size=4>534</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device_remove_groups&amp;project=linux-4.1"><FONT size=4>device_remove_groups</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_groups&amp;project=linux-4.1"><FONT size=4>dev_groups</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#535" name=535><FONT size=4>535</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_id&amp;project=linux-4.1"><FONT size=4>out_id</FONT></A><FONT size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#536" name=536><FONT size=4>536</FONT></A><FONT size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#device_remove_attrs"><FONT size=4>device_remove_attrs</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#537" name=537><FONT size=4>537</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put&amp;project=linux-4.1"><FONT size=4>out_put</FONT></A><FONT size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#538" name=538><FONT size=4>538</FONT></A><FONT size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_put"><FONT size=4>bus_put</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT size=4>dev</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#539" name=539><FONT size=4>539</FONT></A><FONT size=4>	<B>return</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#540" name=540><FONT size=4>540</FONT></A><FONT size=4>}</FONT></PRE><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#662" name=662><FONT size=4>662</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#663" name=663><FONT size=4>663</FONT></A><FONT size=4> * bus_add_driver - Add a driver to the bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#664" name=664><FONT size=4>664</FONT></A><FONT size=4> * @drv: driver.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#665" name=665><FONT size=4>665</FONT></A><FONT size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#666" name=666><FONT size=4>666</FONT></A><FONT size=4><B>int</B> </FONT><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" name=bus_add_driver></A><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" href="http://172.21.12.145:8080/source/s?refs=bus_add_driver&amp;project=linux-4.1"><FONT size=4>bus_add_driver</FONT></A><FONT size=4>(<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device_driver&amp;project=linux-4.1"><FONT size=4>device_driver</FONT></A><FONT size=4> *</FONT><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" name=drv></A><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" href="http://172.21.12.145:8080/source/s?refs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#667" name=667><FONT size=4>667</FONT></A><FONT size=4>{
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#668" name=668><FONT size=4>668</FONT></A><FONT size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_type&amp;project=linux-4.1"><FONT size=4>bus_type</FONT></A><FONT size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=bus></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#669" name=669><FONT size=4>669</FONT></A><FONT size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_private&amp;project=linux-4.1"><FONT size=4>driver_private</FONT></A><FONT size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=priv></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#670" name=670><FONT size=4>670</FONT></A><FONT size=4>	<B>int</B> </FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=error></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = 0;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#671" name=671><FONT size=4>671</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#672" name=672><FONT size=4>672</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_get"><FONT size=4>bus_get</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#673" name=673><FONT size=4>673</FONT></A><FONT size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#674" name=674><FONT size=4>674</FONT></A><FONT size=4>		<B>return</B> -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=EINVAL&amp;project=linux-4.1"><FONT size=4>EINVAL</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#675" name=675><FONT size=4>675</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#676" name=676><FONT size=4>676</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=pr_debug&amp;project=linux-4.1"><FONT size=4>pr_debug</FONT></A><FONT size=4>(<SPAN class=s style="COLOR: green">"bus: '%s': add driver %s\n"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#677" name=677><FONT size=4>677</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#678" name=678><FONT size=4>678</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kzalloc&amp;project=linux-4.1"><FONT size=4>kzalloc</FONT></A><FONT size=4>(<B>sizeof</B>(*</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>), </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=GFP_KERNEL&amp;project=linux-4.1"><FONT size=4>GFP_KERNEL</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#679" name=679><FONT size=4>679</FONT></A><FONT size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>) {
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#680" name=680><FONT size=4>680</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=ENOMEM&amp;project=linux-4.1"><FONT size=4>ENOMEM</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#681" name=681><FONT size=4>681</FONT></A><FONT size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put_bus&amp;project=linux-4.1"><FONT size=4>out_put_bus</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#682" name=682><FONT size=4>682</FONT></A><FONT size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#683" name=683><FONT size=4>683</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_init&amp;project=linux-4.1"><FONT size=4>klist_init</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_devices&amp;project=linux-4.1"><FONT size=4>klist_devices</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT size=4>NULL</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT size=4>NULL</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#684" name=684><FONT size=4>684</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver&amp;project=linux-4.1"><FONT size=4>driver</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#685" name=685><FONT size=4>685</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;p = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#686" name=686><FONT size=4>686</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>.</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#kset"><FONT size=4>kset</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_kset&amp;project=linux-4.1"><FONT size=4>drivers_kset</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#687" name=687><FONT size=4>687</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobject_init_and_add&amp;project=linux-4.1"><FONT size=4>kobject_init_and_add</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>, &amp;</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#driver_ktype"><FONT size=4>driver_ktype</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT size=4>NULL</FONT></A><FONT size=4>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#688" name=688><FONT size=4>688</FONT></A><FONT size=4>				     <SPAN class=s style="COLOR: green">"%s"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#689" name=689><FONT size=4>689</FONT></A><FONT size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>)
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#690" name=690><FONT size=4>690</FONT></A><FONT size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_unregister&amp;project=linux-4.1"><FONT size=4>out_unregister</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#691" name=691><FONT size=4>691</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#692" name=692><FONT size=4>692</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_add_tail&amp;project=linux-4.1"><FONT size=4>klist_add_tail</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=knode_bus&amp;project=linux-4.1"><FONT size=4>knode_bus</FONT></A><FONT size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_drivers&amp;project=linux-4.1"><FONT size=4>klist_drivers</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#693" name=693><FONT size=4>693</FONT></A><FONT size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_autoprobe&amp;project=linux-4.1"><FONT size=4>drivers_autoprobe</FONT></A><FONT size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#694" name=694><FONT size=4>694</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_attach&amp;project=linux-4.1"><FONT size=4>driver_attach</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#695" name=695><FONT size=4>695</FONT></A><FONT size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#696" name=696><FONT size=4>696</FONT></A><FONT size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_unregister&amp;project=linux-4.1"><FONT size=4>out_unregister</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#697" name=697><FONT size=4>697</FONT></A><FONT size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#698" name=698><FONT size=4>698</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=module_add_driver&amp;project=linux-4.1"><FONT size=4>module_add_driver</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=owner&amp;project=linux-4.1"><FONT size=4>owner</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#699" name=699><FONT size=4>699</FONT></A>
<A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#700" name=700><FONT size=4>700</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_create_file&amp;project=linux-4.1"><FONT size=4>driver_create_file</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_attr_uevent&amp;project=linux-4.1"><FONT size=4>driver_attr_uevent</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#701" name=701><FONT size=4>701</FONT></A><FONT size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#702" name=702><FONT size=4>702</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=printk&amp;project=linux-4.1"><FONT size=4>printk</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=KERN_ERR&amp;project=linux-4.1"><FONT size=4>KERN_ERR</FONT></A><FONT size=4> <SPAN class=s style="COLOR: green">"%s: uevent attr (%s) failed\n"</SPAN>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#703" name=703><FONT size=4>703</FONT></A><FONT size=4>			</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__func__&amp;project=linux-4.1"><FONT size=4>__func__</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#704" name=704><FONT size=4>704</FONT></A><FONT size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#705" name=705><FONT size=4>705</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_add_groups&amp;project=linux-4.1"><FONT size=4>driver_add_groups</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv_groups&amp;project=linux-4.1"><FONT size=4>drv_groups</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#706" name=706><FONT size=4>706</FONT></A><FONT size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#707" name=707><FONT size=4>707</FONT></A><FONT size=4>		<SPAN class=c style="COLOR: rgb(102,102,102)">/* How the hell do we get out of this pickle? Give up */</SPAN>
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#708" name=708><FONT size=4>708</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=printk&amp;project=linux-4.1"><FONT size=4>printk</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=KERN_ERR&amp;project=linux-4.1"><FONT size=4>KERN_ERR</FONT></A><FONT size=4> <SPAN class=s style="COLOR: green">"%s: driver_create_groups(%s) failed\n"</SPAN>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#709" name=709><FONT size=4>709</FONT></A><FONT size=4>			</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__func__&amp;project=linux-4.1"><FONT size=4>__func__</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>);
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#710" name=710><FONT size=4>710</FONT></A><FONT size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#711" name=711><FONT size=4>711</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#712" name=712><FONT size=4>712</FONT></A><FONT size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=suppress_bind_attrs&amp;project=linux-4.1"><FONT size=4>suppress_bind_attrs</FONT></A><FONT size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#713" name=713><FONT size=4>713</FONT></A><FONT size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#add_bind_files"><FONT size=4>add_bind_files</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#714" name=714><FONT size=4>714</FONT></A><FONT size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#715" name=715><FONT size=4>715</FONT></A><FONT size=4>			<SPAN class=c style="COLOR: rgb(102,102,102)">/* Ditto */</SPAN>
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#716" name=716><FONT size=4>716</FONT></A><FONT size=4>			</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=printk&amp;project=linux-4.1"><FONT size=4>printk</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=KERN_ERR&amp;project=linux-4.1"><FONT size=4>KERN_ERR</FONT></A><FONT size=4> <SPAN class=s style="COLOR: green">"%s: add_bind_files(%s) failed\n"</SPAN>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#717" name=717><FONT size=4>717</FONT></A><FONT size=4>				</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__func__&amp;project=linux-4.1"><FONT size=4>__func__</FONT></A><FONT size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT size=4>name</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#718" name=718><FONT size=4>718</FONT></A><FONT size=4>		}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#719" name=719><FONT size=4>719</FONT></A><FONT size=4>	}
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#720" name=720><FONT size=4>720</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#721" name=721><FONT size=4>721</FONT></A><FONT size=4>	<B>return</B> 0;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#722" name=722><FONT size=4>722</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#723" name=723><FONT size=4>723</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_unregister&amp;project=linux-4.1"><FONT size=4>out_unregister</FONT></A><FONT size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#724" name=724><FONT size=4>724</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobject_put&amp;project=linux-4.1"><FONT size=4>kobject_put</FONT></A><FONT size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT size=4>priv</FONT></A><FONT size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT size=4>kobj</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#725" name=725><FONT size=4>725</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kfree&amp;project=linux-4.1"><FONT size=4>kfree</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;p);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#726" name=726><FONT size=4>726</FONT></A><FONT size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT size=4>drv</FONT></A><FONT size=4>-&gt;p = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT size=4>NULL</FONT></A><FONT size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#727" name=727><FONT size=4>727</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put_bus&amp;project=linux-4.1"><FONT size=4>out_put_bus</FONT></A><FONT size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#728" name=728><FONT size=4>728</FONT></A><FONT size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_put"><FONT size=4>bus_put</FONT></A><FONT size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT size=4>bus</FONT></A><FONT size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#729" name=729><FONT size=4>729</FONT></A><FONT size=4>	<B>return</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT size=4>error</FONT></A><FONT size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#730" name=730><FONT size=4>730</FONT></A><FONT size=4>}</FONT></PRE></PRE>
<BLOCKQUOTE>
<P>bus_add_device&#30340;&#22788;&#29702;&#36923;&#36753;&#65306; </P>
<UL>
<LI>&#35843;&#29992;&#20869;&#37096;&#30340;device_add_attrs&#25509;&#21475;&#65292;&#23558;&#30001;bus-&gt;dev_attrs&#25351;&#38024;&#23450;&#20041;&#30340;&#40664;&#35748;attribute&#28155;&#21152;&#21040;&#20869;&#26680;&#20013;&#65292;&#23427;&#20204;&#20250;&#20307;&#29616;&#22312;/sys/devices/xxx/xxx_device/&#30446;&#24405;&#20013; 
<LI>&#35843;&#29992;sysfs_create_link&#25509;&#21475;&#65292;&#23558;&#35813;device&#22312;sysfs&#20013;&#30340;&#30446;&#24405;&#65292;&#38142;&#25509;&#21040;&#35813;bus&#30340;devices&#30446;&#24405;&#19979;&#65292;&#20363;&#22914;&#65306; <BR>
<P>xxx# ls /sys/bus/spi/devices/spi1.0 -l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>lrwxrwxrwx root&nbsp;&nbsp;&nbsp;&nbsp; root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2014-04-11 10:46 <SPAN style="COLOR: rgb(255,0,0)">spi1.0</SPAN> -&gt; ../../../devices/platform/s3c64xx-spi.1/spi_master/spi1/<SPAN style="COLOR: rgb(255,0,0)">spi1.0 <BR></SPAN><SPAN style="COLOR: rgb(0,0,0)">&#20854;&#20013;/sys/devices/&#8230;/spi1.0&#65292;&#20026;&#35813;device&#22312;sysfs&#20013;&#30495;&#27491;&#30340;&#20301;&#32622;&#65292;&#32780;&#20026;&#20102;&#26041;&#20415;&#31649;&#29702;&#65292;&#20869;&#26680;&#22312;&#35813;&#35774;&#22791;&#25152;&#22312;&#30340;bus&#30340;xxx_bus/devices&#30446;&#24405;&#20013;&#65292;&#21019;&#24314;&#20102;&#19968;&#20010;&#31526;&#21495;&#38142;&#25509;</SPAN> </P><SPAN style="COLOR: rgb(0,0,0)"></SPAN>
<LI>&#35843;&#29992;sysfs_create_link&#25509;&#21475;&#65292;&#22312;&#35813;&#35774;&#22791;&#30340;sysfs&#30446;&#24405;&#20013;&#65288;&#22914;/sys/devices/platform/alarm/&#65289;&#20013;&#65292;&#21019;&#24314;&#19968;&#20010;&#25351;&#21521;&#35813;&#35774;&#22791;&#25152;&#22312;bus&#30446;&#24405;&#30340;&#38142;&#25509;&#65292;&#21462;&#21517;&#20026;subsystem&#65292;&#20363;&#22914;&#65306; <BR>
<P>xxx # ls /sys/devices/platform/alarm/<SPAN style="COLOR: rgb(255,0,0)">subsystem</SPAN> -l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>lrwxrwxrwx root&nbsp;&nbsp;&nbsp;&nbsp; root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2014-04-11 10:28 subsystem -&gt; <SPAN style="COLOR: rgb(255,0,0)">../../../bus/platform</SPAN> </P>
<LI>&#26368;&#21518;&#65292;&#27627;&#26080;&#30097;&#38382;&#65292;&#35201;&#25226;&#35813;&#35774;&#22791;&#25351;&#38024;&#20445;&#23384;&#22312;bus-&gt;priv-&gt;klist_devices&#20013; </LI></UL>
<P>bus_add_driver&#30340;&#22788;&#29702;&#36923;&#36753;&#65306; </P>
<UL>
<LI>&#20026;&#35813;driver&#30340;struct driver_private&#25351;&#38024;&#65288;priv&#65289;&#20998;&#37197;&#31354;&#38388;&#65292;&#24182;&#21021;&#22987;&#21270;&#20854;&#20013;&#30340;priv-&gt;klist_devices&#12289;priv-&gt;driver&#12289;priv-&gt;kobj.kset&#31561;&#21464;&#37327;&#65292;&#21516;&#26102;&#23558;&#35813;&#25351;&#38024;&#20445;&#23384;&#22312;device_driver&#30340;p&#22788; 
<LI>&#23558;driver&#30340;kset&#65288;priv-&gt;kobj.kset&#65289;&#35774;&#32622;&#20026;bus&#30340;drivers kset&#65288;bus-&gt;p-&gt;drivers_kset&#65289;&#65292;&#36825;&#23601;&#24847;&#21619;&#30528;&#25152;&#26377;driver&#30340;kobject&#37117;&#20301;&#20110;bus-&gt;p-&gt;drivers_kset&#20043;&#19979;&#65288;&#23492;/sys/bus/xxx/drivers&#30446;&#24405;&#19979;&#65289; 
<LI>&#20197;driver&#30340;&#21517;&#23383;&#20026;&#21442;&#25968;&#65292;&#35843;&#29992;kobject_init_and_add&#25509;&#21475;&#65292;&#22312;sysfs&#20013;&#27880;&#20876;driver&#30340;kobject&#65292;&#20307;&#29616;&#22312;/sys/bus/xxx/drivers/&#30446;&#24405;&#19979;&#65292;&#22914;/sys/bus/spi/drivers/spidev 
<LI>&#23558;&#35813;driver&#20445;&#23384;&#22312;bus&#30340;klist_drivers&#38142;&#34920;&#20013;&#65292;&#24182;&#26681;&#25454;drivers_autoprobe&#30340;&#20540;&#65292;&#36873;&#25321;&#26159;&#21542;&#35843;&#29992;driver_attach&#36827;&#34892;probe 
<LI>&#35843;&#29992;driver_create_file&#25509;&#21475;&#65292;&#22312;sysfs&#30340;&#35813;driver&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;uevent attribute 
<LI>&#35843;&#29992;driver_add_attrs&#25509;&#21475;&#65292;&#22312;sysfs&#30340;&#35813;driver&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;&#30001;bus-&gt;drv_attrs&#25351;&#38024;&#23450;&#20041;&#30340;&#40664;&#35748;attribute 
<LI>&#21516;&#26102;&#26681;&#25454;suppress_bind_attrs&#26631;&#24535;&#65292;&#20915;&#23450;&#26159;&#21542;&#22312;sysfs&#30340;&#35813;driver&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;bind&#21644;unbind attribute&#65288;&#20855;&#20307;&#21487;&#21442;&#32771;"<A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html">Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</A>&#8221;&#20013;&#30340;&#20171;&#32461;&#65289;</LI></UL></BLOCKQUOTE>