<H2>Linux&#35774;&#22791;&#27169;&#22411;(6)_Bus</H2>
<P class=date>&#20316;&#32773;&#65306;<A href="http://www.wowotech.net/author/2">&#34583;&#34583;</A> &#21457;&#24067;&#20110;&#65306;2014-4-15 19:21 &#20998;&#31867;&#65306;<A href="http://www.wowotech.net/sort/device_model">&#32479;&#19968;&#35774;&#22791;&#27169;&#22411;</A> </P>
<H4>1. &#27010;&#36848; </H4>
<P>&#22312;Linux&#35774;&#22791;&#27169;&#22411;&#20013;&#65292;Bus&#65288;&#24635;&#32447;&#65289;&#26159;&#19968;&#31867;&#29305;&#27530;&#30340;&#35774;&#22791;&#65292;&#23427;&#26159;&#36830;&#25509;&#22788;&#29702;&#22120;&#21644;&#20854;&#23427;&#35774;&#22791;&#20043;&#38388;&#30340;&#36890;&#36947;&#65288;channel&#65289;&#12290;&#20026;&#20102;&#26041;&#20415;&#35774;&#22791;&#27169;&#22411;&#30340;&#23454;&#29616;&#65292;&#20869;&#26680;&#35268;&#23450;&#65292;&#31995;&#32479;&#20013;&#30340;&#27599;&#20010;&#35774;&#22791;&#37117;&#35201;&#36830;&#25509;&#22312;&#19968;&#20010;Bus&#19978;&#65292;&#36825;&#20010;Bus&#21487;&#20197;&#26159;&#19968;&#20010;&#20869;&#37096;Bus&#12289;&#34394;&#25311;Bus&#25110;&#32773;Platform Bus&#12290; </P>
<P>&#20869;&#26680;&#36890;&#36807;struct bus_type&#32467;&#26500;&#65292;&#25277;&#35937;Bus&#65292;&#23427;&#26159;&#22312;include/linux/device.h&#20013;&#23450;&#20041;&#30340;&#12290;&#26412;&#25991;&#20250;&#22260;&#32469;&#35813;&#32467;&#26500;&#65292;&#25551;&#36848;Linux&#20869;&#26680;&#20013;Bus&#30340;&#21151;&#33021;&#65292;&#20197;&#21450;&#30456;&#20851;&#30340;&#23454;&#29616;&#36923;&#36753;&#12290;&#26368;&#21518;&#65292;&#20250;&#31616;&#21333;&#30340;&#20171;&#32461;&#19968;&#20123;&#26631;&#20934;&#30340;Bus&#65288;&#22914;Platform&#65289;&#65292;&#20171;&#32461;&#23427;&#20204;&#30340;&#29992;&#36884;&#12289;&#23427;&#20204;&#30340;&#20351;&#29992;&#22330;&#26223;&#12290; </P>
<H4>2. &#21151;&#33021;&#35828;&#26126; </H4>
<P>&#25353;&#29031;&#32769;&#20256;&#32479;&#65292;&#25551;&#36848;&#21151;&#33021;&#21069;&#65292;&#20808;&#20171;&#32461;&#19968;&#19979;&#35813;&#27169;&#22359;&#30340;&#19968;&#20123;&#26680;&#24515;&#25968;&#25454;&#32467;&#26500;&#65292;&#23545;bus&#27169;&#22359;&#32780;&#35328;&#65292;&#26680;&#24515;&#25968;&#25454;&#32467;&#26500;&#23601;&#26159;struct bus_type&#65292;&#21478;&#22806;&#65292;&#36824;&#26377;&#19968;&#20010;sub system&#30456;&#20851;&#30340;&#32467;&#26500;&#65292;&#20250;&#19968;&#24182;&#35828;&#26126;&#12290; </P>
<H5>2.1 <FONT class=extract>struct bus_type </FONT></H5>
<P><FONT class=extract>&nbsp;</FONT></P><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#62" name=62><FONT class=extract size=4>62</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT class=extract size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#63" name=63><FONT class=extract size=4>63</FONT></A><FONT class=extract size=4> * struct bus_type - The bus type of the device
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#64" name=64><FONT class=extract size=4>64</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#65" name=65><FONT class=extract size=4>65</FONT></A><FONT class=extract size=4> * @name:	The name of the bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#66" name=66><FONT class=extract size=4>66</FONT></A><FONT class=extract size=4> * @dev_name:	Used for subsystems to enumerate devices like ("foo%u", dev-&gt;id).
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#67" name=67><FONT class=extract size=4>67</FONT></A><FONT class=extract size=4> * @dev_root:	Default device to use as the parent.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#68" name=68><FONT class=extract size=4>68</FONT></A><FONT class=extract size=4> * @dev_attrs:	Default attributes of the devices on the bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#69" name=69><FONT class=extract size=4>69</FONT></A><FONT class=extract size=4> * @bus_groups:	Default attributes of the bus.
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#70" name=70><FONT class=extract size=4>70</FONT></A><FONT class=extract size=4> * @dev_groups:	Default attributes of the devices on the bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#71" name=71><FONT class=extract size=4>71</FONT></A><FONT class=extract size=4> * @drv_groups: Default attributes of the device drivers on the bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#72" name=72><FONT class=extract size=4>72</FONT></A><FONT class=extract size=4> * @match:	Called, perhaps multiple times, whenever a new device or driver
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#73" name=73><FONT class=extract size=4>73</FONT></A><FONT class=extract size=4> *		is added for this bus. It should return a nonzero value if the
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#74" name=74><FONT class=extract size=4>74</FONT></A><FONT class=extract size=4> *		given device can be handled by the given driver.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#75" name=75><FONT class=extract size=4>75</FONT></A><FONT class=extract size=4> * @uevent:	Called when a device is added, removed, or a few other things
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#76" name=76><FONT class=extract size=4>76</FONT></A><FONT class=extract size=4> *		that generate uevents to add the environment variables.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#77" name=77><FONT class=extract size=4>77</FONT></A><FONT class=extract size=4> * @probe:	Called when a new device or driver add to this bus, and callback
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#78" name=78><FONT class=extract size=4>78</FONT></A><FONT class=extract size=4> *		the specific driver's probe to initial the matched device.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#79" name=79><FONT class=extract size=4>79</FONT></A><FONT class=extract size=4> * @remove:	Called when a device removed from this bus.
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#80" name=80><FONT class=extract size=4>80</FONT></A><FONT class=extract size=4> * @shutdown:	Called at shut-down time to quiesce the device.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#81" name=81><FONT class=extract size=4>81</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#82" name=82><FONT class=extract size=4>82</FONT></A><FONT class=extract size=4> * @online:	Called to put the device back online (after offlining it).
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#83" name=83><FONT class=extract size=4>83</FONT></A><FONT class=extract size=4> * @offline:	Called to put the device offline for hot-removal. May fail.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#84" name=84><FONT class=extract size=4>84</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#85" name=85><FONT class=extract size=4>85</FONT></A><FONT class=extract size=4> * @suspend:	Called when a device on this bus wants to go to sleep mode.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#86" name=86><FONT class=extract size=4>86</FONT></A><FONT class=extract size=4> * @resume:	Called to bring a device on this bus out of sleep mode.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#87" name=87><FONT class=extract size=4>87</FONT></A><FONT class=extract size=4> * @pm:		Power management operations of this bus, callback the specific
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#88" name=88><FONT class=extract size=4>88</FONT></A><FONT class=extract size=4> *		device driver's pm-ops.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#89" name=89><FONT class=extract size=4>89</FONT></A><FONT class=extract size=4> * @iommu_ops:  IOMMU specific operations for this bus, used to attach IOMMU
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#90" name=90><FONT class=extract size=4>90</FONT></A><FONT class=extract size=4> *              driver implementations to a bus and allow the driver to do
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#91" name=91><FONT class=extract size=4>91</FONT></A><FONT class=extract size=4> *              bus-specific setup
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#92" name=92><FONT class=extract size=4>92</FONT></A><FONT class=extract size=4> * @p:		The private data of the driver core, only the driver core can
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#93" name=93><FONT class=extract size=4>93</FONT></A><FONT class=extract size=4> *		touch this.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#94" name=94><FONT class=extract size=4>94</FONT></A><FONT class=extract size=4> * @lock_key:	Lock class key for use by the lock validator
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#95" name=95><FONT class=extract size=4>95</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#96" name=96><FONT class=extract size=4>96</FONT></A><FONT class=extract size=4> * A bus is a channel between the processor and one or more devices. For the
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#97" name=97><FONT class=extract size=4>97</FONT></A><FONT class=extract size=4> * purposes of the device model, all devices are connected via a bus, even if
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#98" name=98><FONT class=extract size=4>98</FONT></A><FONT class=extract size=4> * it is an internal, virtual, "platform" bus. Buses can plug into each other.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#99" name=99><FONT class=extract size=4>99</FONT></A><FONT class=extract size=4> * A USB controller is usually a PCI device, for example. The device model
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#100" name=100><FONT class=extract size=4>100</FONT></A><FONT class=extract size=4> * represents the actual connections between buses and the devices they control.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#101" name=101><FONT class=extract size=4>101</FONT></A><FONT class=extract size=4> * A bus is represented by the bus_type structure. It contains the name, the
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#102" name=102><FONT class=extract size=4>102</FONT></A><FONT class=extract size=4> * default attributes, the bus' methods, PM operations, and the driver core's
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#103" name=103><FONT class=extract size=4>103</FONT></A><FONT class=extract size=4> * private data.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#104" name=104><FONT class=extract size=4>104</FONT></A><FONT class=extract size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#105" name=105><FONT class=extract size=4>105</FONT></A><FONT size=4><FONT class=extract><B>struct</B> </FONT></FONT><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" name=bus_type></A><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" href="http://172.21.12.145:8080/source/s?refs=bus_type&amp;project=linux-4.1"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4> {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#106" name=106><FONT class=extract size=4>106</FONT></A><FONT class=extract size=4>	<B>const</B> <B>char</B>		*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=name></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#107" name=107><FONT class=extract size=4>107</FONT></A><FONT class=extract size=4>	<B>const</B> <B>char</B>		*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=dev_name></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=dev_name&amp;project=linux-4.1"><FONT class=extract size=4>dev_name</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#108" name=108><FONT class=extract size=4>108</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4>		*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=dev_root></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=dev_root&amp;project=linux-4.1"><FONT class=extract size=4>dev_root</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#109" name=109><FONT class=extract size=4>109</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device_attribute"><FONT class=extract size=4>device_attribute</FONT></A><FONT class=extract size=4>	*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=dev_attrs></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=dev_attrs&amp;project=linux-4.1"><FONT class=extract size=4>dev_attrs</FONT></A><FONT class=extract size=4>;	<SPAN class=c style="COLOR: rgb(102,102,102)">/* use dev_groups instead */</SPAN>
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#110" name=110><FONT class=extract size=4>110</FONT></A><FONT class=extract size=4>	<B>const</B> <B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=attribute_group&amp;project=linux-4.1"><FONT class=extract size=4>attribute_group</FONT></A><FONT class=extract size=4> **</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=bus_groups></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=bus_groups&amp;project=linux-4.1"><FONT class=extract size=4>bus_groups</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#111" name=111><FONT class=extract size=4>111</FONT></A><FONT class=extract size=4>	<B>const</B> <B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=attribute_group&amp;project=linux-4.1"><FONT class=extract size=4>attribute_group</FONT></A><FONT class=extract size=4> **</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=dev_groups></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=dev_groups&amp;project=linux-4.1"><FONT class=extract size=4>dev_groups</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#112" name=112><FONT class=extract size=4>112</FONT></A><FONT class=extract size=4>	<B>const</B> <B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=attribute_group&amp;project=linux-4.1"><FONT class=extract size=4>attribute_group</FONT></A><FONT class=extract size=4> **</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=drv_groups></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=drv_groups&amp;project=linux-4.1"><FONT class=extract size=4>drv_groups</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#113" name=113><FONT class=extract size=4>113</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#114" name=114><FONT class=extract size=4>114</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=match></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=match&amp;project=linux-4.1"><FONT class=extract size=4>match</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, <B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device_driver"><FONT class=extract size=4>device_driver</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#115" name=115><FONT class=extract size=4>115</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=uevent></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=uevent&amp;project=linux-4.1"><FONT class=extract size=4>uevent</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, <B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj_uevent_env&amp;project=linux-4.1"><FONT class=extract size=4>kobj_uevent_env</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=env&amp;project=linux-4.1"><FONT class=extract size=4>env</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#116" name=116><FONT class=extract size=4>116</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=probe></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=probe&amp;project=linux-4.1"><FONT class=extract size=4>probe</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#117" name=117><FONT class=extract size=4>117</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=remove></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=remove&amp;project=linux-4.1"><FONT class=extract size=4>remove</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#118" name=118><FONT class=extract size=4>118</FONT></A><FONT class=extract size=4>	<B>void</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=shutdown></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=shutdown&amp;project=linux-4.1"><FONT class=extract size=4>shutdown</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#119" name=119><FONT class=extract size=4>119</FONT></A>
<A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#120" name=120><FONT class=extract size=4>120</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=online></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=online&amp;project=linux-4.1"><FONT class=extract size=4>online</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#121" name=121><FONT class=extract size=4>121</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=offline></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=offline&amp;project=linux-4.1"><FONT class=extract size=4>offline</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#122" name=122><FONT class=extract size=4>122</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#123" name=123><FONT class=extract size=4>123</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=suspend></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=suspend&amp;project=linux-4.1"><FONT class=extract size=4>suspend</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=pm_message_t&amp;project=linux-4.1"><FONT class=extract size=4>pm_message_t</FONT></A><FONT class=extract size=4> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=state&amp;project=linux-4.1"><FONT class=extract size=4>state</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#124" name=124><FONT class=extract size=4>124</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=resume></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=resume&amp;project=linux-4.1"><FONT class=extract size=4>resume</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#125" name=125><FONT class=extract size=4>125</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#126" name=126><FONT class=extract size=4>126</FONT></A><FONT class=extract size=4>	<B>const</B> <B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_pm_ops&amp;project=linux-4.1"><FONT class=extract size=4>dev_pm_ops</FONT></A><FONT class=extract size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=pm></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=pm&amp;project=linux-4.1"><FONT class=extract size=4>pm</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#127" name=127><FONT class=extract size=4>127</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#128" name=128><FONT class=extract size=4>128</FONT></A><FONT class=extract size=4>	<B>const</B> <B>struct</B> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=iommu_ops></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=iommu_ops&amp;project=linux-4.1"><FONT class=extract size=4>iommu_ops</FONT></A><FONT class=extract size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=iommu_ops></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=iommu_ops&amp;project=linux-4.1"><FONT class=extract size=4>iommu_ops</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#129" name=129><FONT class=extract size=4>129</FONT></A>
<A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#130" name=130><FONT class=extract size=4>130</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys_private&amp;project=linux-4.1"><FONT class=extract size=4>subsys_private</FONT></A><FONT class=extract size=4> *p;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#131" name=131><FONT class=extract size=4>131</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=lock_class_key&amp;project=linux-4.1"><FONT class=extract size=4>lock_class_key</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=lock_key></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=lock_key&amp;project=linux-4.1"><FONT class=extract size=4>lock_key</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#132" name=132><FONT class=extract size=4>132</FONT></A><FONT class=extract size=4>};</FONT></PRE>
<BLOCKQUOTE>
<P><FONT class=extract>name&#65292;&#35813;bus&#30340;&#21517;&#31216;&#65292;&#20250;&#22312;sysfs&#20013;&#20197;&#30446;&#24405;&#30340;&#24418;&#24335;&#23384;&#22312;&#65292;&#22914;platform bus&#22312;sysfs&#20013;&#34920;&#29616;&#20026;"/sys/bus/platform&#8221;&#12290; </FONT></P>
<P><FONT class=extract>dev_name&#65292;&#35813;&#21517;&#31216;&#21644;"</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</FONT></A><FONT class=extract>&#8221;&#25152;&#35762;&#36848;&#30340;struct device&#32467;&#26500;&#20013;&#30340;init_name&#26377;&#20851;&#12290;&#23545;&#26377;&#20123;&#35774;&#22791;&#32780;&#35328;&#65288;&#20363;&#22914;&#25209;&#37327;&#21270;&#30340;USB&#35774;&#22791;&#65289;&#65292;&#35774;&#35745;&#32773;&#26681;&#26412;&#23601;&#25042;&#24471;&#20026;&#23427;&#36215;&#21517;&#23383;&#30340;&#65292;&#32780;&#20869;&#26680;&#20063;&#25903;&#25345;&#36825;&#31181;&#25042;&#24816;&#65292;&#20801;&#35768;&#23558;&#35774;&#22791;&#30340;&#21517;&#23383;&#30041;&#31354;&#12290;&#36825;&#26679;&#24403;&#35774;&#22791;&#27880;&#20876;&#21040;&#20869;&#26680;&#21518;&#65292;&#35774;&#22791;&#27169;&#22411;&#30340;&#26680;&#24515;&#36923;&#36753;&#23601;&#20250;&#29992;"bus-&gt;dev_name+device ID&#8221;&#30340;&#24418;&#24335;&#65292;&#20026;&#36825;&#26679;&#30340;&#35774;&#22791;&#29983;&#25104;&#19968;&#20010;&#21517;&#31216;&#12290; </FONT></P>
<P><FONT class=extract>bus_attrs&#12289;dev_attrs&#12289;drv_attrs&#65292;&#19968;&#20123;&#40664;&#35748;&#30340;attribute&#65292;&#21487;&#20197;&#22312;bus&#12289;device&#25110;&#32773;device_driver&#28155;&#21152;&#21040;&#20869;&#26680;&#26102;&#65292;&#33258;&#21160;&#20026;&#23427;&#20204;&#28155;&#21152;&#30456;&#24212;&#30340;attribute&#12290; </FONT></P>
<P><FONT class=extract>dev_root&#65292;&#26681;&#25454;&#20869;&#26680;&#30340;&#27880;&#37322;&#65292;dev_root&#35774;&#22791;&#20026;bus&#30340;&#40664;&#35748;&#29238;&#35774;&#22791;&#65288;Default device to use as the parent&#65289;&#65292;&#20294;&#22312;&#20869;&#26680;&#23454;&#38469;&#23454;&#29616;&#20013;&#65292;&#21482;&#21644;&#19968;&#20010;&#21483;sub system&#30340;&#21151;&#33021;&#26377;&#20851;&#65292;&#38543;&#21518;&#20250;&#20171;&#32461;&#12290; </FONT></P>
<P><FONT class=extract>match&#65292;&#19968;&#20010;&#30001;&#20855;&#20307;&#30340;bus driver&#23454;&#29616;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;&#24403;&#20219;&#20309;&#23646;&#20110;&#35813;Bus&#30340;device&#25110;&#32773;device_driver&#28155;&#21152;&#21040;&#20869;&#26680;&#26102;&#65292;&#20869;&#26680;&#37117;&#20250;&#35843;&#29992;&#35813;&#25509;&#21475;&#65292;&#22914;&#26524;&#26032;&#21152;&#30340;device&#25110;device_driver&#21305;&#37197;&#19978;&#20102;&#33258;&#24049;&#30340;&#21478;&#19968;&#21322;&#30340;&#35805;&#65292;&#35813;&#25509;&#21475;&#35201;&#36820;&#22238;&#38750;&#38646;&#20540;&#65292;&#27492;&#26102;Bus&#27169;&#22359;&#30340;&#26680;&#24515;&#36923;&#36753;&#23601;&#20250;&#25191;&#34892;&#21518;&#32493;&#30340;&#22788;&#29702;&#12290; </FONT></P>
<P><FONT class=extract>uevent&#65292;&#19968;&#20010;&#30001;&#20855;&#20307;&#30340;bus driver&#23454;&#29616;&#30340;&#22238;&#35843;&#20989;&#25968;&#12290;&#24403;&#20219;&#20309;&#23646;&#20110;&#35813;Bus&#30340;device&#65292;&#21457;&#29983;&#28155;&#21152;&#12289;&#31227;&#38500;&#25110;&#32773;&#20854;&#23427;&#21160;&#20316;&#26102;&#65292;Bus&#27169;&#22359;&#30340;&#26680;&#24515;&#36923;&#36753;&#23601;&#20250;&#35843;&#29992;&#35813;&#25509;&#21475;&#65292;&#20197;&#20415;bus driver&#33021;&#22815;&#20462;&#25913;&#29615;&#22659;&#21464;&#37327;&#12290; </FONT></P>
<P><FONT class=extract>probe&#12289;remove&#65292;&#36825;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;&#21644;</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>device_driver</FONT></A><FONT class=extract>&#20013;&#30340;&#38750;&#24120;&#31867;&#20284;&#65292;&#20294;&#23427;&#20204;&#30340;&#23384;&#22312;&#26159;&#38750;&#24120;&#26377;&#24847;&#20041;&#30340;&#12290;&#21487;&#20197;&#24819;&#35937;&#19968;&#19979;&#65292;&#22914;&#26524;&#38656;&#35201;probe&#65288;&#20854;&#23454;&#23601;&#26159;&#21021;&#22987;&#21270;&#65289;&#25351;&#23450;&#30340;device&#35805;&#65292;&#38656;&#35201;&#20445;&#35777;&#35813;device&#25152;&#22312;&#30340;bus&#26159;&#34987;&#21021;&#22987;&#21270;&#36807;&#12289;&#30830;&#20445;&#33021;&#27491;&#30830;&#24037;&#20316;&#30340;&#12290;&#36825;&#23601;&#35201;&#23601;&#22312;&#25191;&#34892;device_driver&#30340;probe&#21069;&#65292;&#20808;&#25191;&#34892;&#23427;&#30340;bus&#30340;probe&#12290;remove&#30340;&#36807;&#31243;&#30456;&#21453;&#12290; <BR><SPAN style="COLOR: rgb(255,0,0)">&#27880;1&#65306;&#24182;&#19981;&#26159;&#25152;&#26377;&#30340;bus&#37117;&#38656;&#35201;probe&#21644;remove&#25509;&#21475;&#30340;&#65292;&#22240;&#20026;&#23545;&#26377;&#20123;bus&#26469;&#35828;&#65288;&#20363;&#22914;platform bus&#65289;&#65292;&#23427;&#26412;&#36523;&#23601;&#26159;&#19968;&#20010;&#34394;&#25311;&#30340;&#24635;&#32447;&#65292;&#26080;&#25152;&#35859;&#21021;&#22987;&#21270;&#65292;&#30452;&#25509;&#23601;&#33021;&#20351;&#29992;&#65292;&#22240;&#27492;&#36825;&#20123;bus&#30340;driver&#23601;&#21487;&#20197;&#23558;&#36825;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#30041;&#31354;&#12290;</SPAN> </FONT></P>
<P><FONT class=extract>shutdown&#12289;suspend&#12289;resume&#65292;&#21644;probe&#12289;remove&#30340;&#21407;&#29702;&#31867;&#20284;&#65292;&#30005;&#28304;&#31649;&#29702;&#30456;&#20851;&#30340;&#23454;&#29616;&#65292;&#26242;&#19981;&#35828;&#26126;&#12290; </FONT></P>
<P><FONT class=extract>pm&#65292;&#30005;&#28304;&#31649;&#29702;&#30456;&#20851;&#30340;&#36923;&#36753;&#65292;&#26242;&#19981;&#35828;&#26126;&#12290; </FONT></P>
<P><FONT class=extract>iommu_ops&#65292;&#26242;&#19981;&#35828;&#26126;&#12290; </FONT></P>
<P><FONT class=extract>p&#65292;&#19968;&#20010;struct subsys_private&#31867;&#22411;&#30340;&#25351;&#38024;&#65292;&#21518;&#38754;&#25105;&#20204;&#20250;&#29992;&#19968;&#20010;&#23567;&#33410;&#35828;&#26126;&#12290; </FONT></P></BLOCKQUOTE>
<H5>2.2 <FONT class=extract>struct subsys_private </FONT></H5>
<P><FONT class=extract>&#35813;&#32467;&#26500;&#21644;</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>device_driver</FONT></A><FONT class=extract>&#20013;&#30340;struct driver_private&#31867;&#20284;&#65292;&#22312;"</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</FONT></A><FONT class=extract>&#8221;&#31456;&#33410;&#20013;&#26377;&#25552;&#21040;&#23427;&#65292;&#20294;&#27809;&#26377;&#35814;&#32454;&#35828;&#26126;&#12290; </FONT></P>
<P><FONT class=extract>&#35201;&#35828;&#26126;subsys_private&#30340;&#21151;&#33021;&#65292;&#35753;&#25105;&#20204;&#20808;&#30475;&#19968;&#19979;&#35813;&#32467;&#26500;&#30340;&#23450;&#20041;&#65306; </FONT></P><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#3" name=3><FONT class=extract size=4>3</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT class=extract size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#4" name=4><FONT class=extract size=4>4</FONT></A><FONT class=extract size=4> * struct subsys_private - structure to hold the private to the driver core portions of the </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=bus_type/"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4>/</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=bus_type/class"><FONT class=extract size=4>class</FONT></A><FONT class=extract size=4> structure.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#5" name=5><FONT class=extract size=4>5</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#6" name=6><FONT class=extract size=4>6</FONT></A><FONT class=extract size=4> * @subsys - the struct kset that defines this subsystem
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#7" name=7><FONT class=extract size=4>7</FONT></A><FONT class=extract size=4> * @devices_kset - the subsystem's 'devices' directory
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#8" name=8><FONT class=extract size=4>8</FONT></A><FONT class=extract size=4> * @interfaces - list of subsystem interfaces associated
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#9" name=9><FONT class=extract size=4>9</FONT></A><FONT class=extract size=4> * @mutex - protect the devices, and interfaces lists.
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#10" name=10><FONT class=extract size=4>10</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#11" name=11><FONT class=extract size=4>11</FONT></A><FONT class=extract size=4> * @drivers_kset - the list of drivers associated
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#12" name=12><FONT class=extract size=4>12</FONT></A><FONT class=extract size=4> * @klist_devices - the klist to iterate over the @devices_kset
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#13" name=13><FONT class=extract size=4>13</FONT></A><FONT class=extract size=4> * @klist_drivers - the klist to iterate over the @drivers_kset
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#14" name=14><FONT class=extract size=4>14</FONT></A><FONT class=extract size=4> * @bus_notifier - the bus notifier list for anything that cares about things
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#15" name=15><FONT class=extract size=4>15</FONT></A><FONT class=extract size=4> *                 on this bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#16" name=16><FONT class=extract size=4>16</FONT></A><FONT class=extract size=4> * @bus - pointer back to the struct bus_type that this structure is associated
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#17" name=17><FONT class=extract size=4>17</FONT></A><FONT class=extract size=4> *        with.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#18" name=18><FONT class=extract size=4>18</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#19" name=19><FONT class=extract size=4>19</FONT></A><FONT class=extract size=4> * @glue_dirs - "glue" directory to put in-between the parent device to
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#20" name=20><FONT class=extract size=4>20</FONT></A><FONT class=extract size=4> *              avoid namespace conflicts
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#21" name=21><FONT class=extract size=4>21</FONT></A><FONT class=extract size=4> * @class - pointer back to the struct class that this structure is associated
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#22" name=22><FONT class=extract size=4>22</FONT></A><FONT class=extract size=4> *          with.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#23" name=23><FONT class=extract size=4>23</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#24" name=24><FONT class=extract size=4>24</FONT></A><FONT class=extract size=4> * This structure is the one that is the actual kobject allowing struct
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#25" name=25><FONT class=extract size=4>25</FONT></A><FONT class=extract size=4> * </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=bus_type/"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4>/</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=bus_type/class"><FONT class=extract size=4>class</FONT></A><FONT class=extract size=4> to be statically allocated safely.  Nothing outside of the
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#26" name=26><FONT class=extract size=4>26</FONT></A><FONT class=extract size=4> * driver core should ever touch these fields.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#27" name=27><FONT class=extract size=4>27</FONT></A><FONT class=extract size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#28" name=28><FONT class=extract size=4>28</FONT></A><FONT size=4><FONT class=extract><B>struct</B> </FONT></FONT><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" name=subsys_private></A><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" href="http://172.21.12.145:8080/source/s?refs=subsys_private&amp;project=linux-4.1"><FONT class=extract size=4>subsys_private</FONT></A><FONT class=extract size=4> {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#29" name=29><FONT class=extract size=4>29</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset&amp;project=linux-4.1"><FONT class=extract size=4>kset</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=subsys></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#30" name=30><FONT class=extract size=4>30</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset&amp;project=linux-4.1"><FONT class=extract size=4>kset</FONT></A><FONT class=extract size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=devices_kset></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=devices_kset&amp;project=linux-4.1"><FONT class=extract size=4>devices_kset</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#31" name=31><FONT class=extract size=4>31</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=list_head&amp;project=linux-4.1"><FONT class=extract size=4>list_head</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=interfaces></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=interfaces&amp;project=linux-4.1"><FONT class=extract size=4>interfaces</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#32" name=32><FONT class=extract size=4>32</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=mutex></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=mutex&amp;project=linux-4.1"><FONT class=extract size=4>mutex</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=mutex></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=mutex&amp;project=linux-4.1"><FONT class=extract size=4>mutex</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#33" name=33><FONT class=extract size=4>33</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#34" name=34><FONT class=extract size=4>34</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset&amp;project=linux-4.1"><FONT class=extract size=4>kset</FONT></A><FONT class=extract size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=drivers_kset></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=drivers_kset&amp;project=linux-4.1"><FONT class=extract size=4>drivers_kset</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#35" name=35><FONT class=extract size=4>35</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist&amp;project=linux-4.1"><FONT class=extract size=4>klist</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=klist_devices></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=klist_devices&amp;project=linux-4.1"><FONT class=extract size=4>klist_devices</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#36" name=36><FONT class=extract size=4>36</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist&amp;project=linux-4.1"><FONT class=extract size=4>klist</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=klist_drivers></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=klist_drivers&amp;project=linux-4.1"><FONT class=extract size=4>klist_drivers</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#37" name=37><FONT class=extract size=4>37</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=blocking_notifier_head&amp;project=linux-4.1"><FONT class=extract size=4>blocking_notifier_head</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=bus_notifier></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=bus_notifier&amp;project=linux-4.1"><FONT class=extract size=4>bus_notifier</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#38" name=38><FONT class=extract size=4>38</FONT></A><FONT class=extract size=4>	<B>unsigned</B> <B>int</B> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=drivers_autoprobe></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=drivers_autoprobe&amp;project=linux-4.1"><FONT class=extract size=4>drivers_autoprobe</FONT></A><FONT class=extract size=4>:<SPAN class=n style="COLOR: rgb(165,42,42)">1</SPAN>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#39" name=39><FONT class=extract size=4>39</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_type&amp;project=linux-4.1"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=bus></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#40" name=40><FONT class=extract size=4>40</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#41" name=41><FONT class=extract size=4>41</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset&amp;project=linux-4.1"><FONT class=extract size=4>kset</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=glue_dirs></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=glue_dirs&amp;project=linux-4.1"><FONT class=extract size=4>glue_dirs</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#42" name=42><FONT class=extract size=4>42</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=class&amp;project=linux-4.1"><FONT class=extract size=4>class</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=class&amp;project=linux-4.1"><FONT class=extract size=4>class</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#43" name=43><FONT class=extract size=4>43</FONT></A><FONT class=extract size=4>};
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#44" name=44><FONT class=extract size=4>44</FONT></A><FONT class=extract size=4>#<B>define</B> </FONT><A class=xm style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(204,102,102)" name=to_subsys_private></A><A class=xm style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(204,102,102)" href="http://172.21.12.145:8080/source/s?refs=to_subsys_private&amp;project=linux-4.1"><FONT class=extract size=4>to_subsys_private</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=obj&amp;project=linux-4.1"><FONT class=extract size=4>obj</FONT></A><FONT class=extract size=4>) </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=container_of&amp;project=linux-4.1"><FONT class=extract size=4>container_of</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=obj&amp;project=linux-4.1"><FONT class=extract size=4>obj</FONT></A><FONT class=extract size=4>, <B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#subsys_private"><FONT class=extract size=4>subsys_private</FONT></A><FONT class=extract size=4>, </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#subsys"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/base.h#kobj"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>)</FONT></PRE>
<P><FONT class=extract>&#30475;&#21040;&#32467;&#26500;&#20869;&#37096;&#30340;&#23383;&#27573;&#65292;&#23601;&#28165;&#26224;&#22810;&#20102;&#65292;&#27809;&#20107;&#19981;&#35201;&#20081;&#36215;&#21517;&#23383;&#22043;&#65281;&#20160;&#20040;subsys&#21834;&#65292;&#30475;&#30340;&#26197;&#26197;&#30340;&#65281;&#19981;&#36807;&#36824;&#26159;&#35797;&#30528;&#20808;&#29702;&#35299;&#19968;&#19979;&#20026;&#20160;&#20040;&#36215;&#21517;&#20026;subsys&#21543;&#65306; </FONT></P>
<P><FONT class=extract><FONT class=extract><SPAN style="COLOR: rgb(0,0,255)">&#25353;&#29702;&#35828;&#65292;&#36825;&#20010;&#32467;&#26500;&#23601;&#26159;&#38598;&#21512;&#20102;&#19968;&#20123;bus&#27169;&#22359;&#38656;&#35201;&#20351;&#29992;&#30340;&#31169;&#26377;&#25968;&#25454;&#65292;&#20363;&#22914;kset&#21862;&#12289;klist&#21862;&#31561;&#31561;&#65292;&#21629;&#21517;&#20026;bus_private&#20250;&#22909;&#28857;&#65288;&#23601;&#20687;device_driver&#27169;&#22359;&#19968;&#26679;&#65289;&#12290;&#19981;&#36807;&#20026;&#20160;&#20040;&#20869;&#26680;&#27809;&#36825;&#20040;&#20570;&#21602;&#65311;&#30475;&#30475;include/linux/device.h&#20013;&#30340;struct class&#32467;&#26500;&#65288;&#25105;&#20204;&#20250;&#22312;&#19979;&#19968;&#31687;&#25991;&#31456;&#20013;&#20171;&#32461;class&#65289;&#23601;&#30693;&#36947;&#20102;&#65292;&#22240;&#20026;class&#32467;&#26500;&#20013;&#20063;&#21253;&#21547;&#20102;&#19968;&#20010;&#19968;&#27169;&#19968;&#26679;&#30340;struct subsys_private&#25351;&#38024;&#65292;&#30475;&#26469;class&#21644;bus&#24456;&#30456;&#20284;&#21834;&#12290;</SPAN> </FONT></FONT></P>
<P><FONT class=extract><SPAN style="COLOR: rgb(0,0,255)"><FONT class=extract>&#24819;&#21040;&#36825;&#37324;&#65292;&#23601;&#22909;&#29702;&#35299;&#20102;&#65292;&#26080;&#35770;&#26159;bus&#65292;&#36824;&#26159;class&#65292;&#36824;&#26159;&#25105;&#20204;&#20250;&#22312;&#21518;&#38754;&#30475;&#21040;&#30340;&#19968;&#20123;&#34394;&#25311;&#30340;&#23376;&#31995;&#32479;&#65292;&#23427;&#37117;&#26500;&#25104;&#20102;&#19968;&#20010;&#8220;&#23376;&#31995;&#32479;&#65288;sub-system&#65289;&#8221;&#65292;&#35813;&#23376;&#31995;&#32479;&#20250;&#21253;&#21547;&#24418;&#24418;&#33394;&#33394;&#30340;device&#25110;device_driver&#65292;&#23601;&#20687;&#19968;&#20010;&#29420;&#31435;&#30340;&#29579;&#22269;&#19968;&#26679;&#65292;&#23384;&#22312;&#20110;&#20869;&#26680;&#20013;&#12290;&#32780;&#36825;&#20123;&#23376;&#31995;&#32479;&#30340;&#34920;&#29616;&#24418;&#24335;&#65292;&#23601;&#26159;/sys/bus&#65288;&#25110;/sys/class&#65292;&#25110;&#20854;&#23427;&#65289;&#30446;&#24405;&#19979;&#38754;&#30340;&#23376;&#30446;&#24405;&#65292;&#27599;&#19968;&#20010;&#23376;&#30446;&#24405;&#65292;&#37117;&#26159;&#19968;&#20010;&#23376;&#31995;&#32479;&#65288;&#22914;/sys/bus/spi/&#65289;&#12290;</FONT></SPAN> </FONT></P>
<P><FONT class=extract>&#22909;&#20102;&#65292;<FONT class=extract>&#25105;&#20204;&#22238;&#36807;&#22836;&#26469;&#30475;&#19968;&#19979;struct subsys_private&#20013;&#21508;&#20010;&#23383;&#27573;&#30340;&#35299;&#37322;&#65306; </FONT></FONT></P>
<BLOCKQUOTE>
<P><FONT class=extract>subsys&#12289;devices_kset&#12289;drivers_kset&#26159;&#19977;&#20010;kset&#65292;&#30001;"</FONT><A href="http://www.wowotech.net/linux_kenrel/kobject.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(2)_Kobject</FONT></A><FONT class=extract>&#8221;&#20013;&#23545;kset&#30340;&#25551;&#36848;&#21487;&#30693;&#65292;kset&#26159;&#19968;&#20010;&#29305;&#27530;&#30340;kobject&#65292;&#29992;&#26469;&#38598;&#21512;&#30456;&#20284;&#30340;kobject&#65292;&#23427;&#22312;sysfs&#20013;&#20063;&#20250;&#20197;&#30446;&#24405;&#30340;&#24418;&#24335;&#20307;&#29616;&#12290;&#20854;&#20013;subsys&#65292;&#20195;&#34920;&#20102;&#26412;bus&#65288;&#22914;/sys/bus/spi&#65289;&#65292;&#23427;&#19979;&#38754;&#21487;&#20197;&#21253;&#21547;&#20854;&#23427;&#30340;kset&#25110;&#32773;&#20854;&#23427;&#30340;kobject&#65307;devices_kset&#21644;drivers_kset&#21017;&#26159;bus&#19979;&#38754;&#30340;&#20004;&#20010;kset&#65288;&#22914;/sys/bus/spi/devices&#21644;/sys/bus/spi/drivers&#65289;&#65292;&#20998;&#21035;&#21253;&#25324;&#26412;bus&#19979;&#25152;&#26377;&#30340;device&#21644;device_driver&#12290; </FONT></P>
<P><FONT class=extract>interface&#26159;&#19968;&#20010;list head&#65292;&#29992;&#20110;&#20445;&#23384;&#35813;bus&#19979;&#25152;&#26377;&#30340;interface&#12290;&#26377;&#20851;interface&#30340;&#27010;&#24565;&#21518;&#38754;&#20250;&#35814;&#32454;&#20171;&#32461;&#12290; </FONT></P>
<P><FONT class=extract>klist_devices&#21644;klist_drivers&#26159;&#20004;&#20010;&#38142;&#34920;&#65292;&#20998;&#21035;&#20445;&#23384;&#20102;&#26412;bus&#19979;&#25152;&#26377;&#30340;device&#21644;device_driver&#30340;&#25351;&#38024;&#65292;&#20197;&#26041;&#20415;&#26597;&#25214;&#12290; </FONT></P>
<P><FONT class=extract>drivers_autoprobe&#65292;&#29992;&#20110;&#25511;&#21046;&#35813;bus&#19979;&#30340;drivers&#25110;&#32773;device&#26159;&#21542;&#33258;&#21160;probe&#65292;"</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</FONT></A><FONT class=extract>&#8221;&#20013;&#26377;&#25552;&#21040;&#12290; </FONT></P>
<P><FONT class=extract><FONT class=extract>bus&#21644;class&#25351;&#38024;&#65292;&#20998;&#21035;&#20445;&#23384;&#19978;&#23618;&#30340;bus&#25110;&#32773;class&#25351;&#38024;&#12290;</FONT> </FONT></P></BLOCKQUOTE>
<H5>2.3 &#21151;&#33021;&#24635;&#32467; </H5>
<P><FONT class=extract>&#26681;&#25454;&#19978;&#38754;&#30340;&#26680;&#24515;&#25968;&#25454;&#32467;&#26500;&#65292;&#21487;&#20197;&#24635;&#32467;&#20986;bus&#27169;&#22359;&#30340;&#21151;&#33021;&#21253;&#25324;&#65306; </FONT></P>
<UL>
<LI><FONT class=extract>bus&#30340;&#27880;&#20876;&#21644;&#27880;&#38144; </FONT>
<LI><FONT class=extract>&#26412;bus&#19979;&#26377;device&#25110;&#32773;device_driver&#27880;&#20876;&#21040;&#20869;&#26680;&#26102;&#30340;&#22788;&#29702; </FONT>
<LI><FONT class=extract>&#26412;bus&#19979;&#26377;device&#25110;&#32773;device_driver&#20174;&#20869;&#26680;&#27880;&#38144;&#26102;&#30340;&#22788;&#29702; </FONT>
<LI><FONT class=extract>device_drivers&#30340;probe&#22788;&#29702; </FONT>
<LI><FONT class=extract><FONT class=extract>&#31649;&#29702;bus&#19979;&#30340;&#25152;&#26377;device&#21644;device_driver</FONT> </FONT></LI></UL>
<H4><FONT class=extract>3. &#20869;&#37096;&#25191;&#34892;&#36923;&#36753;&#20998;&#26512; </FONT></H4>
<H5><FONT class=extract>3.1 bus&#30340;&#27880;&#20876; </FONT></H5>
<P><FONT class=extract>bus&#30340;&#27880;&#20876;&#26159;&#30001;bus_register&#25509;&#21475;&#23454;&#29616;&#30340;&#65292;&#35813;&#25509;&#21475;&#30340;&#21407;&#22411;&#26159;&#22312;include/linux/device.h&#20013;&#22768;&#26126;&#30340;&#65292;&#24182;&#22312;drivers/base/bus.c&#20013;&#23454;&#29616;&#65292;&#20854;&#21407;&#22411;&#22914;&#19979;&#65306; </FONT></P><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#865" name=865><FONT class=extract size=4>865</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT class=extract size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#866" name=866><FONT class=extract size=4>866</FONT></A><FONT class=extract size=4> * bus_register - register a driver-core subsystem
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#867" name=867><FONT class=extract size=4>867</FONT></A><FONT class=extract size=4> * @bus: bus to register
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#868" name=868><FONT class=extract size=4>868</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#869" name=869><FONT class=extract size=4>869</FONT></A><FONT class=extract size=4> * Once we have that, we register the bus with the kobject
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#870" name=870><FONT class=extract size=4>870</FONT></A><FONT class=extract size=4> * infrastructure, then register the children subsystems it has:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#871" name=871><FONT class=extract size=4>871</FONT></A><FONT class=extract size=4> * the devices and drivers that belong to the subsystem.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#872" name=872><FONT class=extract size=4>872</FONT></A><FONT class=extract size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#873" name=873><FONT class=extract size=4>873</FONT></A><FONT size=4><FONT class=extract><B>int</B> </FONT></FONT><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" name=bus_register></A><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" href="http://172.21.12.145:8080/source/s?refs=bus_register&amp;project=linux-4.1"><FONT class=extract size=4>bus_register</FONT></A><FONT class=extract size=4>(<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_type&amp;project=linux-4.1"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4> *</FONT><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" name=bus></A><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#874" name=874><FONT class=extract size=4>874</FONT></A><FONT class=extract size=4>{
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#875" name=875><FONT class=extract size=4>875</FONT></A><FONT class=extract size=4>	<B>int</B> </FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=retval></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#876" name=876><FONT class=extract size=4>876</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys_private&amp;project=linux-4.1"><FONT class=extract size=4>subsys_private</FONT></A><FONT class=extract size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=priv></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#877" name=877><FONT class=extract size=4>877</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=lock_class_key&amp;project=linux-4.1"><FONT class=extract size=4>lock_class_key</FONT></A><FONT class=extract size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=key></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=key&amp;project=linux-4.1"><FONT class=extract size=4>key</FONT></A><FONT class=extract size=4> = &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=lock_key&amp;project=linux-4.1"><FONT class=extract size=4>lock_key</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#878" name=878><FONT class=extract size=4>878</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#879" name=879><FONT class=extract size=4>879</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kzalloc&amp;project=linux-4.1"><FONT class=extract size=4>kzalloc</FONT></A><FONT class=extract size=4>(<B>sizeof</B>(<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys_private&amp;project=linux-4.1"><FONT class=extract size=4>subsys_private</FONT></A><FONT class=extract size=4>), </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=GFP_KERNEL&amp;project=linux-4.1"><FONT class=extract size=4>GFP_KERNEL</FONT></A><FONT class=extract size=4>);
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#880" name=880><FONT class=extract size=4>880</FONT></A><FONT class=extract size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#881" name=881><FONT class=extract size=4>881</FONT></A><FONT class=extract size=4>		<B>return</B> -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=ENOMEM&amp;project=linux-4.1"><FONT class=extract size=4>ENOMEM</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#882" name=882><FONT class=extract size=4>882</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#883" name=883><FONT class=extract size=4>883</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#884" name=884><FONT class=extract size=4>884</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#885" name=885><FONT class=extract size=4>885</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#886" name=886><FONT class=extract size=4>886</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=BLOCKING_INIT_NOTIFIER_HEAD&amp;project=linux-4.1"><FONT class=extract size=4>BLOCKING_INIT_NOTIFIER_HEAD</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_notifier&amp;project=linux-4.1"><FONT class=extract size=4>bus_notifier</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#887" name=887><FONT class=extract size=4>887</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#888" name=888><FONT class=extract size=4>888</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobject_set_name&amp;project=linux-4.1"><FONT class=extract size=4>kobject_set_name</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>, <SPAN class=s style="COLOR: green">"%s"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#889" name=889><FONT class=extract size=4>889</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>)
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#890" name=890><FONT class=extract size=4>890</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out&amp;project=linux-4.1"><FONT class=extract size=4>out</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#891" name=891><FONT class=extract size=4>891</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#892" name=892><FONT class=extract size=4>892</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>.</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#kset"><FONT class=extract size=4>kset</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_kset"><FONT class=extract size=4>bus_kset</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#893" name=893><FONT class=extract size=4>893</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>.</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#ktype"><FONT class=extract size=4>ktype</FONT></A><FONT class=extract size=4> = &amp;</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_ktype"><FONT class=extract size=4>bus_ktype</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#894" name=894><FONT class=extract size=4>894</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_autoprobe&amp;project=linux-4.1"><FONT class=extract size=4>drivers_autoprobe</FONT></A><FONT class=extract size=4> = <SPAN class=n style="COLOR: rgb(165,42,42)">1</SPAN>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#895" name=895><FONT class=extract size=4>895</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#896" name=896><FONT class=extract size=4>896</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset_register&amp;project=linux-4.1"><FONT class=extract size=4>kset_register</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#897" name=897><FONT class=extract size=4>897</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#898" name=898><FONT class=extract size=4>898</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out&amp;project=linux-4.1"><FONT class=extract size=4>out</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#899" name=899><FONT class=extract size=4>899</FONT></A>
<A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#900" name=900><FONT class=extract size=4>900</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_create_file&amp;project=linux-4.1"><FONT class=extract size=4>bus_create_file</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_attr_uevent&amp;project=linux-4.1"><FONT class=extract size=4>bus_attr_uevent</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#901" name=901><FONT class=extract size=4>901</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#902" name=902><FONT class=extract size=4>902</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_uevent_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_uevent_fail</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#903" name=903><FONT class=extract size=4>903</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#904" name=904><FONT class=extract size=4>904</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT class=extract size=4>devices_kset</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset_create_and_add&amp;project=linux-4.1"><FONT class=extract size=4>kset_create_and_add</FONT></A><FONT class=extract size=4>(<SPAN class=s style="COLOR: green">"devices"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#905" name=905><FONT class=extract size=4>905</FONT></A><FONT class=extract size=4>						 &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#906" name=906><FONT class=extract size=4>906</FONT></A><FONT class=extract size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT class=extract size=4>devices_kset</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#907" name=907><FONT class=extract size=4>907</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=ENOMEM&amp;project=linux-4.1"><FONT class=extract size=4>ENOMEM</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#908" name=908><FONT class=extract size=4>908</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_devices_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_devices_fail</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#909" name=909><FONT class=extract size=4>909</FONT></A><FONT class=extract size=4>	}
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#910" name=910><FONT class=extract size=4>910</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#911" name=911><FONT class=extract size=4>911</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_kset&amp;project=linux-4.1"><FONT class=extract size=4>drivers_kset</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset_create_and_add&amp;project=linux-4.1"><FONT class=extract size=4>kset_create_and_add</FONT></A><FONT class=extract size=4>(<SPAN class=s style="COLOR: green">"drivers"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#912" name=912><FONT class=extract size=4>912</FONT></A><FONT class=extract size=4>						 &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#913" name=913><FONT class=extract size=4>913</FONT></A><FONT class=extract size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_kset&amp;project=linux-4.1"><FONT class=extract size=4>drivers_kset</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#914" name=914><FONT class=extract size=4>914</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=ENOMEM&amp;project=linux-4.1"><FONT class=extract size=4>ENOMEM</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#915" name=915><FONT class=extract size=4>915</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_drivers_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_drivers_fail</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#916" name=916><FONT class=extract size=4>916</FONT></A><FONT class=extract size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#917" name=917><FONT class=extract size=4>917</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#918" name=918><FONT class=extract size=4>918</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=INIT_LIST_HEAD&amp;project=linux-4.1"><FONT class=extract size=4>INIT_LIST_HEAD</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=interfaces&amp;project=linux-4.1"><FONT class=extract size=4>interfaces</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#919" name=919><FONT class=extract size=4>919</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__mutex_init&amp;project=linux-4.1"><FONT class=extract size=4>__mutex_init</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=mutex&amp;project=linux-4.1"><FONT class=extract size=4>mutex</FONT></A><FONT class=extract size=4>, <SPAN class=s style="COLOR: green">"subsys mutex"</SPAN>, </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#key"><FONT class=extract size=4>key</FONT></A><FONT class=extract size=4>);
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#920" name=920><FONT class=extract size=4>920</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_init&amp;project=linux-4.1"><FONT class=extract size=4>klist_init</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_devices&amp;project=linux-4.1"><FONT class=extract size=4>klist_devices</FONT></A><FONT class=extract size=4>, </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#klist_devices_get"><FONT class=extract size=4>klist_devices_get</FONT></A><FONT class=extract size=4>, </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#klist_devices_put"><FONT class=extract size=4>klist_devices_put</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#921" name=921><FONT class=extract size=4>921</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_init&amp;project=linux-4.1"><FONT class=extract size=4>klist_init</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_drivers&amp;project=linux-4.1"><FONT class=extract size=4>klist_drivers</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#922" name=922><FONT class=extract size=4>922</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#923" name=923><FONT class=extract size=4>923</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#add_probe_files"><FONT class=extract size=4>add_probe_files</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#924" name=924><FONT class=extract size=4>924</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#925" name=925><FONT class=extract size=4>925</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_probe_files_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_probe_files_fail</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#926" name=926><FONT class=extract size=4>926</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#927" name=927><FONT class=extract size=4>927</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_add_groups"><FONT class=extract size=4>bus_add_groups</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_groups&amp;project=linux-4.1"><FONT class=extract size=4>bus_groups</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#928" name=928><FONT class=extract size=4>928</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#929" name=929><FONT class=extract size=4>929</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_groups_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_groups_fail</FONT></A><FONT class=extract size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#930" name=930><FONT class=extract size=4>930</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#931" name=931><FONT class=extract size=4>931</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=pr_debug&amp;project=linux-4.1"><FONT class=extract size=4>pr_debug</FONT></A><FONT class=extract size=4>(<SPAN class=s style="COLOR: green">"bus: '%s': registered\n"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#932" name=932><FONT class=extract size=4>932</FONT></A><FONT class=extract size=4>	<B>return</B> 0;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#933" name=933><FONT class=extract size=4>933</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#934" name=934><FONT class=extract size=4>934</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_groups_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_groups_fail</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#935" name=935><FONT class=extract size=4>935</FONT></A><FONT class=extract size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#remove_probe_files"><FONT class=extract size=4>remove_probe_files</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#936" name=936><FONT class=extract size=4>936</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_probe_files_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_probe_files_fail</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#937" name=937><FONT class=extract size=4>937</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset_unregister&amp;project=linux-4.1"><FONT class=extract size=4>kset_unregister</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_kset&amp;project=linux-4.1"><FONT class=extract size=4>drivers_kset</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#938" name=938><FONT class=extract size=4>938</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_drivers_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_drivers_fail</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#939" name=939><FONT class=extract size=4>939</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset_unregister&amp;project=linux-4.1"><FONT class=extract size=4>kset_unregister</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT class=extract size=4>devices_kset</FONT></A><FONT class=extract size=4>);
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#940" name=940><FONT class=extract size=4>940</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_devices_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_devices_fail</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#941" name=941><FONT class=extract size=4>941</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_remove_file&amp;project=linux-4.1"><FONT class=extract size=4>bus_remove_file</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_attr_uevent&amp;project=linux-4.1"><FONT class=extract size=4>bus_attr_uevent</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#942" name=942><FONT class=extract size=4>942</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_uevent_fail&amp;project=linux-4.1"><FONT class=extract size=4>bus_uevent_fail</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#943" name=943><FONT class=extract size=4>943</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kset_unregister&amp;project=linux-4.1"><FONT class=extract size=4>kset_unregister</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#944" name=944><FONT class=extract size=4>944</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out&amp;project=linux-4.1"><FONT class=extract size=4>out</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#945" name=945><FONT class=extract size=4>945</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kfree&amp;project=linux-4.1"><FONT class=extract size=4>kfree</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#946" name=946><FONT class=extract size=4>946</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#947" name=947><FONT class=extract size=4>947</FONT></A><FONT class=extract size=4>	<B>return</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=retval&amp;project=linux-4.1"><FONT class=extract size=4>retval</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#948" name=948><FONT class=extract size=4>948</FONT></A><FONT class=extract size=4>}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#949" name=949><FONT class=extract size=4>949</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=EXPORT_SYMBOL_GPL&amp;project=linux-4.1"><FONT class=extract size=4>EXPORT_SYMBOL_GPL</FONT></A><FONT class=extract size=4>(</FONT><A class=xv style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(204,51,0)" name=bus_register></A><A class=xv style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(204,51,0)" href="http://172.21.12.145:8080/source/s?refs=bus_register&amp;project=linux-4.1"><FONT class=extract size=4>bus_register</FONT></A><FONT class=extract size=4>);</FONT></PRE>
<BLOCKQUOTE>
<P><FONT class=extract>&#35813;&#21151;&#33021;&#30340;&#25191;&#34892;&#36923;&#36753;&#22914;&#19979;&#65306; </FONT></P>
<UL>
<LI><FONT class=extract>&#20026;bus_type&#20013;struct subsys_private&#31867;&#22411;&#30340;&#25351;&#38024;&#20998;&#37197;&#31354;&#38388;&#65292;&#24182;&#26356;&#26032;priv-&gt;bus&#21644;bus-&gt;p&#20004;&#20010;&#25351;&#38024;&#20026;&#27491;&#30830;&#30340;&#20540; </FONT>
<LI><FONT class=extract>&#21021;&#22987;&#21270;priv-&gt;subsys.kobj&#30340;name&#12289;kset&#12289;ktype&#31561;&#23383;&#27573;&#65292;&#21551;&#21160;name&#23601;&#26159;&#35813;bus&#30340;name&#65288;&#23427;&#20250;&#20307;&#29616;&#22312;sysfs&#20013;&#65289;&#65292;kset&#21644;ktype&#30001;bus&#27169;&#22359;&#23454;&#29616;&#65292;&#20998;&#21035;&#20026;bus_kset&#21644;bus_ktype </FONT>
<LI><FONT class=extract>&#35843;&#29992;kset_register&#23558;priv-&gt;subsys&#27880;&#20876;&#21040;&#20869;&#26680;&#20013;&#65292;&#35813;&#25509;&#21475;&#21516;&#26102;&#20250;&#21521;sysfs&#20013;&#28155;&#21152;&#23545;&#24212;&#30340;&#30446;&#24405;&#65288;&#22914;/sys/bus/spi&#65289; </FONT>
<LI><FONT class=extract>&#35843;&#29992;bus_create_file&#21521;bus&#30446;&#24405;&#19979;&#28155;&#21152;&#19968;&#20010;uevent attribute&#65288;&#22914;/sys/bus/spi/uevent&#65289; </FONT>
<LI><FONT class=extract>&#35843;&#29992;kset_create_and_add&#20998;&#21035;&#21521;&#20869;&#26680;&#28155;&#21152;devices&#21644;device_drivers kset&#65292;&#21516;&#26102;&#20250;&#20307;&#29616;&#22312;sysfs&#20013; </FONT>
<LI><FONT class=extract>&#21021;&#22987;&#21270;priv&#25351;&#38024;&#20013;&#30340;mutex&#12289;klist_devices&#21644;klist_drivers&#31561;&#21464;&#37327; </FONT>
<LI><FONT class=extract>&#35843;&#29992;add_probe_files&#25509;&#21475;&#65292;&#22312;bus&#19979;&#28155;&#21152;drivers_probe&#21644;drivers_autoprobe&#20004;&#20010;attribute&#65288;&#22914;/sys/bus/spi/drivers_probe&#21644;/sys/bus/spi/drivers_autoprobe&#65289;&#65292;&#20854;&#20013;drivers_probe&#20801;&#35768;&#29992;&#25143;&#31354;&#38388;&#31243;&#24207;&#20027;&#21160;&#20986;&#21457;&#25351;&#23450;bus&#19979;&#30340;device_driver&#30340;probe&#21160;&#20316;&#65292;&#32780;drivers_autoprobe&#25511;&#21046;&#26159;&#21542;&#22312;device&#25110;device_driver&#28155;&#21152;&#21040;&#20869;&#26680;&#26102;&#65292;&#33258;&#21160;&#25191;&#34892;probe </FONT>
<LI><FONT class=extract>&#35843;&#29992;bus_add_attrs&#65292;&#28155;&#21152;&#30001;bus_attrs&#25351;&#38024;&#23450;&#20041;&#30340;bus&#30340;&#40664;&#35748;attribute&#65292;&#36825;&#20123;attributes&#26368;&#32456;&#20250;&#20307;&#29616;&#22312;/sys/bus/xxx&#30446;&#24405;&#19979;</FONT> </LI></UL></BLOCKQUOTE>
<H5>3.2 <FONT class=extract>device&#21644;device_driver&#30340;&#28155;&#21152; </FONT></H5>
<P><FONT class=extract>&#25105;&#20204;&#26377;&#22312;"</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</FONT></A><FONT class=extract>&#8221;&#20013;&#35762;&#36807;&#65292;<FONT class=extract>&#20869;&#26680;&#25552;&#20379;&#20102;device_register&#21644;driver_register&#20004;&#20010;&#25509;&#21475;&#65292;&#20379;&#21508;&#20010;driver&#27169;&#22359;&#20351;&#29992;&#12290;&#32780;&#36825;&#20004;&#20010;&#25509;&#21475;&#30340;&#26680;&#24515;&#36923;&#36753;&#65292;&#26159;&#36890;&#36807;bus&#27169;&#22359;&#30340;bus_add_device&#21644;bus_add_driver&#23454;&#29616;&#30340;</FONT>&#65292;&#19979;&#38754;&#25105;&#20204;&#30475;&#30475;&#36825;&#20004;&#20010;&#25509;&#21475;&#30340;&#22788;&#29702;&#36923;&#36753;&#12290; </FONT></P>
<P><FONT class=extract>&#36825;&#20004;&#20010;&#25509;&#21475;&#37117;&#26159;&#22312;drivers/base/base.h&#20013;&#22768;&#26126;&#65292;&#22312;drivers/base/bus.c&#20013;&#23454;&#29616;&#65292;&#20854;&#21407;&#22411;&#20026;&#65306; </FONT></P><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN class=c style="COLOR: rgb(102,102,102)"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#499" name=499><FONT class=extract size=4>499</FONT></A><FONT class=extract size=4> * bus_add_device - add device to bus
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#500" name=500><FONT class=extract size=4>500</FONT></A><FONT class=extract size=4> * @dev: device being added
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#501" name=501><FONT class=extract size=4>501</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#502" name=502><FONT class=extract size=4>502</FONT></A><FONT class=extract size=4> * - Add device's bus attributes.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#503" name=503><FONT class=extract size=4>503</FONT></A><FONT class=extract size=4> * - Create links to device's bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#504" name=504><FONT class=extract size=4>504</FONT></A><FONT class=extract size=4> * - Add the device to its bus's list of devices.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#505" name=505><FONT class=extract size=4>505</FONT></A><FONT class=extract size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#506" name=506><FONT class=extract size=4>506</FONT></A><FONT size=4><FONT class=extract><B>int</B> </FONT></FONT><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" name=bus_add_device></A><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" href="http://172.21.12.145:8080/source/s?refs=bus_add_device&amp;project=linux-4.1"><FONT class=extract size=4>bus_add_device</FONT></A><FONT class=extract size=4>(<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device&amp;project=linux-4.1"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" name=dev></A><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" href="http://172.21.12.145:8080/source/s?refs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#507" name=507><FONT class=extract size=4>507</FONT></A><FONT class=extract size=4>{
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#508" name=508><FONT class=extract size=4>508</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_type&amp;project=linux-4.1"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=bus></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_get"><FONT class=extract size=4>bus_get</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>-&gt;</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=bus></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#509" name=509><FONT class=extract size=4>509</FONT></A><FONT class=extract size=4>	<B>int</B> </FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=error></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = 0;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#510" name=510><FONT class=extract size=4>510</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#511" name=511><FONT class=extract size=4>511</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#512" name=512><FONT class=extract size=4>512</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=pr_debug&amp;project=linux-4.1"><FONT class=extract size=4>pr_debug</FONT></A><FONT class=extract size=4>(<SPAN class=s style="COLOR: green">"bus: '%s': add device %s\n"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_name&amp;project=linux-4.1"><FONT class=extract size=4>dev_name</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>));
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#513" name=513><FONT class=extract size=4>513</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#device_add_attrs"><FONT class=extract size=4>device_add_attrs</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#514" name=514><FONT class=extract size=4>514</FONT></A><FONT class=extract size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#515" name=515><FONT class=extract size=4>515</FONT></A><FONT class=extract size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put&amp;project=linux-4.1"><FONT class=extract size=4>out_put</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#516" name=516><FONT class=extract size=4>516</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device_add_groups&amp;project=linux-4.1"><FONT class=extract size=4>device_add_groups</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_groups&amp;project=linux-4.1"><FONT class=extract size=4>dev_groups</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#517" name=517><FONT class=extract size=4>517</FONT></A><FONT class=extract size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#518" name=518><FONT class=extract size=4>518</FONT></A><FONT class=extract size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_id&amp;project=linux-4.1"><FONT class=extract size=4>out_id</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#519" name=519><FONT class=extract size=4>519</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sysfs_create_link&amp;project=linux-4.1"><FONT class=extract size=4>sysfs_create_link</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT class=extract size=4>devices_kset</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>,
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#520" name=520><FONT class=extract size=4>520</FONT></A><FONT class=extract size=4>						&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_name&amp;project=linux-4.1"><FONT class=extract size=4>dev_name</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>));
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#521" name=521><FONT class=extract size=4>521</FONT></A><FONT class=extract size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#522" name=522><FONT class=extract size=4>522</FONT></A><FONT class=extract size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_groups&amp;project=linux-4.1"><FONT class=extract size=4>out_groups</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#523" name=523><FONT class=extract size=4>523</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sysfs_create_link&amp;project=linux-4.1"><FONT class=extract size=4>sysfs_create_link</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#524" name=524><FONT class=extract size=4>524</FONT></A><FONT class=extract size=4>				&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>.</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>, <SPAN class=s style="COLOR: green">"subsystem"</SPAN>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#525" name=525><FONT class=extract size=4>525</FONT></A><FONT class=extract size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#526" name=526><FONT class=extract size=4>526</FONT></A><FONT class=extract size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_subsys&amp;project=linux-4.1"><FONT class=extract size=4>out_subsys</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#527" name=527><FONT class=extract size=4>527</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_add_tail&amp;project=linux-4.1"><FONT class=extract size=4>klist_add_tail</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=knode_bus&amp;project=linux-4.1"><FONT class=extract size=4>knode_bus</FONT></A><FONT class=extract size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_devices&amp;project=linux-4.1"><FONT class=extract size=4>klist_devices</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#528" name=528><FONT class=extract size=4>528</FONT></A><FONT class=extract size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#529" name=529><FONT class=extract size=4>529</FONT></A><FONT class=extract size=4>	<B>return</B> 0;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#530" name=530><FONT class=extract size=4>530</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#531" name=531><FONT class=extract size=4>531</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_subsys&amp;project=linux-4.1"><FONT class=extract size=4>out_subsys</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#532" name=532><FONT class=extract size=4>532</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sysfs_remove_link&amp;project=linux-4.1"><FONT class=extract size=4>sysfs_remove_link</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=devices_kset&amp;project=linux-4.1"><FONT class=extract size=4>devices_kset</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_name&amp;project=linux-4.1"><FONT class=extract size=4>dev_name</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>));
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#533" name=533><FONT class=extract size=4>533</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_groups&amp;project=linux-4.1"><FONT class=extract size=4>out_groups</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#534" name=534><FONT class=extract size=4>534</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device_remove_groups&amp;project=linux-4.1"><FONT class=extract size=4>device_remove_groups</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev_groups&amp;project=linux-4.1"><FONT class=extract size=4>dev_groups</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#535" name=535><FONT class=extract size=4>535</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_id&amp;project=linux-4.1"><FONT class=extract size=4>out_id</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#536" name=536><FONT class=extract size=4>536</FONT></A><FONT class=extract size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#device_remove_attrs"><FONT class=extract size=4>device_remove_attrs</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#537" name=537><FONT class=extract size=4>537</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put&amp;project=linux-4.1"><FONT class=extract size=4>out_put</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#538" name=538><FONT class=extract size=4>538</FONT></A><FONT class=extract size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_put"><FONT class=extract size=4>bus_put</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#539" name=539><FONT class=extract size=4>539</FONT></A><FONT class=extract size=4>	<B>return</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#540" name=540><FONT class=extract size=4>540</FONT></A><FONT class=extract size=4>}</FONT></PRE><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#662" name=662><FONT class=extract size=4>662</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT class=extract size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#663" name=663><FONT class=extract size=4>663</FONT></A><FONT class=extract size=4> * bus_add_driver - Add a driver to the bus.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#664" name=664><FONT class=extract size=4>664</FONT></A><FONT class=extract size=4> * @drv: driver.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#665" name=665><FONT class=extract size=4>665</FONT></A><FONT class=extract size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#666" name=666><FONT class=extract size=4>666</FONT></A><FONT size=4><FONT class=extract><B>int</B> </FONT></FONT><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" name=bus_add_driver></A><A class=xf style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,0,255)" href="http://172.21.12.145:8080/source/s?refs=bus_add_driver&amp;project=linux-4.1"><FONT class=extract size=4>bus_add_driver</FONT></A><FONT class=extract size=4>(<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=device_driver&amp;project=linux-4.1"><FONT class=extract size=4>device_driver</FONT></A><FONT class=extract size=4> *</FONT><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" name=drv></A><A class=xa style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(102,0,204)" href="http://172.21.12.145:8080/source/s?refs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#667" name=667><FONT class=extract size=4>667</FONT></A><FONT class=extract size=4>{
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#668" name=668><FONT class=extract size=4>668</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus_type&amp;project=linux-4.1"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=bus></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#669" name=669><FONT class=extract size=4>669</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_private&amp;project=linux-4.1"><FONT class=extract size=4>driver_private</FONT></A><FONT class=extract size=4> *</FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=priv></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#670" name=670><FONT class=extract size=4>670</FONT></A><FONT class=extract size=4>	<B>int</B> </FONT><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" name=error></A><A class=xl style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,102,51)" href="http://172.21.12.145:8080/source/s?refs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = 0;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#671" name=671><FONT class=extract size=4>671</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#672" name=672><FONT class=extract size=4>672</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_get"><FONT class=extract size=4>bus_get</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#673" name=673><FONT class=extract size=4>673</FONT></A><FONT class=extract size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#674" name=674><FONT class=extract size=4>674</FONT></A><FONT class=extract size=4>		<B>return</B> -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=EINVAL&amp;project=linux-4.1"><FONT class=extract size=4>EINVAL</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#675" name=675><FONT class=extract size=4>675</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#676" name=676><FONT class=extract size=4>676</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=pr_debug&amp;project=linux-4.1"><FONT class=extract size=4>pr_debug</FONT></A><FONT class=extract size=4>(<SPAN class=s style="COLOR: green">"bus: '%s': add driver %s\n"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#677" name=677><FONT class=extract size=4>677</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#678" name=678><FONT class=extract size=4>678</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kzalloc&amp;project=linux-4.1"><FONT class=extract size=4>kzalloc</FONT></A><FONT class=extract size=4>(<B>sizeof</B>(*</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>), </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=GFP_KERNEL&amp;project=linux-4.1"><FONT class=extract size=4>GFP_KERNEL</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#679" name=679><FONT class=extract size=4>679</FONT></A><FONT class=extract size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>) {
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#680" name=680><FONT class=extract size=4>680</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = -</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=ENOMEM&amp;project=linux-4.1"><FONT class=extract size=4>ENOMEM</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#681" name=681><FONT class=extract size=4>681</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put_bus&amp;project=linux-4.1"><FONT class=extract size=4>out_put_bus</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#682" name=682><FONT class=extract size=4>682</FONT></A><FONT class=extract size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#683" name=683><FONT class=extract size=4>683</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_init&amp;project=linux-4.1"><FONT class=extract size=4>klist_init</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_devices&amp;project=linux-4.1"><FONT class=extract size=4>klist_devices</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#684" name=684><FONT class=extract size=4>684</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver&amp;project=linux-4.1"><FONT class=extract size=4>driver</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#685" name=685><FONT class=extract size=4>685</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;p = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#686" name=686><FONT class=extract size=4>686</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>.</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#kset"><FONT class=extract size=4>kset</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_kset&amp;project=linux-4.1"><FONT class=extract size=4>drivers_kset</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#687" name=687><FONT class=extract size=4>687</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobject_init_and_add&amp;project=linux-4.1"><FONT class=extract size=4>kobject_init_and_add</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>, &amp;</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#driver_ktype"><FONT class=extract size=4>driver_ktype</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#688" name=688><FONT class=extract size=4>688</FONT></A><FONT class=extract size=4>				     <SPAN class=s style="COLOR: green">"%s"</SPAN>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#689" name=689><FONT class=extract size=4>689</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>)
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#690" name=690><FONT class=extract size=4>690</FONT></A><FONT class=extract size=4>		<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_unregister&amp;project=linux-4.1"><FONT class=extract size=4>out_unregister</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#691" name=691><FONT class=extract size=4>691</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#692" name=692><FONT class=extract size=4>692</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_add_tail&amp;project=linux-4.1"><FONT class=extract size=4>klist_add_tail</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=knode_bus&amp;project=linux-4.1"><FONT class=extract size=4>knode_bus</FONT></A><FONT class=extract size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=klist_drivers&amp;project=linux-4.1"><FONT class=extract size=4>klist_drivers</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#693" name=693><FONT class=extract size=4>693</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;p-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drivers_autoprobe&amp;project=linux-4.1"><FONT class=extract size=4>drivers_autoprobe</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#694" name=694><FONT class=extract size=4>694</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_attach&amp;project=linux-4.1"><FONT class=extract size=4>driver_attach</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#695" name=695><FONT class=extract size=4>695</FONT></A><FONT class=extract size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>)
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#696" name=696><FONT class=extract size=4>696</FONT></A><FONT class=extract size=4>			<B>goto</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_unregister&amp;project=linux-4.1"><FONT class=extract size=4>out_unregister</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#697" name=697><FONT class=extract size=4>697</FONT></A><FONT class=extract size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#698" name=698><FONT class=extract size=4>698</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=module_add_driver&amp;project=linux-4.1"><FONT class=extract size=4>module_add_driver</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=owner&amp;project=linux-4.1"><FONT class=extract size=4>owner</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#699" name=699><FONT class=extract size=4>699</FONT></A>
<A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#700" name=700><FONT class=extract size=4>700</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_create_file&amp;project=linux-4.1"><FONT class=extract size=4>driver_create_file</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>, &amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_attr_uevent&amp;project=linux-4.1"><FONT class=extract size=4>driver_attr_uevent</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#701" name=701><FONT class=extract size=4>701</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#702" name=702><FONT class=extract size=4>702</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=printk&amp;project=linux-4.1"><FONT class=extract size=4>printk</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=KERN_ERR&amp;project=linux-4.1"><FONT class=extract size=4>KERN_ERR</FONT></A><FONT class=extract size=4> <SPAN class=s style="COLOR: green">"%s: uevent attr (%s) failed\n"</SPAN>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#703" name=703><FONT class=extract size=4>703</FONT></A><FONT class=extract size=4>			</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__func__&amp;project=linux-4.1"><FONT class=extract size=4>__func__</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#704" name=704><FONT class=extract size=4>704</FONT></A><FONT class=extract size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#705" name=705><FONT class=extract size=4>705</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=driver_add_groups&amp;project=linux-4.1"><FONT class=extract size=4>driver_add_groups</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv_groups&amp;project=linux-4.1"><FONT class=extract size=4>drv_groups</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#706" name=706><FONT class=extract size=4>706</FONT></A><FONT class=extract size=4>	<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#707" name=707><FONT class=extract size=4>707</FONT></A><FONT class=extract size=4>		<SPAN class=c style="COLOR: rgb(102,102,102)">/* How the hell do we get out of this pickle? Give up */</SPAN>
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#708" name=708><FONT class=extract size=4>708</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=printk&amp;project=linux-4.1"><FONT class=extract size=4>printk</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=KERN_ERR&amp;project=linux-4.1"><FONT class=extract size=4>KERN_ERR</FONT></A><FONT class=extract size=4> <SPAN class=s style="COLOR: green">"%s: driver_create_groups(%s) failed\n"</SPAN>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#709" name=709><FONT class=extract size=4>709</FONT></A><FONT class=extract size=4>			</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__func__&amp;project=linux-4.1"><FONT class=extract size=4>__func__</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#710" name=710><FONT class=extract size=4>710</FONT></A><FONT class=extract size=4>	}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#711" name=711><FONT class=extract size=4>711</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#712" name=712><FONT class=extract size=4>712</FONT></A><FONT class=extract size=4>	<B>if</B> (!</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=suppress_bind_attrs&amp;project=linux-4.1"><FONT class=extract size=4>suppress_bind_attrs</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#713" name=713><FONT class=extract size=4>713</FONT></A><FONT class=extract size=4>		</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4> = </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#add_bind_files"><FONT class=extract size=4>add_bind_files</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#714" name=714><FONT class=extract size=4>714</FONT></A><FONT class=extract size=4>		<B>if</B> (</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>) {
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#715" name=715><FONT class=extract size=4>715</FONT></A><FONT class=extract size=4>			<SPAN class=c style="COLOR: rgb(102,102,102)">/* Ditto */</SPAN>
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#716" name=716><FONT class=extract size=4>716</FONT></A><FONT class=extract size=4>			</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=printk&amp;project=linux-4.1"><FONT class=extract size=4>printk</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=KERN_ERR&amp;project=linux-4.1"><FONT class=extract size=4>KERN_ERR</FONT></A><FONT class=extract size=4> <SPAN class=s style="COLOR: green">"%s: add_bind_files(%s) failed\n"</SPAN>,
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#717" name=717><FONT class=extract size=4>717</FONT></A><FONT class=extract size=4>				</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=__func__&amp;project=linux-4.1"><FONT class=extract size=4>__func__</FONT></A><FONT class=extract size=4>, </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#718" name=718><FONT class=extract size=4>718</FONT></A><FONT class=extract size=4>		}
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#719" name=719><FONT class=extract size=4>719</FONT></A><FONT class=extract size=4>	}
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#720" name=720><FONT class=extract size=4>720</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#721" name=721><FONT class=extract size=4>721</FONT></A><FONT class=extract size=4>	<B>return</B> 0;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#722" name=722><FONT class=extract size=4>722</FONT></A>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#723" name=723><FONT class=extract size=4>723</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_unregister&amp;project=linux-4.1"><FONT class=extract size=4>out_unregister</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#724" name=724><FONT class=extract size=4>724</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobject_put&amp;project=linux-4.1"><FONT class=extract size=4>kobject_put</FONT></A><FONT class=extract size=4>(&amp;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=priv&amp;project=linux-4.1"><FONT class=extract size=4>priv</FONT></A><FONT class=extract size=4>-&gt;</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kobj&amp;project=linux-4.1"><FONT class=extract size=4>kobj</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#725" name=725><FONT class=extract size=4>725</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=kfree&amp;project=linux-4.1"><FONT class=extract size=4>kfree</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;p);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#726" name=726><FONT class=extract size=4>726</FONT></A><FONT class=extract size=4>	</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=drv&amp;project=linux-4.1"><FONT class=extract size=4>drv</FONT></A><FONT class=extract size=4>-&gt;p = </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.1"><FONT class=extract size=4>NULL</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#727" name=727><FONT class=extract size=4>727</FONT></A><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=out_put_bus&amp;project=linux-4.1"><FONT class=extract size=4>out_put_bus</FONT></A><FONT class=extract size=4>:
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#728" name=728><FONT class=extract size=4>728</FONT></A><FONT class=extract size=4>	</FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#bus_put"><FONT class=extract size=4>bus_put</FONT></A><FONT class=extract size=4>(</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=bus&amp;project=linux-4.1"><FONT class=extract size=4>bus</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#729" name=729><FONT class=extract size=4>729</FONT></A><FONT class=extract size=4>	<B>return</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=error&amp;project=linux-4.1"><FONT class=extract size=4>error</FONT></A><FONT class=extract size=4>;
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/drivers/base/bus.c#730" name=730><FONT class=extract size=4>730</FONT></A><FONT class=extract size=4>}</FONT></PRE></PRE>
<BLOCKQUOTE>
<P><FONT class=extract>bus_add_device&#30340;&#22788;&#29702;&#36923;&#36753;&#65306; </FONT></P>
<UL>
<LI><FONT class=extract>&#35843;&#29992;&#20869;&#37096;&#30340;device_add_attrs&#25509;&#21475;&#65292;&#23558;&#30001;bus-&gt;dev_attrs&#25351;&#38024;&#23450;&#20041;&#30340;&#40664;&#35748;attribute&#28155;&#21152;&#21040;&#20869;&#26680;&#20013;&#65292;&#23427;&#20204;&#20250;&#20307;&#29616;&#22312;/sys/devices/xxx/xxx_device/&#30446;&#24405;&#20013; </FONT>
<LI><FONT class=extract>&#35843;&#29992;sysfs_create_link&#25509;&#21475;&#65292;&#23558;&#35813;device&#22312;sysfs&#20013;&#30340;&#30446;&#24405;&#65292;&#38142;&#25509;&#21040;&#35813;bus&#30340;devices&#30446;&#24405;&#19979;&#65292;&#20363;&#22914;&#65306; <BR></FONT>
<P><FONT class=extract>xxx# ls /sys/bus/spi/devices/spi1.0 -l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>lrwxrwxrwx root&nbsp;&nbsp;&nbsp;&nbsp; root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2014-04-11 10:46 <SPAN style="COLOR: rgb(255,0,0)">spi1.0</SPAN> -&gt; ../../../devices/platform/s3c64xx-spi.1/spi_master/spi1/</FONT><FONT class=extract><SPAN style="COLOR: rgb(255,0,0)">spi1.0 <BR></SPAN><SPAN style="COLOR: rgb(0,0,0)">&#20854;&#20013;/sys/devices/&#8230;/spi1.0&#65292;&#20026;&#35813;device&#22312;sysfs&#20013;&#30495;&#27491;&#30340;&#20301;&#32622;&#65292;&#32780;&#20026;&#20102;&#26041;&#20415;&#31649;&#29702;&#65292;&#20869;&#26680;&#22312;&#35813;&#35774;&#22791;&#25152;&#22312;&#30340;bus&#30340;xxx_bus/devices&#30446;&#24405;&#20013;&#65292;&#21019;&#24314;&#20102;&#19968;&#20010;&#31526;&#21495;&#38142;&#25509;</SPAN> </FONT></P><SPAN style="COLOR: rgb(0,0,0)"></SPAN>
<LI><FONT class=extract>&#35843;&#29992;sysfs_create_link&#25509;&#21475;&#65292;&#22312;&#35813;&#35774;&#22791;&#30340;sysfs&#30446;&#24405;&#20013;&#65288;&#22914;/sys/devices/platform/alarm/&#65289;&#20013;&#65292;&#21019;&#24314;&#19968;&#20010;&#25351;&#21521;&#35813;&#35774;&#22791;&#25152;&#22312;bus&#30446;&#24405;&#30340;&#38142;&#25509;&#65292;&#21462;&#21517;&#20026;subsystem&#65292;&#20363;&#22914;&#65306; <BR></FONT>
<P><FONT class=extract>xxx # ls /sys/devices/platform/alarm/<SPAN style="COLOR: rgb(255,0,0)">subsystem</SPAN> -l&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>lrwxrwxrwx root&nbsp;&nbsp;&nbsp;&nbsp; root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2014-04-11 10:28 subsystem -&gt; <SPAN style="COLOR: rgb(255,0,0)">../../../bus/platform</SPAN> </FONT></P>
<LI><FONT class=extract>&#26368;&#21518;&#65292;&#27627;&#26080;&#30097;&#38382;&#65292;&#35201;&#25226;&#35813;&#35774;&#22791;&#25351;&#38024;&#20445;&#23384;&#22312;bus-&gt;priv-&gt;klist_devices&#20013; </FONT></LI></UL>
<P><FONT class=extract>bus_add_driver&#30340;&#22788;&#29702;&#36923;&#36753;&#65306; </FONT></P>
<UL>
<LI><FONT class=extract>&#20026;&#35813;driver&#30340;struct driver_private&#25351;&#38024;&#65288;priv&#65289;&#20998;&#37197;&#31354;&#38388;&#65292;&#24182;&#21021;&#22987;&#21270;&#20854;&#20013;&#30340;priv-&gt;klist_devices&#12289;priv-&gt;driver&#12289;priv-&gt;kobj.kset&#31561;&#21464;&#37327;&#65292;&#21516;&#26102;&#23558;&#35813;&#25351;&#38024;&#20445;&#23384;&#22312;device_driver&#30340;p&#22788; </FONT>
<LI><FONT class=extract>&#23558;driver&#30340;kset&#65288;priv-&gt;kobj.kset&#65289;&#35774;&#32622;&#20026;bus&#30340;drivers kset&#65288;bus-&gt;p-&gt;drivers_kset&#65289;&#65292;&#36825;&#23601;&#24847;&#21619;&#30528;&#25152;&#26377;driver&#30340;kobject&#37117;&#20301;&#20110;bus-&gt;p-&gt;drivers_kset&#20043;&#19979;&#65288;&#23492;/sys/bus/xxx/drivers&#30446;&#24405;&#19979;&#65289; </FONT>
<LI><FONT class=extract>&#20197;driver&#30340;&#21517;&#23383;&#20026;&#21442;&#25968;&#65292;&#35843;&#29992;kobject_init_and_add&#25509;&#21475;&#65292;&#22312;sysfs&#20013;&#27880;&#20876;driver&#30340;kobject&#65292;&#20307;&#29616;&#22312;/sys/bus/xxx/drivers/&#30446;&#24405;&#19979;&#65292;&#22914;/sys/bus/spi/drivers/spidev </FONT>
<LI><FONT class=extract>&#23558;&#35813;driver&#20445;&#23384;&#22312;bus&#30340;klist_drivers&#38142;&#34920;&#20013;&#65292;&#24182;&#26681;&#25454;drivers_autoprobe&#30340;&#20540;&#65292;&#36873;&#25321;&#26159;&#21542;&#35843;&#29992;driver_attach&#36827;&#34892;probe </FONT>
<LI><FONT class=extract>&#35843;&#29992;driver_create_file&#25509;&#21475;&#65292;&#22312;sysfs&#30340;&#35813;driver&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;uevent attribute </FONT>
<LI><FONT class=extract>&#35843;&#29992;driver_add_attrs&#25509;&#21475;&#65292;&#22312;sysfs&#30340;&#35813;driver&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;&#30001;bus-&gt;drv_attrs&#25351;&#38024;&#23450;&#20041;&#30340;&#40664;&#35748;attribute </FONT>
<LI><FONT class=extract>&#21516;&#26102;&#26681;&#25454;suppress_bind_attrs&#26631;&#24535;&#65292;&#20915;&#23450;&#26159;&#21542;&#22312;sysfs&#30340;&#35813;driver&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;bind&#21644;unbind attribute&#65288;&#20855;&#20307;&#21487;&#21442;&#32771;"</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</FONT></A><FONT class=extract>&#8221;&#20013;&#30340;&#20171;&#32461;&#65289;</FONT> <BR></LI></UL></BLOCKQUOTE>
<H5>3.3 <FONT class=extract>driver&#30340;probe </FONT></H5>
<P><FONT class=extract>&#25105;&#20204;&#22312;"</FONT><A href="http://www.wowotech.net/linux_kenrel/device_and_driver.html"><FONT class=extract>Linux&#35774;&#22791;&#27169;&#22411;(5)_device&#21644;device driver</FONT></A><FONT class=extract>&#8221;&#20013;&#65292;&#25105;&#20204;&#24050;&#32463;&#20171;&#32461;&#36807;driver&#30340;probe&#26102;&#26426;&#21450;&#36807;&#31243;&#65292;&#20854;&#20013;&#22823;&#37096;&#20998;&#30340;&#36923;&#36753;&#20250;&#20381;&#36182;bus&#27169;&#22359;&#30340;&#23454;&#29616;&#65292;&#20027;&#35201;&#20026;bus_probe_device&#21644;driver_attach&#25509;&#21475;&#12290;&#21516;&#26679;&#65292;&#36825;&#20004;&#20010;&#25509;&#21475;&#37117;&#26159;&#22312;drivers/base/base.h&#20013;&#22768;&#26126;&#65292;&#22312;drivers/base/bus.c&#20013;&#23454;&#29616;&#12290; </FONT></P>
<P><FONT class=extract>&#36825;&#20004;&#20010;&#32467;&#26500;&#30340;&#34892;&#20026;&#31867;&#20284;&#65292;&#36923;&#36753;&#20063;&#24456;&#31616;&#21333;&#65292;&#26082;&#65306;&#25628;&#32034;&#25152;&#22312;&#30340;bus&#65292;&#27604;&#23545;&#26159;&#21542;&#26377;&#21516;&#21517;&#30340;device_driver&#65288;&#25110;device&#65289;&#65292;&#22914;&#26524;&#26377;<SPAN style="COLOR: rgb(229,51,51)">&#24182;&#19988;&#35813;&#35774;&#22791;&#27809;&#26377;&#32465;&#23450;Driver&#65288;&#27880;&#65306;&#36825;&#19968;&#28857;&#24456;&#37325;&#35201;&#65292;&#36890;&#36807;&#23427;&#65292;&#21487;&#20197;&#20351;&#21516;&#19968;&#20010;Driver&#65292;&#39537;&#21160;&#30456;&#21516;&#21517;&#31216;&#30340;&#22810;&#20010;&#35774;&#22791;&#65292;&#21518;&#32493;&#22312;Platform&#35774;&#22791;&#30340;&#25551;&#36848;&#20013;&#20250;&#25552;&#21450;&#65289;</SPAN>&#21017;&#35843;&#29992;device_driver&#30340;probe&#25509;&#21475;&#12290;</FONT> </P>
<H4>4. &#26434;&#39033; </H4>
<H5>4.1 <FONT class=extract>&#20877;&#35848;Subsystem </FONT></H5>
<P><FONT class=extract>&#22312;&#26087;&#30340;Linux&#20869;&#26680;&#29256;&#26412;&#20013;&#65288;&#20197;&#34583;&#34583;&#20351;&#29992;&#30340;linux2.6.23&#29256;&#26412;&#30340;&#20869;&#26680;&#20026;&#20363;&#65289;&#65292;sysfs&#19979;&#25152;&#26377;&#30340;&#39030;&#23618;&#30446;&#24405;&#65288;&#21253;&#25324;&#19968;&#20123;&#20108;&#32423;&#30446;&#24405;&#65289;&#37117;&#26159;&#20197;&#35843;&#29992;subsystem_register&#25509;&#21475;&#65292;&#20197;sub-system&#30340;&#24418;&#24335;&#27880;&#20876;&#21040;&#20869;&#26680;&#30340;&#65292;&#22914;&#65306; </FONT></P>
<BLOCKQUOTE>
<P><FONT class=extract>/sys/bus/ </FONT></P>
<P><FONT class=extract>/sys/devices/ </FONT></P>
<P><FONT class=extract>/sys/devices/system/ </FONT></P>
<P><FONT class=extract>/sys/block </FONT></P>
<P><FONT class=extract>/sys/kernel/ </FONT></P>
<P><FONT class=extract>/sys/slab/ </FONT></P>
<P><FONT class=extract>&#8230; </FONT></P><SPAN style="BACKGROUND-COLOR: rgb(255,255,255)"></SPAN></BLOCKQUOTE>
<P><FONT class=extract>&#37027;&#26102;&#30340;subsystem_register&#30340;&#23454;&#29616;&#24456;&#31616;&#21333;&#65292;&#23601;&#26159;&#35843;&#29992;kset_register&#65292;&#21019;&#24314;&#19968;&#20010;kset&#12290;&#25105;&#20204;&#30693;&#36947;&#65292;kset&#23601;&#26159;&#19968;&#22534;kobject&#30340;&#38598;&#21512;&#65292;&#24182;&#20250;&#22312;sysfs&#20013;&#20197;&#30446;&#24405;&#30340;&#24418;&#24335;&#21576;&#29616;&#20986;&#26469;&#12290; </FONT></P>
<P><FONT class=extract>&#22312;&#26032;&#29256;&#26412;&#30340;&#20869;&#26680;&#20013;&#65288;&#22914;</FONT><A href="http://www.wowotech.net/linux_kenrel/11.html"><FONT class=extract>&#8220;Linux&#20869;&#26680;&#20998;&#26512;&#8221;&#31995;&#21015;&#25991;&#31456;</FONT></A><FONT class=extract>&#25152;&#21442;&#32771;&#30340;linux3.10.29&#65289;&#65292;subsystem&#30340;&#23454;&#29616;&#26377;&#20102;&#24456;&#22823;&#21464;&#21270;&#65292;&#20363;&#22914;&#65306;&#21435;&#25481;&#20102;subsystem_register&#25509;&#21475;&#65288;&#20294;&#20026;&#20102;&#20860;&#23481;/sys/device/system&#23376;&#31995;&#32479;&#65292;&#22312;drivers/base/bus.c&#20013;&#65292;&#22686;&#21152;&#20102;&#19968;&#20010;subsys_register&#30340;&#20869;&#37096;&#25509;&#21475;&#65292;&#29992;&#20110;&#23454;&#29616;&#30456;&#24212;&#30340;&#21151;&#33021;&#65289;&#12290;&#26681;&#25454;&#36825;&#20123;&#21464;&#21270;&#65292;&#29616;&#22312;&#27880;&#20876;subsystem&#26377;&#20004;&#31181;&#26041;&#24335;&#65306; </FONT></P>
<P><FONT class=extract>&#26041;&#24335;&#19968;&#65292;&#22312;&#21508;&#33258;&#30340;&#21021;&#22987;&#21270;&#20989;&#25968;&#20013;&#65292;&#35843;&#29992;kset_create_and_add&#25509;&#21475;&#65292;&#21019;&#24314;&#23545;&#24212;&#30340;&#23376;&#31995;&#32479;&#65292;&#21253;&#25324;&#65306; </FONT></P>
<UL>
<LI><FONT class=extract>bus&#23376;&#31995;&#32479;&#65292;/sys/bus/&#65292;buses_init&#65288;drivers/base/bus.c&#65289; </FONT>
<LI><FONT class=extract>class&#23376;&#31995;&#32479;&#65292;/sys/class </FONT>
<LI><FONT class=extract>kernel&#23376;&#31995;&#32479;&#65292;/sys/kernel </FONT>
<LI><FONT class=extract>firmware&#23376;&#31995;&#32479;&#65292;/sys/firmware </FONT>
<LI><FONT class=extract>&#31561;&#31561; </FONT></LI></UL>
<P><FONT class=extract>&#20854;&#20013;bus&#23376;&#31995;&#32479;&#23601;&#26159;&#26412;&#25991;&#25152;&#35762;&#30340;Bus&#27169;&#22359;&#65292;&#32780;&#20854;&#23427;&#30340;&#65292;&#25105;&#20204;&#20250;&#22312;&#21518;&#32493;&#30340;&#25991;&#31456;&#20013;&#38470;&#32493;&#35762;&#36848;&#12290;&#36825;&#20010;&#26041;&#24335;&#21644;&#26087;&#29256;&#26412;&#20869;&#26680;&#20351;&#29992;kset_register&#25509;&#21475;&#30340;&#26041;&#24335;&#22522;&#26412;&#19968;&#26679;&#12290; </FONT></P>
<P><FONT class=extract>&#26041;&#24335;&#20108;&#65292;&#22312;bus&#27169;&#22359;&#20013;&#65292;&#21033;&#29992;subsys_register&#25509;&#21475;&#65292;&#23553;&#35013;&#20986;&#20004;&#20010;API&#65306;subsys_system_register&#21644;subsys_virtual_register&#65292;&#20998;&#21035;&#29992;&#20110;&#27880;&#20876;system&#35774;&#22791;(/sys/devices/system/*)&#21644;virtual&#35774;&#22791;(/sys/devices/virtual/*)&#12290; &#32780;&#35813;&#26041;&#24335;&#21644;&#26041;&#24335;&#19968;&#30340;&#21306;&#21035;&#26159;&#65306;<SPAN style="COLOR: rgb(255,0,0)">&#23427;&#19981;&#20165;&#20165;&#21019;&#24314;&#20102;sysfs&#20013;&#30340;&#30446;&#24405;&#65292;&#21516;&#26102;&#20250;&#27880;&#20876;&#21516;&#21517;&#30340;bus&#21644;device</SPAN>&#12290;</FONT> </P>
<H5>4.2 <FONT class=extract>system/virtual/platform </FONT></H5>
<P><FONT class=extract>&#22312;Linux&#20869;&#26680;&#20013;&#65292;&#26377;&#19977;&#31181;&#27604;&#36739;&#29305;&#27530;&#30340;bus&#65288;&#25110;&#32773;&#26159;&#23376;&#31995;&#32479;&#65289;&#65292;&#20998;&#21035;&#26159;system bus&#12289;virtual bus&#21644;platform bus&#12290;&#23427;&#20204;&#24182;&#19981;&#26159;&#19968;&#20010;&#23454;&#38469;&#23384;&#22312;&#30340;bus&#65288;&#20687;USB&#12289;I2C&#31561;&#65289;&#65292;&#32780;&#26159;&#20026;&#20102;&#26041;&#20415;&#35774;&#22791;&#27169;&#22411;&#30340;&#25277;&#35937;&#65292;&#32780;&#34394;&#26500;&#30340;&#12290; </FONT></P>
<P><FONT class=extract>system bus&#26159;&#26087;&#29256;&#20869;&#26680;&#25552;&#20986;&#30340;&#27010;&#24565;&#65292;&#29992;&#20110;&#25277;&#35937;&#31995;&#32479;&#35774;&#22791;&#65288;&#22914;CPU&#12289;Timer&#31561;&#31561;&#65289;&#12290;&#32780;&#26032;&#29256;&#20869;&#26680;&#35748;&#20026;&#23427;&#26159;&#20010;&#22351;&#28857;&#23376;&#65292;&#22240;&#20026;&#20219;&#20309;&#35774;&#22791;&#37117;&#24212;&#24402;&#23646;&#20110;&#19968;&#20010;&#26222;&#36890;&#30340;&#23376;&#31995;&#32479;&#65288;New subsystems should use plain subsystems, drivers/base/bus.c, line 1264&#65289;&#65292;&#25152;&#20197;&#23601;&#25226;&#23427;&#25243;&#24323;&#20102;&#65288;&#19981;&#24314;&#35758;&#20877;&#20351;&#29992;&#65292;&#23427;&#30340;&#23384;&#22312;&#21482;&#20026;&#20860;&#23481;&#26087;&#26377;&#30340;&#23454;&#29616;&#65289;&#12290; </FONT></P>
<P><FONT class=extract>virtaul bus&#26159;&#19968;&#20010;&#27604;&#36739;&#26032;&#30340;bus&#65292;&#20027;&#35201;&#29992;&#26469;&#25277;&#35937;&#37027;&#20123;&#34394;&#25311;&#35774;&#22791;&#65292;&#25152;&#35859;&#30340;&#34394;&#25311;&#35774;&#22791;&#65292;&#26159;&#25351;&#19981;&#26159;&#30495;&#23454;&#30340;&#30828;&#20214;&#35774;&#22791;&#65292;&#32780;&#26159;&#29992;&#36719;&#20214;&#27169;&#25311;&#20986;&#26469;&#30340;&#35774;&#22791;&#65292;&#20363;&#22914;&#34394;&#25311;&#26426;&#20013;&#20351;&#29992;&#30340;&#34394;&#25311;&#30340;&#32593;&#32476;&#35774;&#22791;&#65288;&#26377;&#20851;&#35813;bus&#30340;&#25551;&#36848;&#65292;&#21487;&#21442;&#32771;&#35813;&#38142;&#25509;&#22788;&#30340;&#35299;&#37322;&#65306;</FONT><A title=https://lwn.net/Articles/326540/ href="https://lwn.net/Articles/326540/"><FONT class=extract>https://lwn.net/Articles/326540/</FONT></A><FONT class=extract>&#65289;&#12290; </FONT></P>
<P><FONT class=extract>platform bus&#23601;&#27604;&#36739;&#26222;&#36890;&#65292;&#23427;&#20027;&#35201;&#25277;&#35937;&#38598;&#25104;&#22312;CPU&#65288;SOC&#65289;&#20013;&#30340;&#21508;&#31181;&#35774;&#22791;&#12290;&#36825;&#20123;&#35774;&#22791;&#30452;&#25509;&#21644;CPU&#36830;&#25509;&#65292;&#36890;&#36807;&#24635;&#32447;&#23547;&#22336;&#21644;&#20013;&#26029;&#30340;&#26041;&#24335;&#65292;&#21644;CPU&#20132;&#20114;&#20449;&#24687;&#12290;<SPAN style="LINE-HEIGHT: 1.5">&nbsp;</SPAN> </FONT></P>
<P><FONT class=extract>&#25105;&#20204;&#20250;&#22312;&#21518;&#32493;&#30340;&#25991;&#31456;&#20013;&#65292;&#36827;&#19968;&#27493;&#20998;&#26512;&#36825;&#20123;&#29305;&#27530;&#30340;bus&#65292;&#36825;&#37324;&#23601;&#26242;&#26102;&#19981;&#35814;&#32454;&#25551;&#36848;&#20102;&#12290;</FONT> </P>
<P>4.3 <FONT class=extract>subsys interface </FONT></P>
<P><FONT class=extract>subsys interface&#26159;&#19968;&#20010;&#24456;&#22855;&#24618;&#30340;&#19996;&#35199;&#65292;&#38500;&#38750;&#26377;&#19968;&#20010;&#20363;&#23376;&#65292;&#21542;&#21017;&#24456;&#38590;&#29702;&#35299;&#12290;&#20195;&#30721;&#20013;&#26159;&#36825;&#26679;&#27880;&#37322;&#30340;&#65306; </FONT></P>
<P><FONT class=extract>Interfaces usually represent a specific functionality of a subsystem/class of devices. </FONT></P>
<P><FONT class=extract>&#23383;&#38754;&#19978;&#29702;&#35299;&#65292;&#23427;&#25277;&#35937;&#20102;bus&#19979;&#25152;&#26377;&#35774;&#22791;&#30340;&#19968;&#20123;&#29305;&#23450;&#21151;&#33021;&#12290; </FONT></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract>kernel&#20351;&#29992;struct subsys_interface&#32467;&#26500;&#25277;&#35937;subsys interface&#65292;&#24182;&#25552;&#20379;&#20102;subsys_interface_register/subsys_interface_unregister&#29992;&#20110;&#27880;&#20876;/&#27880;&#38144;subsys interface&#65292;bus&#19979;&#25152;&#26377;&#30340;interface&#37117;&#25346;&#36733;&#22312;struct subsys_private&#21464;&#37327;&#30340;&#8220;interface&#8221;&#38142;&#34920;&#19978;&#65288;&#20855;&#20307;&#21487;&#21442;&#32771;2.2&#23567;&#33410;&#30340;&#25551;&#36848;&#65289;&#12290;struct subsys_interface&#30340;&#23450;&#20041;&#22914;&#19979;&#65306; </FONT></SPAN></P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><PRE style="BORDER-TOP: 0px; BORDER-RIGHT: 0px; FONT-VARIANT: normal; WORD-SPACING: 0px; BORDER-BOTTOM: 0px; TEXT-TRANSFORM: none; FONT-WEIGHT: normal; COLOR: rgb(0,0,0); FONT-STYLE: normal; MARGIN: 0px; BORDER-LEFT: 0px; LETTER-SPACING: normal; LINE-HEIGHT: normal; BACKGROUND-COLOR: rgb(255,255,255); TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#296" name=296><FONT class=extract size=4>296</FONT></A><SPAN class=c style="COLOR: rgb(102,102,102)"><FONT class=extract size=4>/**
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#297" name=297><FONT class=extract size=4>297</FONT></A><FONT class=extract size=4> * struct subsys_interface - interfaces to device functions
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#298" name=298><FONT class=extract size=4>298</FONT></A><FONT class=extract size=4> * @name:       name of the device function
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#299" name=299><FONT class=extract size=4>299</FONT></A><FONT class=extract size=4> * @subsys:     subsytem of the devices to attach to
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#300" name=300><FONT class=extract size=4>300</FONT></A><FONT class=extract size=4> * @node:       the list of functions registered at the subsystem
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#301" name=301><FONT class=extract size=4>301</FONT></A><FONT class=extract size=4> * @add_dev:    device hookup to device function handler
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#302" name=302><FONT class=extract size=4>302</FONT></A><FONT class=extract size=4> * @remove_dev: device hookup to device function handler
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#303" name=303><FONT class=extract size=4>303</FONT></A><FONT class=extract size=4> *
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#304" name=304><FONT class=extract size=4>304</FONT></A><FONT class=extract size=4> * Simple interfaces attached to a subsystem. Multiple interfaces can
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#305" name=305><FONT class=extract size=4>305</FONT></A><FONT class=extract size=4> * attach to a subsystem and its devices. Unlike drivers, they do not
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#306" name=306><FONT class=extract size=4>306</FONT></A><FONT class=extract size=4> * exclusively claim or control devices. Interfaces usually represent
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#307" name=307><FONT class=extract size=4>307</FONT></A><FONT class=extract size=4> * a specific functionality of a </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=subsystem/"><FONT class=extract size=4>subsystem</FONT></A><FONT class=extract size=4>/</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?path=subsystem/class"><FONT class=extract size=4>class</FONT></A><FONT class=extract size=4> of devices.
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#308" name=308><FONT class=extract size=4>308</FONT></A><FONT class=extract size=4> */</FONT></SPAN>
<A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; BACKGROUND: orange; COLOR: yellow; TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#309" name=309><FONT class=extract size=4>309</FONT></A><FONT size=4><FONT class=extract><B>struct</B> </FONT></FONT><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" name=subsys_interface></A><A class=xs style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153); FONT-STYLE: italic" href="http://172.21.12.145:8080/source/s?refs=subsys_interface&amp;project=linux-4.1"><FONT class=extract size=4>subsys_interface</FONT></A><FONT class=extract size=4> {
</FONT><A class=hl style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(0,0,0); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#310" name=310><FONT class=extract size=4>310</FONT></A><FONT class=extract size=4>	<B>const</B> <B>char</B> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=name></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=name&amp;project=linux-4.1"><FONT class=extract size=4>name</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#311" name=311><FONT class=extract size=4>311</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#bus_type"><FONT class=extract size=4>bus_type</FONT></A><FONT class=extract size=4> *</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=subsys></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=subsys&amp;project=linux-4.1"><FONT class=extract size=4>subsys</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#312" name=312><FONT class=extract size=4>312</FONT></A><FONT class=extract size=4>	<B>struct</B> </FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=list_head&amp;project=linux-4.1"><FONT class=extract size=4>list_head</FONT></A><FONT class=extract size=4> </FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=node></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=node&amp;project=linux-4.1"><FONT class=extract size=4>node</FONT></A><FONT class=extract size=4>;
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#313" name=313><FONT class=extract size=4>313</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=add_dev></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=add_dev&amp;project=linux-4.1"><FONT class=extract size=4>add_dev</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, <B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#subsys_interface"><FONT class=extract size=4>subsys_interface</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sif&amp;project=linux-4.1"><FONT class=extract size=4>sif</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#314" name=314><FONT class=extract size=4>314</FONT></A><FONT class=extract size=4>	<B>int</B> (*</FONT><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" name=remove_dev></A><A class=xmb style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(0,153,0)" href="http://172.21.12.145:8080/source/s?refs=remove_dev&amp;project=linux-4.1"><FONT class=extract size=4>remove_dev</FONT></A><FONT class=extract size=4>)(<B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#device"><FONT class=extract size=4>device</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=dev&amp;project=linux-4.1"><FONT class=extract size=4>dev</FONT></A><FONT class=extract size=4>, <B>struct</B> </FONT><A class=d style="TEXT-DECORATION: none; FONT-WEIGHT: bold; COLOR: rgb(153,0,153)" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#subsys_interface"><FONT class=extract size=4>subsys_interface</FONT></A><FONT class=extract size=4> *</FONT><A style="TEXT-DECORATION: none; COLOR: rgb(32,32,98)" href="http://172.21.12.145:8080/source/s?defs=sif&amp;project=linux-4.1"><FONT class=extract size=4>sif</FONT></A><FONT class=extract size=4>);
</FONT><A class=l style="TEXT-DECORATION: none; WIDTH: 6ex; COLOR: rgb(102,102,102); TEXT-ALIGN: right; DISPLAY: inline-block; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(221,221,221); MARGIN-RIGHT: 0.5ex" href="http://172.21.12.145:8080/source/xref/linux-4.1/include/linux/device.h#315" name=315><FONT class=extract size=4>315</FONT></A><FONT class=extract size=4>};</FONT></PRE></SPAN>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"></SPAN><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract>name&#65292;interface&#30340;&#21517;&#31216;&#12290; </FONT></SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract>subsys&#65292;interface&#25152;&#23646;&#30340;bus&#12290; </FONT></SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract>node&#65292;&#29992;&#20110;&#23558;interface&#25346;&#21040;bus&#20013;&#12290; </FONT></SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract><FONT class=extract>add_dev/remove_dev&#65292;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#65292;subsys interface&#30340;&#26680;&#24515;&#21151;&#33021;&#12290;&#24403;bus&#19979;&#26377;&#35774;&#22791;&#22686;&#21152;&#25110;&#32773;&#21024;&#38500;&#30340;&#26102;&#20505;&#65292;bus core&#20250;&#35843;&#29992;&#23427;&#19979;&#38754;&#25152;&#26377;subsys interface&#30340;add_dev&#25110;&#32773;remove_dev&#22238;&#35843;&#12290;&#35774;&#35745;&#32773;&#21487;&#20197;&#22312;&#36825;&#20004;&#20010;&#22238;&#35843;&#20989;&#25968;&#20013;&#23454;&#29616;&#25152;&#38656;&#21151;&#33021;&#65292;&#20363;&#22914;&#32465;&#23450;&#35813;&#8220;specific functionality&#8221;&#25152;&#23545;&#24212;&#30340;driver&#65292;&#31561;&#31561;&#12290;</FONT> </FONT></SPAN></P>
<P><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"><FONT class=extract>subsys interface&#30340;&#23454;&#29616;&#36923;&#36753;&#27604;&#36739;&#31616;&#21333;&#65292;&#36825;&#37324;&#19981;&#20877;&#35814;&#32454;&#25551;&#36848;&#20102;&#65292;&#20855;&#20307;&#21487;&#21442;&#32771;&#8220;drivers/base/bus.c&#8221;&#20013;&#30456;&#24212;&#30340;&#20195;&#30721;&#12290;&#21478;&#22806;&#65292;&#21518;&#32493;&#20998;&#26512;cpufreq framework&#30340;&#26102;&#20505;&#65292;&#20250;&#36935;&#21040;&#20351;&#29992;subsys interface&#30340;&#20363;&#23376;&#65292;&#21040;&#26102;&#20505;&#25105;&#20204;&#20877;&#36827;&#19968;&#27493;&#29702;&#35299;&#23427;&#30340;&#29616;&#23454;&#24847;&#20041;&#12290;</FONT> </SPAN><SPAN style="FONT-WEIGHT: normal; LINE-HEIGHT: 1.5"></P></SPAN>
<P>&nbsp; </P>
<P><SPAN style="COLOR: rgb(128,128,128)"><EM>&#21407;&#21019;&#25991;&#31456;&#65292;&#36716;&#21457;&#35831;&#27880;&#26126;&#20986;&#22788;&#12290;&#34583;&#31389;&#31185;&#25216;&#65292;<A href="http://www.wowotech.net/linux_kenrel/bus.html">www.wowotech.net</A>&#12290;</EM></SPAN>