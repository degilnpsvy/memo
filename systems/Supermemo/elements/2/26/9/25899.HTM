<H2>Device Tree&#65288;&#20108;&#65289;&#65306;&#22522;&#26412;&#27010;&#24565;</H2>
<P class=date>&#20316;&#32773;&#65306;<A href="http://www.wowotech.net/author/3">linuxer</A> &#21457;&#24067;&#20110;&#65306;2014-5-30 16:47 &#20998;&#31867;&#65306;<A href="http://www.wowotech.net/sort/device_model">&#32479;&#19968;&#35774;&#22791;&#27169;&#22411;</A> </P>
<P>&#19968;&#12289;&#21069;&#35328; </P>
<P>&#19968;&#20123;&#32972;&#26223;&#30693;&#35782;&#65288;&#20363;&#22914;&#65306;&#20026;&#20309;&#35201;&#24341;&#20837;Device Tree&#65292;&#36825;&#20010;&#26426;&#21046;&#26159;&#29992;&#26469;&#35299;&#20915;&#20160;&#20040;&#38382;&#39064;&#30340;&#65289;&#35831;&#21442;&#32771;<A href="http://www.wowotech.net/linux_kenrel/why-dt.html">&#24341;&#20837;Device Tree&#30340;&#21407;&#22240;</A>&#65292;&#26412;&#25991;&#20027;&#35201;&#26159;&#20171;&#32461;Device Tree&#30340;&#22522;&#30784;&#27010;&#24565;&#12290; </P>
<P>&#31616;&#21333;&#30340;&#35828;&#65292;&#22914;&#26524;&#35201;&#20351;&#29992;Device Tree&#65292;&#39318;&#20808;&#29992;&#25143;&#35201;&#20102;&#35299;&#33258;&#24049;&#30340;&#30828;&#20214;&#37197;&#32622;&#21644;&#31995;&#32479;&#36816;&#34892;&#21442;&#25968;&#65292;&#24182;&#25226;&#36825;&#20123;&#20449;&#24687;&#32452;&#32455;&#25104;Device Tree source file&#12290;&#36890;&#36807;DTC&#65288;Device Tree Compiler&#65289;&#65292;&#21487;&#20197;&#23558;&#36825;&#20123;&#36866;&#21512;&#20154;&#31867;&#38405;&#35835;&#30340;Device Tree source file&#21464;&#25104;&#36866;&#21512;&#26426;&#22120;&#22788;&#29702;&#30340;Device Tree binary file&#65288;&#26377;&#19968;&#20010;&#26356;&#22909;&#21548;&#30340;&#21517;&#23383;&#65292;DTB&#65292;device tree blob&#65289;&#12290;&#22312;&#31995;&#32479;&#21551;&#21160;&#30340;&#26102;&#20505;&#65292;boot program&#65288;&#20363;&#22914;&#65306;firmware&#12289;bootloader&#65289;&#21487;&#20197;&#23558;&#20445;&#23384;&#22312;flash&#20013;&#30340;DTB copy&#21040;&#20869;&#23384;&#65288;&#24403;&#28982;&#20063;&#21487;&#20197;&#36890;&#36807;&#20854;&#20182;&#26041;&#24335;&#65292;&#20363;&#22914;&#21487;&#20197;&#36890;&#36807;bootloader&#30340;&#20132;&#20114;&#24335;&#21629;&#20196;&#21152;&#36733;DTB&#65292;&#25110;&#32773;firmware&#21487;&#20197;&#25506;&#27979;&#21040;device&#30340;&#20449;&#24687;&#65292;&#32452;&#32455;&#25104;DTB&#20445;&#23384;&#22312;&#20869;&#23384;&#20013;&#65289;&#65292;&#24182;&#25226;DTB&#30340;&#36215;&#22987;&#22320;&#22336;&#20256;&#36882;&#32473;client program&#65288;&#20363;&#22914;OS kernel&#65292;bootloader&#25110;&#32773;&#20854;&#20182;&#29305;&#27530;&#21151;&#33021;&#30340;&#31243;&#24207;&#65289;&#12290;&#23545;&#20110;&#35745;&#31639;&#26426;&#31995;&#32479;&#65288;computer system&#65289;&#65292;&#19968;&#33324;&#26159;firmware-&gt;bootloader-&gt;OS&#65292;&#23545;&#20110;&#23884;&#20837;&#24335;&#31995;&#32479;&#65292;&#19968;&#33324;&#26159;bootloader-&gt;OS&#12290; </P>
<P>&#26412;&#25991;&#20027;&#35201;&#25551;&#36848;&#19979;&#38754;&#20004;&#20010;&#20027;&#39064;&#65306; </P>
<P>1&#12289;Device Tree source file&#35821;&#27861;&#20171;&#32461; </P>
<P>2&#12289;Device Tree binaryfile&#26684;&#24335;&#20171;&#32461; </P>
<P>&nbsp; </P>
<P>&#20108;&#12289;Device Tree&#30340;&#32467;&#26500; </P>
<P>&#22312;&#25551;&#36848;Device Tree&#30340;&#32467;&#26500;&#20043;&#21069;&#65292;&#25105;&#20204;&#20808;&#38382;&#19968;&#20010;&#22522;&#30784;&#38382;&#39064;&#65306;&#26159;&#21542;Device Tree&#35201;&#25551;&#36848;&#31995;&#32479;&#20013;&#30340;&#25152;&#26377;&#30828;&#20214;&#20449;&#24687;&#65311;&#31572;&#26696;&#26159;&#21542;&#23450;&#30340;&#12290;&#22522;&#26412;&#19978;&#65292;&#37027;&#20123;&#21487;&#20197;&#21160;&#24577;&#25506;&#27979;&#21040;&#30340;&#35774;&#22791;&#26159;&#19981;&#38656;&#35201;&#25551;&#36848;&#30340;&#65292;&#20363;&#22914;USB device&#12290;&#19981;&#36807;&#23545;&#20110;SOC&#19978;&#30340;usb host controller&#65292;&#23427;&#26159;&#26080;&#27861;&#21160;&#24577;&#35782;&#21035;&#30340;&#65292;&#38656;&#35201;&#22312;device tree&#20013;&#25551;&#36848;&#12290;&#21516;&#26679;&#30340;&#36947;&#29702;&#65292;&#22312;computer system&#20013;&#65292;PCI device&#21487;&#20197;&#34987;&#21160;&#24577;&#25506;&#27979;&#21040;&#65292;&#19981;&#38656;&#35201;&#22312;device tree&#20013;&#25551;&#36848;&#65292;&#20294;&#26159;PCI bridge&#22914;&#26524;&#19981;&#33021;&#34987;&#25506;&#27979;&#65292;&#37027;&#20040;&#23601;&#38656;&#35201;&#25551;&#36848;&#20043;&#12290; </P>
<P>&#20026;&#20102;&#20102;&#35299;Device Tree&#30340;&#32467;&#26500;&#65292;&#25105;&#20204;&#39318;&#20808;&#32473;&#20986;&#19968;&#20010;Device Tree&#30340;&#31034;&#20363;&#65306; </P>
<BLOCKQUOTE>
<P>/ o device-tree <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- name = "device-tree" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- model = "MyBoardName" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- compatible = "MyBoardFamilyName" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- #address-cells = &lt;2&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- #size-cells = &lt;2&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- linux,phandle = &lt;0&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o cpus <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | - name = "cpus" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | - linux,phandle = &lt;1&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | - #address-cells = &lt;1&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | - #size-cells = &lt;0&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | o PowerPC,970@0 <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; |- name = "PowerPC,970" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; |- device_type = "cpu" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; |- reg = &lt;0&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; |- clock-frequency = &lt;0x5f5e1000&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; |- 64-bit <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp; |- linux,phandle = &lt;2&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o memory@0 <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |- name = "memory" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |- device_type = "memory" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |- reg = &lt;0x00000000 0x00000000 0x00000000 0x20000000&gt;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |- linux,phandle = &lt;3&gt; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o chosen <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- name = "chosen" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- bootargs = "root=/dev/sda2" <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |- linux,phandle = &lt;4&gt; </P></BLOCKQUOTE>
<P>&#20174;&#19978;&#22270;&#20013;&#21487;&#20197;&#30475;&#20986;&#65292;device tree&#30340;&#22522;&#26412;&#21333;&#20803;&#26159;node&#12290;&#36825;&#20123;node&#34987;&#32452;&#32455;&#25104;&#26641;&#29366;&#32467;&#26500;&#65292;&#38500;&#20102;root node&#65292;&#27599;&#20010;node&#37117;&#21482;&#26377;&#19968;&#20010;parent&#12290;&#19968;&#20010;device tree&#25991;&#20214;&#20013;&#21482;&#33021;&#26377;&#19968;&#20010;root node&#12290;&#27599;&#20010;node&#20013;&#21253;&#21547;&#20102;&#33509;&#24178;&#30340;property/value&#26469;&#25551;&#36848;&#35813;node&#30340;&#19968;&#20123;&#29305;&#24615;&#12290;&#27599;&#20010;node&#29992;&#33410;&#28857;&#21517;&#23383;&#65288;node name&#65289;&#26631;&#35782;&#65292;&#33410;&#28857;&#21517;&#23383;&#30340;&#26684;&#24335;&#26159;<A href="mailto:node-name@unit-address">node-name@unit-address</A>&#12290;&#22914;&#26524;&#35813;node&#27809;&#26377;reg&#23646;&#24615;&#65288;&#21518;&#38754;&#20250;&#25551;&#36848;&#36825;&#20010;property&#65289;&#65292;&#37027;&#20040;&#35813;&#33410;&#28857;&#21517;&#23383;&#20013;&#24517;&#39035;&#19981;&#33021;&#21253;&#25324;@&#21644;unit-address&#12290;unit-address&#30340;&#20855;&#20307;&#26684;&#24335;&#26159;&#21644;&#35774;&#22791;&#25346;&#22312;&#37027;&#20010;bus&#19978;&#30456;&#20851;&#12290;&#20363;&#22914;&#23545;&#20110;cpu&#65292;&#20854;unit-address&#23601;&#26159;&#20174;0&#24320;&#22987;&#32534;&#22336;&#65292;&#20197;&#27492;&#21152;&#19968;&#12290;&#32780;&#20855;&#20307;&#30340;&#35774;&#22791;&#65292;&#20363;&#22914;&#20197;&#22826;&#32593;&#25511;&#21046;&#22120;&#65292;&#20854;unit-address&#23601;&#26159;&#23492;&#23384;&#22120;&#22320;&#22336;&#12290;root node&#30340;node name&#26159;&#30830;&#23450;&#30340;&#65292;&#24517;&#39035;&#26159;&#8220;/&#8221;&#12290; </P>
<P>&#22312;&#19968;&#20010;&#26641;&#29366;&#32467;&#26500;&#30340;device tree&#20013;&#65292;&#22914;&#20309;&#24341;&#29992;&#19968;&#20010;node&#21602;&#65311;&#35201;&#24819;&#21807;&#19968;&#25351;&#23450;&#19968;&#20010;node&#24517;&#39035;&#20351;&#29992;full path&#65292;&#20363;&#22914;/node-name-1/node-name-2/node-name-N&#12290;&#22312;&#19978;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;cpu node&#25105;&#20204;&#21487;&#20197;&#36890;&#36807;/cpus/PowerPC,970@0&#35775;&#38382;&#12290; </P>
<P>&#23646;&#24615;&#65288;property&#65289;&#20540;&#26631;&#35782;&#20102;&#35774;&#22791;&#30340;&#29305;&#24615;&#65292;&#23427;&#30340;&#20540;&#65288;value&#65289;&#26159;&#22810;&#31181;&#22810;&#26679;&#30340;&#65306; </P>
<P>1&#12289;&#21487;&#33021;&#26159;&#31354;&#65292;&#20063;&#23601;&#26159;&#27809;&#26377;&#20540;&#30340;&#23450;&#20041;&#12290;&#20363;&#22914;&#19978;&#22270;&#20013;&#30340;64-bit &#65292;&#36825;&#20010;&#23646;&#24615;&#27809;&#26377;&#36171;&#20540;&#12290; </P>
<P>2&#12289;&#21487;&#33021;&#26159;&#19968;&#20010;u32&#12289;u64&#30340;&#25968;&#20540;&#65288;&#20540;&#24471;&#19968;&#25552;&#30340;&#26159;cell&#36825;&#20010;&#26415;&#35821;&#65292;&#22312;Device Tree&#34920;&#31034;32bit&#30340;&#20449;&#24687;&#21333;&#20301;&#65289;&#12290;&#20363;&#22914;#address-cells = &lt;1&gt; &#12290;&#24403;&#28982;&#65292;&#21487;&#33021;&#26159;&#19968;&#20010;&#25968;&#32452;&#12290;&#20363;&#22914;&lt;0x00000000 0x00000000 0x00000000 0x20000000&gt; </P>
<P>4&#12289;&#21487;&#33021;&#26159;&#19968;&#20010;&#23383;&#31526;&#20018;&#12290;&#20363;&#22914;device_type = "memory" &#65292;&#24403;&#28982;&#20063;&#21487;&#33021;&#26159;&#19968;&#20010;string list&#12290;&#20363;&#22914;"PowerPC,970" </P>
<P>&nbsp; </P>
<P>&#19977;&#12289;Device Tree source file&#35821;&#27861;&#20171;&#32461; </P>
<P>&#20102;&#35299;&#20102;&#22522;&#26412;&#30340;device tree&#30340;&#32467;&#26500;&#21518;&#65292;&#25105;&#20204;&#24635;&#35201;&#25226;&#36825;&#20123;&#32467;&#26500;&#20307;&#29616;&#22312;device tree source code&#19978;&#26469;&#12290;&#22312;linux kernel&#20013;&#65292;&#25193;&#23637;&#21517;&#26159;dts&#30340;&#25991;&#20214;&#23601;&#26159;&#25551;&#36848;&#30828;&#20214;&#20449;&#24687;&#30340;device tree source file&#65292;&#22312;dts&#25991;&#20214;&#20013;&#65292;&#19968;&#20010;node&#34987;&#23450;&#20041;&#25104;&#65306; </P>
<BLOCKQUOTE>
<P>[label:] node-name[@unit-address] { <BR>&nbsp;&nbsp; [properties definitions] <BR>&nbsp;&nbsp; [child nodes] <BR>} </P></BLOCKQUOTE>
<P>&#8220;[]&#8221;&#34920;&#31034;option&#65292;&#22240;&#27492;&#21487;&#20197;&#23450;&#20041;&#19968;&#20010;&#21482;&#26377;node name&#30340;&#31354;&#33410;&#28857;&#12290;label&#26041;&#20415;&#22312;dts&#25991;&#20214;&#20013;&#24341;&#29992;&#65292;&#20855;&#20307;&#21518;&#38754;&#20250;&#25551;&#36848;&#12290;child node&#30340;&#26684;&#24335;&#21644;node&#26159;&#23436;&#20840;&#19968;&#26679;&#30340;&#65292;&#22240;&#27492;&#65292;&#19968;&#20010;dts&#25991;&#20214;&#20013;&#23601;&#26159;&#33509;&#24178;&#23884;&#22871;&#32452;&#25104;&#30340;node&#65292;property&#20197;&#21450;child note&#12289;child note property&#25551;&#36848;&#12290; </P>
<P>&#32771;&#34385;&#21040;&#31354;&#27867;&#30340;&#35848;&#27604;&#36739;&#26543;&#29157;&#65292;&#25105;&#20204;&#29992;&#23454;&#20363;&#26469;&#35762;&#35299;Device Tree Source file &#30340;&#25968;&#25454;&#26684;&#24335;&#12290;&#20551;&#35774;&#34583;&#31389;&#31185;&#25216;&#21046;&#20316;&#20102;&#19968;&#20010;S3C2416&#30340;&#24320;&#21457;&#26495;&#65292;&#25105;&#20204;&#25226;&#35813;development board&#21629;&#21517;&#20026;snail&#65292;&#37027;&#20040;&#38656;&#35201;&#25776;&#20889;&#19968;&#20010;s3c2416-snail.dts&#30340;&#25991;&#20214;&#12290;&#22914;&#26524;&#25226;&#25152;&#26377;&#30340;&#24320;&#21457;&#26495;&#30340;&#30828;&#20214;&#20449;&#24687;&#65288;SOC&#20197;&#21450;&#22806;&#35774;&#65289;&#37117;&#25551;&#36848;&#22312;&#19968;&#20010;&#25991;&#20214;&#20013;&#26159;&#19981;&#21512;&#29702;&#30340;&#65292;&#22240;&#27492;&#26377;&#21487;&#33021;&#20854;&#20182;&#20844;&#21496;&#20063;&#20351;&#29992;S3C2416&#25645;&#24314;&#33258;&#24049;&#30340;&#24320;&#21457;&#26495;&#24182;&#21629;&#20196;pig&#12289;cow&#20160;&#20040;&#30340;&#65292;&#22914;&#26524;&#22823;&#23478;&#37117;&#29992;&#33258;&#24049;&#30340;dts&#25991;&#20214;&#25551;&#36848;&#30828;&#20214;&#65292;&#37027;&#20040;&#20854;&#20013;&#22823;&#37096;&#20998;&#26159;&#37325;&#22797;&#30340;&#65292;&#22240;&#27492;&#25105;&#20204;&#25226;&#21644;S3C2416&#30456;&#20851;&#30340;&#30828;&#20214;&#25551;&#36848;&#20445;&#23384;&#25104;&#19968;&#20010;&#21333;&#29420;&#30340;dts&#25991;&#20214;&#21487;&#20197;&#20379;&#20351;&#29992;S3C2416&#30340;target board&#26469;&#24341;&#29992;&#24182;&#23558;&#25991;&#20214;&#30340;&#25193;&#23637;&#21517;&#21464;&#25104;dtsi&#65288;i&#34920;&#31034;include&#65289;&#12290;&#21516;&#29702;&#65292;&#19977;&#26143;&#20844;&#21496;&#30340;S3C24xx&#31995;&#21015;&#26159;&#19968;&#20010;SOC family&#65292;&#36825;&#20123;SOCs&#65288;2410&#12289;2416&#12289;2450&#31561;&#65289;&#20063;&#26377;&#30456;&#21516;&#30340;&#20869;&#23481;&#65292;&#22240;&#27492;&#21516;&#26679;&#30340;&#36947;&#29702;&#65292;&#25105;&#20204;&#21487;&#20197;&#23558;&#20844;&#20849;&#37096;&#20998;&#25277;&#21462;&#20986;&#26469;&#65292;&#21464;&#25104;s3c24xx.dtsi&#65292;&#26041;&#20415;&#22823;&#23478;include&#12290;&#21516;&#26679;&#30340;&#36947;&#29702;&#65292;&#21508;&#23478;ARM vendor&#20063;&#20250;&#20849;&#29992;&#19968;&#20123;&#30828;&#20214;&#23450;&#20041;&#20449;&#24687;&#65292;&#36825;&#20010;&#25991;&#20214;&#23601;&#26159;skeleton.dtsi&#12290;&#25105;&#20204;&#33258;&#19979;&#32780;&#19978;&#65288;&#31867;&#20284;C&#65291;&#65291;&#20013;&#30340;&#20174;&#22522;&#31867;&#21040;&#39030;&#23618;&#30340;&#27966;&#29983;&#31867;&#65289;&#36880;&#20010;&#36827;&#34892;&#20998;&#26512;&#12290; </P>
<P>1&#12289;skeleton.dtsi&#12290;&#20301;&#20110;linux-3.14\arch\arm\boot\dts&#30446;&#24405;&#19979;&#65292;&#20855;&#20307;&#35813;&#25991;&#20214;&#30340;&#20869;&#23481;&#22914;&#19979;&#65306; </P>
<BLOCKQUOTE>
<P>/ { <BR>&nbsp;&nbsp;&nbsp; #address-cells = &lt;1&gt;; <BR>&nbsp;&nbsp;&nbsp; #size-cells = &lt;1&gt;; <BR>&nbsp;&nbsp;&nbsp; chosen { }; <BR>&nbsp;&nbsp;&nbsp; aliases { }; <BR>&nbsp;&nbsp;&nbsp; memory { device_type = "memory"; reg = &lt;0 0&gt;; }; <BR>}; </P></BLOCKQUOTE>
<P>device tree&#39038;&#21517;&#24605;&#20041;&#26159;&#19968;&#20010;&#26641;&#29366;&#30340;&#32467;&#26500;&#65292;&#26082;&#28982;&#26159;&#26641;&#65292;&#24517;&#28982;&#26377;&#26681;&#12290;&#8220;/&#8221;&#26159;&#26681;&#33410;&#28857;&#30340;node name&#12290;&#8220;{&#8221;&#21644;&#8220;}&#8221;&#20043;&#38388;&#30340;&#20869;&#23481;&#26159;&#35813;&#33410;&#28857;&#30340;&#20855;&#20307;&#30340;&#23450;&#20041;&#65292;&#20854;&#20869;&#23481;&#21253;&#25324;&#21508;&#31181;&#23646;&#24615;&#30340;&#23450;&#20041;&#20197;&#21450;child node&#30340;&#23450;&#20041;&#12290;chosen&#12289;aliases&#21644;memory&#37117;&#26159;sub node&#65292;sub node&#30340;&#32467;&#26500;&#21644;root node&#26159;&#23436;&#20840;&#19968;&#26679;&#30340;&#65292;&#22240;&#27492;&#65292;sub node&#20063;&#26377;&#33258;&#24049;&#30340;&#23646;&#24615;&#21644;&#23427;&#33258;&#24049;&#30340;sub node&#65292;&#26368;&#32456;&#24418;&#25104;&#20102;&#19968;&#20010;&#26641;&#29366;&#30340;device tree&#12290;&#23646;&#24615;&#30340;&#23450;&#20041;&#37319;&#29992;property &#65309; value&#30340;&#24418;&#24335;&#12290;&#20363;&#22914;#address-cells&#21644;#size-cells&#23601;&#26159;property&#65292;&#32780;&lt;1&gt;&#23601;&#26159;value&#12290;value&#26377;&#19977;&#31181;&#24773;&#20917;&#65306; </P>
<P>1&#65289;&#23646;&#24615;&#20540;&#26159;text string&#25110;&#32773;string list&#65292;&#29992;&#21452;&#24341;&#21495;&#34920;&#31034;&#12290;&#20363;&#22914;device_type = "memory" </P>
<P>2&#65289;&#23646;&#24615;&#20540;&#26159;32bit unsigned integers&#65292;&#29992;&#23574;&#25324;&#21495;&#34920;&#31034;&#12290;&#20363;&#22914;#size-cells = &lt;1&gt; </P>
<P>3&#65289;&#23646;&#24615;&#20540;&#26159;binary data&#65292;&#29992;&#26041;&#25324;&#21495;&#34920;&#31034;&#12290;&#20363;&#22914;<CODE>binary-property = [0x01 0x23 0x45 0x67]</CODE> </P>
<P>&#22914;&#26524;&#19968;&#20010;device node&#20013;&#21253;&#21547;&#20102;&#26377;&#23547;&#22336;&#38656;&#27714;&#65288;&#35201;&#23450;&#20041;reg property&#65289;&#30340;sub node&#65288;&#21518;&#25991;&#20063;&#35768;&#20250;&#29992;child node&#65292;&#21644;sub node&#26159;&#19968;&#26679;&#30340;&#24847;&#24605;&#65289;&#65292;&#37027;&#20040;&#23601;&#24517;&#39035;&#35201;&#23450;&#20041;&#36825;&#20004;&#20010;&#23646;&#24615;&#12290;&#8220;#&#8221;&#26159;number&#30340;&#24847;&#24605;&#65292;#address-cells&#36825;&#20010;&#23646;&#24615;&#26159;&#29992;&#26469;&#25551;&#36848;sub node&#20013;&#30340;reg&#23646;&#24615;&#30340;&#22320;&#22336;&#22495;&#29305;&#24615;&#30340;&#65292;&#20063;&#23601;&#26159;&#35828;&#38656;&#35201;&#29992;&#22810;&#23569;&#20010;u32&#30340;cell&#26469;&#25551;&#36848;&#35813;&#22320;&#22336;&#22495;&#12290;&#21516;&#29702;&#21487;&#20197;&#25512;&#26029;#size-cells&#30340;&#21547;&#20041;&#65292;&#19979;&#38754;&#23545;reg&#30340;&#25551;&#36848;&#20013;&#20250;&#32473;&#20986;&#26356;&#35814;&#32454;&#30340;&#20449;&#24687;&#12290; </P>
<P>chosen node&#20027;&#35201;&#29992;&#26469;&#25551;&#36848;&#30001;&#31995;&#32479;firmware&#25351;&#23450;&#30340;runtime parameter&#12290;&#22914;&#26524;&#23384;&#22312;chosen&#36825;&#20010;node&#65292;&#20854;parent node&#24517;&#39035;&#26159;&#21517;&#23383;&#26159;&#8220;/&#8221;&#30340;&#26681;&#33410;&#28857;&#12290;&#21407;&#26469;&#36890;&#36807;tag list&#20256;&#36882;&#30340;&#19968;&#20123;linux kernel&#30340;&#36816;&#34892;&#26102;&#21442;&#25968;&#21487;&#20197;&#36890;&#36807;Device Tree&#20256;&#36882;&#12290;&#20363;&#22914;command line&#21487;&#20197;&#36890;&#36807;bootargs&#36825;&#20010;property&#36825;&#20010;&#23646;&#24615;&#20256;&#36882;&#65307;initrd&#30340;&#24320;&#22987;&#22320;&#22336;&#20063;&#21487;&#20197;&#36890;&#36807;linux,initrd-start&#36825;&#20010;property&#36825;&#20010;&#23646;&#24615;&#20256;&#36882;&#12290;&#22312;&#26412;&#20363;&#20013;&#65292;chosen&#33410;&#28857;&#26159;&#31354;&#30340;&#65292;&#22312;&#23454;&#38469;&#20013;&#65292;&#24314;&#35758;&#22686;&#21152;&#19968;&#20010;bootargs&#30340;&#23646;&#24615;&#65292;&#20363;&#22914;&#65306; </P>
<BLOCKQUOTE>
<P>"root=/dev/nfs nfsroot=1.1.1.1:/nfsboot ip=1.1.1.2:1.1.1.1:1.1.1.1:255.255.255.0::usbd0:off console=ttyS0,115200 mem=64M@0x30000000" </P></BLOCKQUOTE>
<P>&#36890;&#36807;&#35813;command line&#21487;&#20197;&#25511;&#21046;&#20869;&#26680;&#20174;usbnet&#21551;&#21160;&#65292;&#24403;&#28982;&#65292;&#20855;&#20307;&#39033;&#30446;&#35201;&#30456;&#24212;&#20462;&#25913;command line&#20197;&#20415;&#36866;&#24212;&#19981;&#21516;&#30340;&#38656;&#27714;&#12290;&#25105;&#20204;&#30693;&#36947;&#65292;device tree&#29992;&#20110;HW platform&#35782;&#21035;&#65292;runtime parameter&#20256;&#36882;&#20197;&#21450;&#30828;&#20214;&#35774;&#22791;&#25551;&#36848;&#12290;chosen&#33410;&#28857;&#24182;&#27809;&#26377;&#25551;&#36848;&#20219;&#20309;&#30828;&#20214;&#35774;&#22791;&#33410;&#28857;&#30340;&#20449;&#24687;&#65292;&#23427;&#21482;&#26159;&#20256;&#36882;&#20102;runtime parameter&#12290; </P>
<P>aliases &#33410;&#28857;&#23450;&#20041;&#20102;&#19968;&#20123;&#21035;&#21517;&#12290;&#20026;&#20309;&#35201;&#23450;&#20041;&#36825;&#20010;node&#21602;&#65311;&#22240;&#20026;Device tree&#26159;&#26641;&#29366;&#32467;&#26500;&#65292;&#24403;&#35201;&#24341;&#29992;&#19968;&#20010;node&#30340;&#26102;&#20505;&#35201;&#25351;&#26126;&#30456;&#23545;&#20110;root node&#30340;full path&#65292;&#20363;&#22914;/node-name-1/node-name-2/node-name-N&#12290;&#22914;&#26524;&#22810;&#27425;&#24341;&#29992;&#65292;&#27599;&#27425;&#37117;&#35201;&#20889;&#36825;&#20040;&#22797;&#26434;&#30340;&#23383;&#31526;&#20018;&#22810;&#23569;&#26159;&#26377;&#20123;&#40635;&#28902;&#65292;&#22240;&#27492;&#21487;&#20197;&#22312;aliases &#33410;&#28857;&#23450;&#20041;&#19968;&#20123;&#35774;&#22791;&#33410;&#28857;full path&#30340;&#32553;&#20889;&#12290;skeleton.dtsi&#20013;&#27809;&#26377;&#23450;&#20041;aliases&#65292;&#19979;&#38754;&#30340;section&#20013;&#20250;&#36827;&#19968;&#27493;&#29992;&#20855;&#20307;&#30340;&#20363;&#23376;&#25551;&#36848;&#20043;&#12290; </P>
<P>memory device node&#26159;&#25152;&#26377;&#35774;&#22791;&#26641;&#25991;&#20214;&#30340;&#24517;&#22791;&#33410;&#28857;&#65292;&#23427;&#23450;&#20041;&#20102;&#31995;&#32479;&#29289;&#29702;&#20869;&#23384;&#30340;layout&#12290;device_type&#23646;&#24615;&#23450;&#20041;&#20102;&#35813;node&#30340;&#35774;&#22791;&#31867;&#22411;&#65292;&#20363;&#22914;cpu&#12289;serial&#31561;&#12290;&#23545;&#20110;memory node&#65292;&#20854;device_type&#24517;&#39035;&#31561;&#20110;memory&#12290;reg&#23646;&#24615;&#23450;&#20041;&#20102;&#35775;&#38382;&#35813;device node&#30340;&#22320;&#22336;&#20449;&#24687;&#65292;&#35813;&#23646;&#24615;&#30340;&#20540;&#34987;&#35299;&#26512;&#25104;&#20219;&#24847;&#38271;&#24230;&#30340;&#65288;address&#65292;size&#65289;&#25968;&#32452;&#65292;&#20855;&#20307;&#29992;&#22810;&#38271;&#30340;&#25968;&#25454;&#26469;&#34920;&#31034;address&#21644;size&#26159;&#22312;&#20854;parent node&#20013;&#23450;&#20041;&#65288;#address-cells&#21644;#size-cells&#65289;&#12290;&#23545;&#20110;device node&#65292;reg&#25551;&#36848;&#20102;memory-mapped IO register&#30340;offset&#21644;length&#12290;&#23545;&#20110;memory node&#65292;&#23450;&#20041;&#20102;&#35813;memory&#30340;&#36215;&#22987;&#22320;&#22336;&#21644;&#38271;&#24230;&#12290; </P>
<P>&#26412;&#20363;&#20013;&#30340;&#29289;&#29702;&#20869;&#23384;&#30340;&#24067;&#23616;&#24182;&#27809;&#26377;&#36890;&#36807;memory node&#20256;&#36882;&#65292;&#20854;&#23454;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;command line&#20256;&#36882;&#65292;&#25105;&#20204;command line&#20013;&#30340;&#21442;&#25968;<A href="mailto:&#8220;mem=64M@0x30000000">&#8220;mem=64M@0x30000000</A>&#8221;&#24050;&#32463;&#32473;&#20986;&#20102;&#20855;&#20307;&#30340;&#20449;&#24687;&#12290;&#25105;&#20204;&#29992;&#21478;&#22806;&#19968;&#20010;&#20363;&#23376;&#26469;&#21152;&#28145;&#23545;&#26412;&#33410;&#25551;&#36848;&#30340;&#21508;&#20010;&#23646;&#24615;&#20197;&#21450;memory node&#30340;&#29702;&#35299;&#12290;&#20551;&#35774;&#25105;&#20204;&#30340;&#31995;&#32479;&#26159;64bit&#30340;&#65292;physical memory&#20998;&#25104;&#20004;&#27573;&#65292;&#23450;&#20041;&#22914;&#19979;&#65306; </P>
<P>RAM: starting address 0x0, length 0x80000000 (2GB) <BR>RAM: starting address 0x100000000, length 0x100000000 (4GB) </P>
<P>&#23545;&#20110;&#36825;&#26679;&#30340;&#31995;&#32479;&#65292;&#25105;&#20204;&#21487;&#20197;&#23558;root node&#20013;&#30340;#address-cells&#21644;#size-cells&#36825;&#20004;&#20010;&#23646;&#24615;&#20540;&#35774;&#23450;&#20026;2&#65292;&#21487;&#20197;&#29992;&#19979;&#38754;&#20004;&#31181;&#26041;&#27861;&#26469;&#25551;&#36848;&#29289;&#29702;&#20869;&#23384;&#65306; </P>
<BLOCKQUOTE>
<P>&#26041;&#27861;1&#65306; </P>
<P>memory@0 { <BR>&nbsp;&nbsp;&nbsp; device_type = "memory"; <BR>&nbsp;&nbsp;&nbsp; reg = &lt;0x000000000 0x00000000 0x00000000 0x80000000 <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0x000000001 0x00000000 0x00000001 0x00000000&gt;; <BR>}; </P>
<P>&#26041;&#27861;2&#65306; </P>
<P>memory@0 { <BR>&nbsp;&nbsp;&nbsp; device_type = "memory"; <BR>&nbsp;&nbsp;&nbsp; reg = &lt;0x000000000 0x00000000 0x00000000 0x80000000&gt;; <BR>}; </P>
<P>memory@100000000 { <BR>&nbsp;&nbsp;&nbsp; device_type = "memory"; <BR>&nbsp;&nbsp;&nbsp; reg = &lt;0x000000001 0x00000000 0x00000001 0x00000000&gt;; <BR>}; </P></BLOCKQUOTE>
<P>2&#12289;s3c24xx.dtsi&#12290;&#20301;&#20110;linux-3.14\arch\arm\boot\dts&#30446;&#24405;&#19979;&#65292;&#20855;&#20307;&#35813;&#25991;&#20214;&#30340;&#20869;&#23481;&#22914;&#19979;&#65288;&#26377;&#20123;&#20869;&#23481;&#30465;&#30053;&#20102;&#65292;&#39046;&#20250;&#31934;&#31070;&#21363;&#21487;&#65292;&#19981;&#38656;&#35201;&#25551;&#36848;&#27599;&#19968;&#20010;&#30828;&#20214;&#23450;&#20041;&#30340;&#32454;&#33410;&#65289;&#65306; </P>
<BLOCKQUOTE>
<P>#include "skeleton.dtsi" </P>
<P>/ { <BR>&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c24xx"; &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65288;A&#65289; <BR>&nbsp;&nbsp;&nbsp; interrupt-parent = &lt;&amp;intc&gt;; &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65288;B&#65289; </P>
<P>&nbsp;&nbsp;&nbsp; aliases { <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pinctrl0 = &amp;pinctrl_0; &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65288;C&#65289; <BR>&nbsp;&nbsp;&nbsp; }; </P>
<P>&nbsp;&nbsp;&nbsp; intc:interrupt-controller@4a000000 { &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65288;D&#65289; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c2410-irq"; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg = &lt;0x4a000000 0x100&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interrupt-controller; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #interrupt-cells = &lt;4&gt;; <BR>&nbsp;&nbsp;&nbsp; }; </P>
<P>&nbsp;&nbsp;&nbsp; <A href="mailto:serial@50000000">serial@50000000</A> { &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65288;E&#65289;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c2410-uart"; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg = &lt;0x50000000 0x4000&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interrupts = &lt;1 0 4 28&gt;, &lt;1 1 4 28&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; status = "disabled"; <BR>&nbsp;&nbsp;&nbsp; }; </P>
<P>&nbsp;&nbsp;&nbsp; pinctrl_0: pinctrl@56000000 {&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65288;F&#65289; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg = &lt;0x56000000 0x1000&gt;; </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wakeup-interrupt-controller { <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c2410-wakeup-eint"; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interrupts = &lt;0 0 0 3&gt;,<BR>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;0 0 1 3&gt;,<BR>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;0 0 2 3&gt;,<BR>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;0 0 3 3&gt;,<BR>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;0 0 4 4&gt;,<BR>&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;0 0 5 4&gt;;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }; <BR>&nbsp;&nbsp;&nbsp; }; </P>
<P>&#8230;&#8230; <BR>}; </P></BLOCKQUOTE>
<P>&#36825;&#20010;&#25991;&#20214;&#25551;&#36848;&#20102;&#19977;&#26143;&#20844;&#21496;&#30340;S3C24xx&#31995;&#21015;SOC family&#20849;&#21516;&#30340;&#30828;&#20214;block&#20449;&#24687;&#12290;&#39318;&#20808;&#25552;&#20986;&#30340;&#38382;&#39064;&#23601;&#26159;&#65306;&#20026;&#20309;&#23450;&#20041;&#20102;&#20004;&#20010;&#26681;&#33410;&#28857;&#65311;&#25353;&#29702;&#35828;Device Tree&#21482;&#33021;&#26377;&#19968;&#20010;&#26681;&#33410;&#28857;&#65292;&#25152;&#26377;&#20854;&#20182;&#30340;&#33410;&#28857;&#37117;&#26159;&#27966;&#29983;&#20110;&#26681;&#33410;&#28857;&#30340;&#12290;&#25105;&#30340;&#29468;&#27979;&#26159;&#36825;&#26679;&#30340;&#65306;Device Tree Compiler&#20250;&#23545;DTS&#30340;node&#36827;&#34892;&#21512;&#24182;&#65292;&#26368;&#32456;&#29983;&#25104;&#30340;DTB&#21482;&#26377;&#19968;&#20010;root node&#12290;OK&#65292;&#25105;&#20204;&#19979;&#38754;&#24320;&#22987;&#36880;&#19968;&#20998;&#26512;&#65306; </P>
<P>&#65288;A&#65289;&#22312;&#25551;&#36848;compatible&#23646;&#24615;&#20043;&#21069;&#35201;&#20808;&#25551;&#36848;model&#23646;&#24615;&#12290;model&#23646;&#24615;&#25351;&#26126;&#20102;&#35813;&#35774;&#22791;&#23646;&#20110;&#21738;&#20010;&#35774;&#22791;&#29983;&#20135;&#21830;&#30340;&#21738;&#19968;&#20010;model&#12290;&#19968;&#33324;&#32780;&#35328;&#65292;&#25105;&#20204;&#20250;&#32473;model&#36171;&#20540;&#8220;manufacturer,model&#8221;&#12290;&#20363;&#22914;model = "samsung,s3c24xx"&#12290;samsung&#26159;&#29983;&#20135;&#21830;&#65292;s3c24xx&#26159;model&#31867;&#22411;&#65292;&#25351;&#26126;&#20102;&#20855;&#20307;&#30340;&#26159;&#21738;&#19968;&#20010;&#31995;&#21015;&#30340;SOC&#12290;OK&#65292;&#29616;&#22312;&#25105;&#20204;&#22238;&#21040;compatible&#23646;&#24615;&#65292;&#35813;&#23646;&#24615;&#30340;&#20540;&#26159;string list&#65292;&#23450;&#20041;&#20102;&#19968;&#31995;&#21015;&#30340;modle&#65288;&#27599;&#20010;string&#26159;&#19968;&#20010;model&#65289;&#12290;&#36825;&#20123;&#23383;&#31526;&#20018;&#21015;&#34920;&#34987;&#25805;&#20316;&#31995;&#32479;&#29992;&#26469;&#36873;&#25321;&#29992;&#21738;&#19968;&#20010;driver&#26469;&#39537;&#21160;&#35813;&#35774;&#22791;&#12290;&#20551;&#35774;&#23450;&#20041;&#35813;&#23646;&#24615;&#65306;compatible = &#8220;aaaaaa&#8221;, &#8220;bbbbb"&#12290;&#37027;&#20040;&#25805;&#20316;&#25805;&#20316;&#31995;&#32479;&#21487;&#33021;&#39318;&#20808;&#20351;&#29992;aaaaaa&#26469;&#21305;&#37197;&#36866;&#21512;&#30340;driver&#65292;&#22914;&#26524;&#27809;&#26377;&#21305;&#37197;&#21040;&#65292;&#37027;&#20040;&#20351;&#29992;&#23383;&#31526;&#20018;bbbbb&#26469;&#32487;&#32493;&#23547;&#25214;&#36866;&#21512;&#30340;driver&#65292;&#23545;&#20110;&#26412;&#20363;&#65292;compatible = "samsung,s3c24xx"&#65292;&#36825;&#37324;&#21482;&#23450;&#20041;&#20102;&#19968;&#20010;modle&#32780;&#19981;&#26159;&#19968;&#20010;list&#12290;&#23545;&#20110;root node&#65292;compatible&#23646;&#24615;&#26159;&#29992;&#26469;&#21305;&#37197;machine type&#30340;&#65288;&#22312;device tree&#20195;&#30721;&#20998;&#26512;&#25991;&#31456;&#20013;&#20250;&#32473;&#20986;&#26356;&#32454;&#33268;&#30340;&#25551;&#36848;&#65289;&#12290;&#23545;&#20110;&#26222;&#36890;&#30340;HW block&#30340;&#33410;&#28857;&#65292;&#20363;&#22914;interrupt-controller&#65292;compatible&#23646;&#24615;&#26159;&#29992;&#26469;&#21305;&#37197;&#36866;&#21512;&#30340;driver&#30340;&#12290; </P>
<P>&#65288;B&#65289;&#20855;&#20307;&#21508;&#20010;HW block&#30340;interrupt source&#26159;&#22914;&#20309;&#29289;&#29702;&#30340;&#36830;&#25509;&#21040;interruptcontroller&#30340;&#21602;&#65311;&#22312;dts&#25991;&#20214;&#20013;&#26159;&#29992;interrupt-parent&#36825;&#20010;&#23646;&#24615;&#26469;&#26631;&#35782;&#30340;&#12290;&#19988;&#24930;&#65292;&#36825;&#37324;&#23450;&#20041;interrupt-parent&#23646;&#24615;&#30340;&#26159;root node&#65292;&#38590;&#36947;root node&#20250;&#20135;&#29983;&#20013;&#26029;&#21040;interrupt controller&#21527;&#65311;&#24403;&#28982;&#19981;&#20250;&#65292;&#21482;&#19981;&#36807;&#22914;&#26524;&#19968;&#20010;&#33021;&#22815;&#20135;&#29983;&#20013;&#26029;&#30340;device node&#27809;&#26377;&#23450;&#20041;interrupt-parent&#30340;&#35805;&#65292;&#20854;interrupt-parent&#23646;&#24615;&#23601;&#26159;&#36319;&#38543;parent node&#12290;&#22240;&#27492;&#65292;&#19982;&#20854;&#22312;&#25152;&#26377;&#30340;&#19979;&#28216;&#35774;&#22791;&#20013;&#23450;&#20041;interrupt-parent&#65292;&#19981;&#22914;&#32479;&#19968;&#22312;root node&#20013;&#23450;&#20041;&#20102;&#12290; </P>
<P>intc&#26159;&#19968;&#20010;lable&#65292;&#26631;&#35782;&#20102;&#19968;&#20010;device node&#65288;&#22312;&#26412;&#20363;&#20013;&#26159;&#26631;&#35782;&#20102;interrupt-controller@4a000000 &#36825;&#20010;device node&#65289;&#12290;&#23454;&#38469;&#19978;&#65292;interrupt-parent&#23646;&#24615;&#20540;&#24212;&#35813;&#26159;&#26159;&#19968;&#20010;u32&#30340;&#25972;&#25968;&#20540;&#65288;&#36825;&#20010;&#25972;&#25968;&#20540;&#22312;Device Tree&#30340;&#33539;&#22260;&#20869;&#21807;&#19968;&#35782;&#21035;&#20102;&#19968;&#20010;device node&#65292;&#20063;&#23601;&#26159;phandle&#65289;&#65292;&#19981;&#36807;&#65292;&#22312;dts&#25991;&#20214;&#20013;&#20013;&#65292;&#21487;&#20197;&#20351;&#29992;&#31867;&#20284;c&#35821;&#35328;&#30340;Labels and References&#26426;&#21046;&#12290;&#23450;&#20041;&#19968;&#20010;lable&#65292;&#21807;&#19968;&#26631;&#35782;&#19968;&#20010;node&#25110;&#32773;property&#65292;&#21518;&#32493;&#21487;&#20197;&#20351;&#29992;&amp;&#26469;&#24341;&#29992;&#36825;&#20010;lable&#12290;DTC&#20250;&#23558;lable&#36716;&#25442;&#25104;u32&#30340;&#25972;&#25968;&#20540;&#25918;&#20837;&#21040;DTB&#20013;&#65292;&#29992;&#25143;&#23618;&#38754;&#23601;&#19981;&#20877;&#20851;&#24515;&#20855;&#20307;&#36716;&#25442;&#30340;&#25972;&#25968;&#20540;&#20102;&#12290; </P>
<P>&#20851;&#20110;interrupt&#65292;&#25105;&#20204;&#20540;&#24471;&#36827;&#19968;&#27493;&#25551;&#36848;&#12290;&#22312;Device Tree&#20013;&#65292;&#26377;&#19968;&#20010;&#27010;&#24565;&#21483;&#20570;interrupt tree&#65292;&#20063;&#23601;&#26159;&#35828;interrupt&#20063;&#26159;&#19968;&#20010;&#26641;&#29366;&#32467;&#26500;&#12290;&#25105;&#20204;&#20197;&#19979;&#22270;&#20026;&#20363;&#65288;&#35813;&#22270;&#26469;&#33258;Power_ePAPR_APPROVED_v1.1&#65289;&#65306; </P>
<P><A href="http://www.wowotech.net/content/uploadfile/201405/efb4c78b62a8caf9ba7dfc3fffc165d620140530084653.gif"><IMG title=it style="BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px" border=0 alt=it src="http://www.wowotech.net/content/uploadfile/201405/672b228062cd3b04e412010e4d06b4cd20140530084657.gif" width=746 height=778></A> </P>
<P>&#31995;&#32479;&#20013;&#26377;&#19968;&#20010;interrrupt tree&#30340;&#26681;&#33410;&#28857;&#65292;device1&#12289;device2&#20197;&#21450;PCI host bridge&#30340;interrupt line&#37117;&#26159;&#36830;&#25509;&#21040;root interrupt controller&#30340;&#12290;PCI host bridge&#35774;&#22791;&#20013;&#26377;&#19968;&#20123;&#19979;&#28216;&#30340;&#35774;&#22791;&#65292;&#20063;&#20250;&#20135;&#29983;&#20013;&#26029;&#65292;&#20294;&#26159;&#20182;&#20204;&#30340;&#20013;&#26029;&#37117;&#26159;&#36830;&#25509;&#21040;PCI host bridge&#19978;&#30340;interrupt controller&#65288;&#26415;&#35821;&#21483;&#20570;interrupt nexus&#65289;&#65292;&#28982;&#21518;&#25253;&#21578;&#21040;root interrupt controller&#30340;&#12290;&#27599;&#20010;&#33021;&#20135;&#29983;&#20013;&#26029;&#30340;&#35774;&#22791;&#37117;&#21487;&#20197;&#20135;&#29983;&#19968;&#20010;&#25110;&#32773;&#22810;&#20010;interrupt&#65292;&#27599;&#20010;interrupt source&#65288;&#21478;&#22806;&#19968;&#20010;&#26415;&#35821;&#21483;&#20570;interrupt specifier&#65292;&#25551;&#36848;&#20102;interrupt source&#30340;&#20449;&#24687;&#65289;&#37117;&#26159;&#38480;&#23450;&#22312;&#20854;&#25152;&#23646;&#30340;interrupt domain&#20013;&#12290; </P>
<P>&#22312;&#20102;&#35299;&#20102;&#19978;&#36848;&#30340;&#27010;&#24565;&#21518;&#65292;&#25105;&#20204;&#21487;&#20197;&#22238;&#22836;&#20877;&#30475;&#30475;interrupt-parent&#36825;&#20010;&#23646;&#24615;&#12290;&#20854;&#23454;&#36825;&#20010;&#23646;&#24615;&#26159;&#24314;&#31435;interrupt tree&#30340;&#20851;&#38190;&#23646;&#24615;&#12290;&#23427;&#25351;&#26126;&#20102;&#35774;&#22791;&#26641;&#20013;&#30340;&#21508;&#20010;device node&#22914;&#20309;&#36335;&#30001;interrupt event&#12290;&#21478;&#22806;&#65292;&#38656;&#35201;&#25552;&#37266;&#30340;&#26159;interrupt controller&#20063;&#26159;&#21487;&#20197;&#32423;&#32852;&#30340;&#65292;&#19978;&#22270;&#20013;&#27809;&#26377;&#34920;&#31034;&#20986;&#26469;&#12290;&#37027;&#20040;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#22914;&#20309;&#23450;&#20041;interrupt tree&#30340;root&#21602;&#65311;&#37027;&#20010;&#27809;&#26377;&#23450;&#20041;interrupt-parent&#30340;interrupt controller&#23601;&#26159;root&#12290; </P>
<P>&#65288;C&#65289;pinctrl0&#26159;&#19968;&#20010;&#32553;&#20889;&#65292;&#20182;&#26159;<A>/pinctrl@56000000</A>&#30340;&#21035;&#21517;&#12290;&#36825;&#37324;&#21516;&#26679;&#20063;&#26159;&#20351;&#29992;&#20102;Labels and References&#26426;&#21046;&#12290; </P>
<P>&#65288;D&#65289;intc&#65288;node name&#26159;interrupt-controller@4a000000 &#65292;&#25105;&#36825;&#37324;&#30452;&#25509;&#20351;&#29992;lable&#65289;&#26159;&#25551;&#36848;interrupt controller&#30340;device node&#12290;&#26681;&#25454;S3C24xx&#30340;datasheet&#65292;&#25105;&#20204;&#30693;&#36947;interrupt controller&#30340;&#23492;&#23384;&#22120;&#22320;&#22336;&#20174;0x4a000000&#24320;&#22987;&#65292;&#38271;&#24230;&#20026;0x100&#65288;&#23454;&#38469;2451&#30340;interrupt&#30340;&#23492;&#23384;&#22120;&#22320;&#22336;&#31354;&#38388;&#27809;&#26377;&#37027;&#20040;&#38271;&#65292;0x4a000074&#26159;&#26368;&#21518;&#19968;&#20010;&#23492;&#23384;&#22120;&#65289;&#65292;&#20063;&#23601;&#26159;reg&#23646;&#24615;&#23450;&#20041;&#30340;&#20869;&#23481;&#12290;interrupt-controller&#23646;&#24615;&#20026;&#31354;&#65292;&#21482;&#26159;&#29992;&#26469;&#26631;&#35782;&#35813;node&#26159;&#19968;&#20010;interrupt controller&#32780;&#19981;&#26159;interrupt nexus&#65288;interrupt nexus&#38656;&#35201;&#22312;&#19981;&#21516;&#30340;interrupt domains&#20043;&#38388;&#36827;&#34892;&#32763;&#35793;&#65292;&#38656;&#35201;&#23450;&#20041;interrupt-map&#30340;&#23646;&#24615;&#65292;&#26412;&#25991;&#19981;&#28041;&#21450;&#36825;&#37096;&#20998;&#30340;&#20869;&#23481;&#65289;&#12290;#interrupt-cells &#21644;#address-cells&#27010;&#24565;&#26159;&#31867;&#20284;&#30340;&#65292;&#20063;&#23601;&#26159;&#35828;&#65292;&#29992;&#22810;&#23569;&#20010;u32&#26469;&#26631;&#35782;&#19968;&#20010;interrupt source&#12290;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#65292;&#22312;&#20855;&#20307;HW block&#30340;interrupt&#23450;&#20041;&#20013;&#37117;&#26159;&#29992;&#20102;4&#20010;u32&#26469;&#34920;&#31034;&#65292;&#20363;&#22914;&#20018;&#21475;&#30340;&#20013;&#26029;&#26159;&#36825;&#26679;&#23450;&#20041;&#30340;&#65306; </P>
<BLOCKQUOTE>interrupts = &lt;1 0 4 28&gt;, &lt;1 1 4 28&gt;; <BR></BLOCKQUOTE>
<P>&#65288;E&#65289; &#20174;reg&#23646;&#24615;&#21487;&#20197;serial controller&#23492;&#23384;&#22120;&#22320;&#22336;&#20174;0x50000000 &#24320;&#22987;&#65292;&#38271;&#24230;&#20026;0x4000&#12290;&#23545;&#20110;&#19968;&#20010;&#33021;&#20135;&#29983;&#20013;&#26029;&#30340;&#35774;&#22791;&#65292;&#24517;&#39035;&#23450;&#20041;interrupts&#36825;&#20010;&#23646;&#24615;&#12290;&#20063;&#21487;&#20197;&#23450;&#20041;interrupt-parent&#36825;&#20010;&#23646;&#24615;&#65292;&#22914;&#26524;&#19981;&#23450;&#20041;&#65292;&#21017;&#32487;&#25215;&#20854;parent node&#30340;interrupt-parent&#23646;&#24615;&#12290; &#23545;&#20110;interrupt&#23646;&#24615;&#20540;&#65292;&#21508;&#20010;interrupt controller&#23450;&#20041;&#26159;&#19981;&#19968;&#26679;&#30340;&#65292;&#26377;&#30340;&#29992;3&#20010;u32&#34920;&#31034;&#65292;&#26377;&#30340;&#29992;4&#20010;&#12290;&#20855;&#20307;&#19978;&#38754;&#30340;&#21508;&#20010;&#25968;&#23383;&#30340;&#35299;&#37322;&#26435;&#24402;&#30456;&#20851;&#30340;interrupt controller&#25152;&#26377;&#12290;&#23545;&#20110;&#20013;&#26029;&#23646;&#24615;&#30340;&#20855;&#20307;&#20540;&#30340;&#25551;&#36848;&#25105;&#20204;&#20250;&#22312;device tree&#30340;&#31532;&#19977;&#20221;&#25991;&#26723;&#65293;&#20195;&#30721;&#20998;&#26512;&#20013;&#25551;&#36848;&#12290; </P>
<P>&#65288;F&#65289;&#36825;&#20010;node&#26159;&#25551;&#36848;GPIO&#25511;&#21046;&#30340;&#12290;&#36825;&#20010;&#33410;&#28857;&#23450;&#20041;&#20102;&#19968;&#20010;wakeup-interrupt-controller &#30340;&#23376;&#33410;&#28857;&#65292;&#29992;&#26469;&#25551;&#36848;&#26377;&#21796;&#37266;&#21151;&#33021;&#30340;&#20013;&#26029;&#28304;&#12290; </P>
<P>3&#12289;s3c2416.dtsi&#12290;&#20301;&#20110;linux-3.14\arch\arm\boot\dts&#30446;&#24405;&#19979;&#65292;&#20855;&#20307;&#35813;&#25991;&#20214;&#30340;&#20869;&#23481;&#22914;&#19979;&#65288;&#26377;&#20123;&#20869;&#23481;&#30465;&#30053;&#20102;&#65292;&#39046;&#20250;&#31934;&#31070;&#21363;&#21487;&#65292;&#19981;&#38656;&#35201;&#25551;&#36848;&#27599;&#19968;&#20010;&#30828;&#20214;&#23450;&#20041;&#30340;&#32454;&#33410;&#65289;&#65306; </P>
<BLOCKQUOTE>
<P>#include "s3c24xx.dtsi" <BR>#include "s3c2416-pinctrl.dtsi" </P>
<P>/ { <BR>&nbsp;&nbsp;&nbsp; model = "Samsung S3C2416 SoC";&nbsp; <BR>&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c2416"; &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;A </P>
<P>&nbsp;&nbsp;&nbsp; cpus { &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;B <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #address-cells = &lt;1&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #size-cells = &lt;0&gt;; </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cpu { <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compatible = "arm,arm926ejs"; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }; <BR>&nbsp;&nbsp;&nbsp; }; </P>
<P>&nbsp;&nbsp;&nbsp; interrupt-controller@4a000000 { &#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;&#65293;C <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c2416-irq"; <BR>&nbsp;&nbsp;&nbsp; }; </P>
<P>&#8230;&#8230; </P>
<P>}; </P></BLOCKQUOTE>
<P>&#65288;A&#65289;&#22312;s3c24xx.dtsi&#25991;&#20214;&#20013;&#24050;&#32463;&#23450;&#20041;&#20102;compatible&#36825;&#20010;&#23646;&#24615;&#65292;&#22312;s3c2416.dtsi&#20013;&#37325;&#22797;&#23450;&#20041;&#20102;&#36825;&#20010;&#23646;&#24615;&#65292;&#19968;&#20010;node&#19981;&#21487;&#33021;&#26377;&#30456;&#21516;&#21517;&#23383;&#30340;&#23646;&#24615;&#65292;&#20855;&#20307;&#22914;&#20309;&#22788;&#29702;&#23601;&#20132;&#32473;DTC&#20102;&#12290;&#32463;&#36807;&#21453;&#32534;&#35793;&#65292;&#21487;&#20197;&#30475;&#20986;&#65292;DTC&#26159;&#20002;&#24323;&#25481;&#20102;&#21069;&#19968;&#20010;&#23450;&#20041;&#12290;&#22240;&#27492;&#65292;&#21040;&#30446;&#21069;&#20026;&#27490;&#65292;compatible &#65309; samsung,s3c2416&#12290;&#22312;s3c24xx.dtsi&#25991;&#20214;&#20013;&#23450;&#20041;&#20102;compatible&#30340;&#23646;&#24615;&#20540;&#34987;&#35206;&#30422;&#20102;&#12290; </P>
<P>&#65288;B&#65289;&#23545;&#20110;&#26681;&#33410;&#28857;&#65292;&#24517;&#39035;&#26377;&#19968;&#20010;cpus&#30340;child node&#26469;&#25551;&#36848;&#31995;&#32479;&#20013;&#30340;CPU&#20449;&#24687;&#12290;&#23545;&#20110;CPU&#30340;&#32534;&#22336;&#25105;&#20204;&#29992;&#19968;&#20010;u32&#25972;&#25968;&#23601;&#21487;&#20197;&#25551;&#36848;&#20102;&#65292;&#22240;&#27492;&#65292;&#23545;&#20110;cpus node&#65292;#address-cells &#26159;1&#65292;&#32780;#size-cells&#26159;0&#12290;&#20854;&#23454;CPU&#30340;node&#21487;&#20197;&#23450;&#20041;&#24456;&#22810;&#23646;&#24615;&#65292;&#20363;&#22914;TLB&#65292;cache&#12289;&#39057;&#29575;&#20449;&#24687;&#20160;&#20040;&#30340;&#65292;&#19981;&#36807;&#23545;&#20110;ARM&#65292;&#36825;&#37324;&#21482;&#26159;&#23450;&#20041;&#20102;compatible&#23646;&#24615;&#23601;OK&#20102;&#65292;arm926ejs&#21253;&#25324;&#20102;&#25152;&#26377;&#30340;processor&#30456;&#20851;&#30340;&#20449;&#24687;&#12290; </P>
<P>&#65288;C&#65289;s3c24xx.dtsi&#25991;&#20214;&#21644;s3c2416.dtsi&#20013;&#37117;&#26377;<A href="mailto:interrupt-controller@4a000000">interrupt-controller@4a000000</A>&#36825;&#20010;node&#65292;DTC&#20250;&#23545;&#36825;&#20004;&#20010;node&#36827;&#34892;&#21512;&#24182;&#65292;&#26368;&#32456;&#32534;&#35793;&#30340;&#32467;&#26524;&#22914;&#19979;&#65306; </P>
<BLOCKQUOTE>
<P>interrupt-controller@4a000000 { <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; compatible = "samsung,s3c2416-irq"; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; reg = &lt;0x4a000000 0x100&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; interrupt-controller; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #interrupt-cells = &lt;0x4&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; linux,phandle = &lt;0x1&gt;; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; phandle = &lt;0x1&gt;; <BR>&nbsp;&nbsp;&nbsp; }; </P></BLOCKQUOTE>
<P>4&#12289;s3c2416-pinctrl.dtsi </P>
<P>&nbsp; &#36825;&#20010;&#25991;&#20214;&#23450;&#20041;&#20102;pinctrl@56000000 &#36825;&#20010;&#33410;&#28857;&#30340;&#33509;&#24178;child node&#65292;&#20027;&#35201;&#29992;&#26469;&#25551;&#36848;GPIO&#30340;bank&#20449;&#24687;&#12290; </P>
<P>5&#12289;s3c2416-snail.dts </P>
<P>&nbsp; &#36825;&#20010;&#25991;&#20214;&#24212;&#35813;&#23450;&#20041;&#19968;&#20123;SOC&#20043;&#22806;&#30340;peripherals&#30340;&#23450;&#20041;&#12290; </P>
<P>&#22235;&#12289;Device Tree binary&#26684;&#24335; </P>
<P>1&#12289;DTB&#25972;&#20307;&#32467;&#26500; </P>
<P>&#32463;&#36807;Device Tree Compiler&#32534;&#35793;&#65292;Device Tree source file&#21464;&#25104;&#20102;Device Tree Blob&#65288;&#21448;&#31216;&#20316;flattened device tree&#65289;&#30340;&#26684;&#24335;&#12290;Device Tree Blob&#30340;&#25968;&#25454;&#32452;&#32455;&#22914;&#19979;&#22270;&#25152;&#31034;&#65306; </P>
<P><A href="http://www.wowotech.net/content/uploadfile/201405/85adc8b356e424f83c425948b3f1628220140530084702.gif"><IMG title=dt style="BORDER-LEFT-WIDTH: 0px; BORDER-RIGHT-WIDTH: 0px; BORDER-BOTTOM-WIDTH: 0px; DISPLAY: inline; BORDER-TOP-WIDTH: 0px" border=0 alt=dt src="http://www.wowotech.net/content/uploadfile/201405/e8c156f0cf3751cd223cca8cbf96132920140530084707.gif" width=596 height=567></A> </P>
<P>2&#12289;DTB header&#12290; </P>
<P>&#23545;&#20110;DTB header&#65292;&#20854;&#21508;&#20010;&#25104;&#21592;&#35299;&#37322;&#22914;&#19979;&#65306; </P>
<TABLE class=ke-zeroborder cellSpacing=0 cellPadding=2 width=637 border=0>
<TBODY>
<TR>
<TD vAlign=top width=200>header field name </TD>
<TD vAlign=top width=435>description </TD></TR>
<TR>
<TD vAlign=top width=200>magic </TD>
<TD vAlign=top width=435>&#29992;&#26469;&#35782;&#21035;DTB&#30340;&#12290;&#36890;&#36807;&#36825;&#20010;magic&#65292;kernel&#21487;&#20197;&#30830;&#23450;bootloader&#20256;&#36882;&#30340;&#21442;&#25968;block&#26159;&#19968;&#20010;DTB&#36824;&#26159;tag list&#12290; </TD></TR>
<TR>
<TD vAlign=top width=200>totalsize </TD>
<TD vAlign=top width=435>DTB&#30340;total size </TD></TR>
<TR>
<TD vAlign=top width=200>off_dt_struct </TD>
<TD vAlign=top width=435>device tree structure block&#30340;offset </TD></TR>
<TR>
<TD vAlign=top width=200>off_dt_strings </TD>
<TD vAlign=top width=435>device tree strings block&#30340;offset </TD></TR>
<TR>
<TD vAlign=top width=200>off_mem_rsvmap </TD>
<TD vAlign=top width=435>offset to memory reserve map&#12290;&#26377;&#20123;&#31995;&#32479;&#65292;&#25105;&#20204;&#20063;&#35768;&#20250;&#20445;&#30041;&#19968;&#20123;memory&#26377;&#29305;&#27530;&#29992;&#36884;&#65288;&#20363;&#22914;DTB&#25110;&#32773;initrd image&#65289;&#65292;&#25110;&#32773;&#22312;&#26377;&#20123;DSP+ARM&#30340;SOC platform&#19978;&#65292;&#26377;&#20889;memory&#34987;&#20445;&#30041;&#29992;&#20110;ARM&#21644;DSP&#36827;&#34892;&#20449;&#24687;&#20132;&#20114;&#12290;&#36825;&#20123;&#20445;&#30041;&#20869;&#23384;&#19981;&#20250;&#36827;&#20837;&#20869;&#23384;&#31649;&#29702;&#31995;&#32479;&#12290; </TD></TR>
<TR>
<TD vAlign=top width=200>version </TD>
<TD vAlign=top width=435>&#35813;DTB&#30340;&#29256;&#26412;&#12290; </TD></TR>
<TR>
<TD vAlign=top width=200>last_comp_version </TD>
<TD vAlign=top width=435>&#20860;&#23481;&#29256;&#26412;&#20449;&#24687; </TD></TR>
<TR>
<TD vAlign=top width=200>boot_cpuid_phys </TD>
<TD vAlign=top width=435>&#25105;&#20204;&#22312;&#21738;&#19968;&#20010;CPU&#65288;&#29992;ID&#26631;&#35782;&#65289;&#19978;booting </TD></TR>
<TR>
<TD vAlign=top width=200>dt_strings_size </TD>
<TD vAlign=top width=435>device tree strings block&#30340;size&#12290;&#21644;off_dt_strings&#19968;&#36215;&#30830;&#23450;&#20102;strings block&#22312;&#20869;&#23384;&#20013;&#30340;&#20301;&#32622; </TD></TR>
<TR>
<TD vAlign=top width=200>dt_struct_size </TD>
<TD vAlign=top width=435>device tree structure block&#30340;size&#12290;&#21644;&#21644;off_dt_struct&#19968;&#36215;&#30830;&#23450;&#20102;device tree structure block&#22312;&#20869;&#23384;&#20013;&#30340;&#20301;&#32622; </TD></TR></TBODY></TABLE>
<P>3&#12289; memory reserve map&#30340;&#26684;&#24335;&#25551;&#36848; </P>
<P>&#36825;&#20010;&#21306;&#22495;&#21253;&#25324;&#20102;&#33509;&#24178;&#30340;reserve memory&#25551;&#36848;&#31526;&#12290;&#27599;&#20010;reserve memory&#25551;&#36848;&#31526;&#26159;&#30001;address&#21644;size&#32452;&#25104;&#12290;&#20854;&#20013;address&#21644;size&#37117;&#26159;&#29992;U64&#26469;&#25551;&#36848;&#12290; </P>
<P><BR></P>
<P>4&#12289;device tree structure block&#30340;&#26684;&#24335;&#25551;&#36848; </P>
<P>device tree structure block&#21306;&#22495;&#26159;&#30001;&#33509;&#24178;&#30340;&#20998;&#29255;&#32452;&#25104;&#65292;&#27599;&#20010;&#20998;&#29255;&#24320;&#22987;&#20301;&#32622;&#37117;&#26159;&#20445;&#23384;&#20102;token&#65292;&#20197;&#27492;&#26469;&#25551;&#36848;&#35813;&#20998;&#29255;&#30340;&#23646;&#24615;&#21644;&#20869;&#23481;&#12290;&#20849;&#35745;&#26377;5&#31181;token&#65306; </P>
<P>&#65288;1&#65289;FDT_BEGIN_NODE (0x00000001)&#12290;&#35813;token&#25551;&#36848;&#20102;&#19968;&#20010;node&#30340;&#24320;&#22987;&#20301;&#32622;&#65292;&#32039;&#25384;&#30528;&#35813;token&#30340;&#23601;&#26159;node name&#65288;&#21253;&#25324;unit address&#65289; </P>
<P>&#65288;2&#65289;FDT_END_NODE (0x00000002)&#12290;&#35813;token&#25551;&#36848;&#20102;&#19968;&#20010;node&#30340;&#32467;&#26463;&#20301;&#32622;&#12290; </P>
<P>&#65288;3&#65289;FDT_PROP (0x00000003)&#12290;&#35813;token&#25551;&#36848;&#20102;&#19968;&#20010;property&#30340;&#24320;&#22987;&#20301;&#32622;&#65292;&#35813;token&#20043;&#21518;&#26159;&#20004;&#20010;u32&#30340;&#25968;&#25454;&#65292;&#20998;&#21035;&#26159;length&#21644;name offset&#12290;length&#34920;&#31034;&#35813;property value data&#30340;size&#12290;name offset&#34920;&#31034;&#35813;&#23646;&#24615;&#23383;&#31526;&#20018;&#22312;device tree strings block&#30340;&#20559;&#31227;&#20540;&#12290;length&#21644;name offset&#20043;&#21518;&#23601;&#26159;&#38271;&#24230;&#20026;length&#20855;&#20307;&#30340;&#23646;&#24615;&#20540;&#25968;&#25454;&#12290; </P>
<P>&#65288;4&#65289;FDT_NOP (0x00000004)&#12290; </P>
<P>&#65288;5&#65289;FDT_END (0x00000009)&#12290;&#35813;token&#26631;&#35782;&#20102;&#19968;&#20010;DTB&#30340;&#32467;&#26463;&#20301;&#32622;&#12290; </P>
<P>&#19968;&#20010;&#21487;&#33021;&#30340;DTB&#30340;&#32467;&#26500;&#22914;&#19979;&#65306; </P>
<P>&#65288;1&#65289;&#33509;&#24178;&#20010;FDT_NOP&#65288;&#21487;&#36873;&#65289; </P>
<P>&#65288;2&#65289;FDT_BEGIN_NODE </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; node name </P>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; paddings </P>
<P>&#65288;3&#65289;&#33509;&#24178;&#23646;&#24615;&#23450;&#20041;&#12290; </P>
<P>&#65288;4&#65289;&#33509;&#24178;&#23376;&#33410;&#28857;&#23450;&#20041;&#12290; </P>
<P>&#65288;5&#65289;&#33509;&#24178;&#20010;FDT_NOP&#65288;&#21487;&#36873;&#65289; </P>
<P>&#65288;6&#65289;FDT_END </P>
<P><BR></P>
<P>5&#12289;device tree strings bloc&#30340;&#26684;&#24335;&#25551;&#36848; </P>
<P>device tree strings bloc&#23450;&#20041;&#20102;&#21508;&#20010;node&#20013;&#20351;&#29992;&#30340;&#23646;&#24615;&#30340;&#23383;&#31526;&#20018;&#34920;&#12290;&#30001;&#20110;&#24456;&#22810;&#23646;&#24615;&#20250;&#20986;&#29616;&#22312;&#22810;&#20010;node&#20013;&#65292;&#22240;&#27492;&#65292;&#25152;&#26377;&#30340;&#23646;&#24615;&#23383;&#31526;&#20018;&#32452;&#25104;&#20102;&#19968;&#20010;string block&#12290;&#36825;&#26679;&#21487;&#20197;&#21387;&#32553;DTB&#30340;size&#12290; </P>
<P><BR></P>
<P><EM>&#21407;&#21019;&#25991;&#31456;&#65292;&#36716;&#21457;&#35831;&#27880;&#26126;&#20986;&#22788;&#12290;&#34583;&#31389;&#31185;&#25216;</EM>&#65292;<A href="http://www.wowotech.net/linux_kenrel/dt_basic_concept.html">www.wowotech.net&#12290;</A>