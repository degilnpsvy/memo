<H1><A name=OPTIONS></A>Chapter 33. Options</H1>
<P><A name=OPTIONSREF></A></P>
<P>Options are settings that change shell and/or script behavior.</P>
<P>The <A href="http://tldp.org/LDP/abs/html/abs-guide.html#SETREF">set</A> command enables options within a script. At the point in the script where you want the options to take effect, use <B class=COMMAND>set -o option-name</B> or, in short form, <B class=COMMAND>set -option-abbrev</B>. These two forms are equivalent.</P>
<P>
<TABLE border=0 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>      #!/bin/bash

      set -o verbose
      # Echoes all commands before executing.
      </PRE></FONT></TD></TR></TBODY></TABLE></P>
<P>
<TABLE border=0 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>      #!/bin/bash

      set -v
      # Exact same effect as above.
      </PRE></FONT></TD></TR></TBODY></TABLE></P>
<DIV class=NOTE>
<P></P>
<TABLE class=NOTE border=0 width="100%">
<TBODY>
<TR>
<TD vAlign=top width=25 align=middle><IMG hspace=5 alt=Note src="http://tldp.org/LDP/abs/images/note.gif"></TD>
<TD vAlign=top align=left>
<P>To <I class=FIRSTTERM>disable</I> an option within a script, use <B class=COMMAND>set +o option-name</B> or <B class=COMMAND>set +option-abbrev</B>.</P></TD></TR></TBODY></TABLE></DIV>
<P>
<TABLE border=0 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>      #!/bin/bash

      set -o verbose
      # Command echoing on.
      command
      ...
      command

      set +o verbose
      # Command echoing off.
      command
      # Not echoed.


      set -v
      # Command echoing on.
      command
      ...
      command

      set +v
      # Command echoing off.
      command

      exit 0
      </PRE></FONT></TD></TR></TBODY></TABLE></P>
<P>An alternate method of enabling options in a script is to specify them immediately following the <TT class=REPLACEABLE><I>#!</I></TT> script header.</P>
<P>
<TABLE border=0 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>      #!/bin/bash -x
      #
      # Body of script follows.
      </PRE></FONT></TD></TR></TBODY></TABLE></P>
<P><A name=INVOCATIONOPTIONSREF></A></P>
<P>It is also possible to enable script options from the command line. Some options that will not work with <B class=COMMAND>set</B> are available this way. Among these are <TT class=REPLACEABLE><I>-i</I></TT>, force script to run interactive.</P>
<P><TT class=USERINPUT><B>bash -v script-name</B></TT></P>
<P><TT class=USERINPUT><B>bash -o verbose script-name</B></TT></P>
<P>The following is a listing of some useful options. They may be specified in either abbreviated form (preceded by a single dash) or by complete name (preceded by a <EM>double</EM> dash or by <TT class=OPTION>-o</TT>).</P>
<P><A name=OPTIONSTABLE></A></P>
<DIV class=TABLE><A name=AEN19601></A>
<P><B>Table 33-1. Bash options</B></P>
<TABLE class=CALSTABLE border=1>
<THEAD>
<TR>
<TH vAlign=top align=left>Abbreviation</TH>
<TH vAlign=top align=left>Name</TH>
<TH vAlign=top align=left>Effect</TH></TR></THEAD>
<TBODY>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-B</TT></TD>
<TD vAlign=top align=left>brace expansion</TD>
<TD vAlign=top align=left><EM>Enable</EM> <A href="http://tldp.org/LDP/abs/html/abs-guide.html#BRACEEXPREF">brace expansion</A> (default setting = <EM>on</EM>)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>+B</TT></TD>
<TD vAlign=top align=left>brace expansion</TD>
<TD vAlign=top align=left><EM>Disable</EM> brace expansion</TD></TR>
<TR>
<TD vAlign=top align=left><A name=NOCLOBBERREF></A><TT class=OPTION>-C</TT></TD>
<TD vAlign=top align=left>noclobber</TD>
<TD vAlign=top align=left>Prevent overwriting of files by redirection (may be overridden by <SPAN class=TOKEN>&gt;|</SPAN>)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-D</TT></TD>
<TD vAlign=top align=left>(none)</TD>
<TD vAlign=top align=left>List double-quoted strings prefixed by <SPAN class=TOKEN>$</SPAN>, but do not execute commands in script</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-a</TT></TD>
<TD vAlign=top align=left>allexport</TD>
<TD vAlign=top align=left>Export all defined variables</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-b</TT></TD>
<TD vAlign=top align=left>notify</TD>
<TD vAlign=top align=left>Notify when jobs running in background terminate (not of much use in a script)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-c ...</TT></TD>
<TD vAlign=top align=left>(none)</TD>
<TD vAlign=top align=left>Read commands from <B class=COMMAND>...</B></TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>checkjobs</TT></TD>
<TD vAlign=top align=left>&nbsp;</TD>
<TD vAlign=top align=left>Informs user of any open <A href="http://tldp.org/LDP/abs/html/abs-guide.html#JOBSREF">jobs</A> upon shell exit. Introduced in <A href="http://tldp.org/LDP/abs/html/abs-guide.html#BASH4REF">version 4</A> of Bash, and still <SPAN class=QUOTE>"experimental."</SPAN> <EM>Usage:</EM> shopt -s checkjobs (<EM>Caution:</EM> may hang!)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-e</TT></TD>
<TD vAlign=top align=left>errexit</TD>
<TD vAlign=top align=left>Abort script at first error, when a command exits with non-zero status (except in <A href="http://tldp.org/LDP/abs/html/abs-guide.html#UNTILLOOPREF">until</A> or <A href="http://tldp.org/LDP/abs/html/abs-guide.html#WHILELOOPREF">while loops</A>, <A href="http://tldp.org/LDP/abs/html/abs-guide.html#TESTCONSTRUCTS1">if-tests</A>, <A href="http://tldp.org/LDP/abs/html/abs-guide.html#LCONS1">list constructs</A>)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-f</TT></TD>
<TD vAlign=top align=left>noglob</TD>
<TD vAlign=top align=left>Filename expansion (globbing) disabled</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>globstar</TT></TD>
<TD vAlign=top align=left><A href="http://tldp.org/LDP/abs/html/abs-guide.html#GLOBSTARREF"><I class=FIRSTTERM>globbing</I> star-match</A></TD>
<TD vAlign=top align=left>Enables the <SPAN class=TOKEN>**</SPAN> <A href="http://tldp.org/LDP/abs/html/abs-guide.html#GLOBBINGREF">globbing</A> operator (<A href="http://tldp.org/LDP/abs/html/abs-guide.html#BASH4REF">version 4+</A> of Bash). <EM>Usage:</EM> shopt -s globstar</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-i</TT></TD>
<TD vAlign=top align=left>interactive</TD>
<TD vAlign=top align=left>Script runs in <I class=FIRSTTERM>interactive</I> mode</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-n</TT></TD>
<TD vAlign=top align=left>noexec</TD>
<TD vAlign=top align=left>Read commands in script, but do not execute them (syntax check)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-o Option-Name</TT></TD>
<TD vAlign=top align=left>(none)</TD>
<TD vAlign=top align=left>Invoke the <I class=FIRSTTERM>Option-Name</I> option</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-o posix</TT></TD>
<TD vAlign=top align=left>POSIX</TD>
<TD vAlign=top align=left>Change the behavior of Bash, or invoked script, to conform to <A href="http://tldp.org/LDP/abs/html/abs-guide.html#POSIX2REF">POSIX</A> standard.</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-o pipefail</TT></TD>
<TD vAlign=top align=left>pipe failure</TD>
<TD vAlign=top align=left>Causes a pipeline to return the <A href="http://tldp.org/LDP/abs/html/abs-guide.html#EXITSTATUSREF">exit status</A> of the last command in the pipe that returned a non-zero return value.</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-p</TT></TD>
<TD vAlign=top align=left>privileged</TD>
<TD vAlign=top align=left>Script runs as <SPAN class=QUOTE>"suid"</SPAN> (caution!)</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-r</TT></TD>
<TD vAlign=top align=left>restricted</TD>
<TD vAlign=top align=left>Script runs in <I class=FIRSTTERM>restricted</I> mode (see <A href="http://tldp.org/LDP/abs/html/abs-guide.html#RESTRICTED-SH">Chapter 22</A>).</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-s</TT></TD>
<TD vAlign=top align=left>stdin</TD>
<TD vAlign=top align=left>Read commands from <TT class=FILENAME>stdin</TT></TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-t</TT></TD>
<TD vAlign=top align=left>(none)</TD>
<TD vAlign=top align=left>Exit after first command</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-u</TT></TD>
<TD vAlign=top align=left>nounset</TD>
<TD vAlign=top align=left>Attempt to use undefined variable outputs error message, and forces an exit</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-v</TT></TD>
<TD vAlign=top align=left>verbose</TD>
<TD vAlign=top align=left>Print each command to <TT class=FILENAME>stdout</TT> before executing it</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-x</TT></TD>
<TD vAlign=top align=left>xtrace</TD>
<TD vAlign=top align=left>Similar to <TT class=OPTION>-v</TT>, but expands commands</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>-</TT></TD>
<TD vAlign=top align=left>(none)</TD>
<TD vAlign=top align=left>End of options flag. All other arguments are <A href="http://tldp.org/LDP/abs/html/abs-guide.html#POSPARAMREF">positional parameters</A>.</TD></TR>
<TR>
<TD vAlign=top align=left><TT class=OPTION>--</TT></TD>
<TD vAlign=top align=left>(none)</TD>
<TD vAlign=top align=left>Unset positional parameters. If arguments given (<TT class=PARAMETER><I>-- arg1 arg2</I></TT>), positional parameters set to arguments.</TD></TR></TBODY></TABLE></DIV>