<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-outline-level: 1" class=MsoNormal align=left><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 22pt; mso-bidi-font-size: 19.0pt; mso-font-kerning: 18.0pt" lang=EN-US>The Linux keyboard driver</SPAN></B><B><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt" lang=EN-US></SPAN></B></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>Jun 01, 1995 &nbsp;By&nbsp;<A title="View user profile." href="http://www.linuxjournal.com/user/1000897"><SPAN style="COLOR: #003366; TEXT-DECORATION: none; text-underline: none">Andries E. Brouwer</SPAN></A></SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>&nbsp;in <A title="" href="http://www.linuxjournal.com/taxonomy/term/17"><SPAN style="COLOR: #666666; TEXT-DECORATION: none; text-underline: none">Software</SPAN></A></SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan" class=MsoNormal align=left><I><SPAN style="FONT-FAMILY: 'Arial','sans-serif'; COLOR: black; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt" lang=EN-US>Our Kernel Korner series continues with an article describing the linux Keyboard driver. This artilce is not for &#8220;Kernel Hackers&#8221; only&#8212;in fact, it will be most useful to those who wish to use their own keyboard to its fullest potential, and those who want to write programs to take advantage of the many features in the Linux keyboard driver.</SPAN></I></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><A name=N0xa50890.0xb44cd0></A><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>When you press a key on the console keyboard, the corresponding character is not simply added to the&nbsp;<B>tty</B>(generic terminal handling) input buffers as if it had come in over a serial port. A lot of processing is required before the kernel knows what the correct characters are. Only after processing can the generic tty code, which handles all interactive terminal devices, take over.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Roughly speaking, the picture is this: the keyboard produces scancodes, the scancodes are assembled into keycodes (one unique code for each key), and keycodes are converted to tty input characters using the kernel keymaps. After that, the normal `stty' processing takes place, just as for any other terminal.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><A name=N0xa50890.0xb44e88></A><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Scancodes First</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>The usual PC keyboards are capable of producing three sets of scancodes. Writing 0xf0 followed by 1, 2 or 3 to port 0x60 will put the keyboard in scancode mode 1, 2 or 3. Writing 0xf0 followed by 0 queries the mode, resulting in a scancode byte 0x43, 0x41 or 0x3f from the keyboard. (Don't try this at home, kids. If you are not very careful, you will end up in a situation where rebooting is the only way out&#8212;and control-alt-delete will not be available to shut the computer down correctly. See the accompanying&nbsp;<A href="http://www.linuxjournal.com/files/linuxjournal.com/linuxjournal/articles/010/1080/1080l1.html"><B><SPAN style="COLOR: #003366; TEXT-DECORATION: none; text-underline: none">listing of kbd_cmd.c</SPAN></B></A>&nbsp;for details.)</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Scancode mode 2 is the default. In this mode, a key press usually produces a value s in the range 0x01-0x5f and the corresponding key release produces s+0x80. In scancode mode 3, the only key releases that produce a scan code are of both Shift keys, and the left Ctrl and Alt keys; for all other keys only the key presses are noted. The produced scancodes are mostly equal to those for scancode mode 2.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>In scancode mode 1 most key releases produce the same values as in scancode mode 2, but for key presses there are entirely different, unrelated values. The details are somewhat messy.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>A program can request the raw scancodes by</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>ioctl(0, KDSKBMODE, K_RAW);</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>For example,&nbsp;<B>X</B>,&nbsp;<B>dosemu</B>,&nbsp;<B>svgadoom</B>, and&nbsp;<B>showkey -s</B>&nbsp;do this. The default keycode translation mode is restored by</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>ioctl(0, KDSKBMODE, K_XLATE);</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>See the keyboard FAQ (in kbd-0.90.tar.gz) for some advice about how to get out of raw scancode mode from the shell prompt. (At a shell prompt the commands<B>kbd_mode [-s|-k|-a|-u]</B>&nbsp;will set the keyboard mode to scancode mode, keycode mode, translation (`ASCII') mode and Unicode mode, respectively. But it is difficult to type this command when the keyboard is in raw scancode mode.)</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><A name=N0xa50890.0xb45408></A><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Scancodes to Keycodes</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Life would have been easy had there been a 1-1 correspondence between keys and scancodes. (And in fact there is, in scancode mode 3, but that does not suffice for Linux, since X requires both the key press and the key release events.)</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>But as it is, a single key press can produce a sequence of up to six scancodes, and the kernel has to parse the stream of scancodes and convert it into a series of key press and key release events. To this end, each key is provided with a unique keycode k in the range 1-127, and pressing key k produces keycode k, while releasing it produces keycode k+128. The assignment of key codes is in principle arbitrary (and has no relation to the key codes used by X), but at present the key code equals the scan code for those keys that produce a single scancode in the range 0x01-0x58.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>The parsing works by</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 48pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>recognizing the special sequence 0xe1 0x1d 0x45 0xe1 0x9d 0xc5 produced by the Pause key</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 48pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>throwing out any fake Shift-down and Shift-up codes, inserted by the keyboard to make the kernel believe that you pressed Shift to undo the effect of NumLock</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 48pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>recognizing scancode pairs 0xe0 s</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 48pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l0 level1 lfo1" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>recognizing single scancodes s.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Since s can take 127 values (0 is a keyboard error condition, and the high order bit indicates press/release) this means that parsing could result in 1+127+126=254 distinct keycodes. However, at present keycodes are restricted to the range 1-127 and we have to work a little to make things fit. (No doubt sooner or later keycodes will be integers instead of 7-bit quantities, and the keymaps will be sparse, but for the time being we can avoid that&#8212;since to my knowledge no actual PC keyboard has more than 127 keys.) So, there are small tables that assign a keycode to a scancode pair 0xe0 s or to a single scancode in the range 0x59-0x7f. In the default setting everything works for most current keyboards, but in case you have some strange keyboard, you can get the kernel to recognize an otherwise unrecognized key by filling an entry in these tables using the KDSETKEYCODE ioctl; see setkeycodes(8).</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>Two keys are unusual in the sense that their keycode is not constant, but depends on modifiers. The PrintScrn key will yield keycode 84 when combined with either Alt key, but keycode 99 otherwise. The Pause key will yield keycode 101 when combined with either Ctrl key, but keycode 119 otherwise. (This has historic reasons, but might change, to free keycodes 99 and 119 for other purposes.)</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>At present there is no way to tell X about strange key(board)s. The easiest solution would be to make X use keycodes instead of scancodes, so that the information about strange keys and the scancodes they produce is located a single place.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>A program can request to get keycodes by doing</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>ioctl(0, KDSKBMODE,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>K_MEDIUMRAW);</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Arial; mso-ansi-language: EN" lang=EN>For example, showkey does this. Warning: the details of the function of both the<B>KDSETKEYCODE</B>&nbsp;ioctl and the&nbsp;<B>K_MEDIUMRAW</B>&nbsp;keyboard mode are likely to change in the future.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Keymaps</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Keycodes are converted to keysymbols by looking them up on the appropriate keymap. There are eight possible modifiers (shift keys), and the combination of currently active modifiers and locks determines the keymap used.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Thus, what happens is approximately:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>int shift_final = shift_state ^ kbd-&gt;lockstate;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>ushort *key_map = key_maps[shift_final];</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>keysym = key_map[keycode];</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>The eight modifiers are known as Shift, AltGr, Control, Alt, ShiftL, ShiftR, CtrlL and CtrlR. These labels have no intrinsic meaning, and the modifiers can be used for arbitrary purposes, except that the keymap for the Shift modifier determines the action of CapsLock (and that the Shift key partially suppresses keyboard application mode). By default Shift is bound to both Shift keys and Control keys and Alt and AltGr are bound to the left and right Alt keys. The remaining four modifiers are unbound in the default kernel. X is able to distinguish ShiftL and ShiftR, etc.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Thus, there are 256 possible keymaps&#8212;for plain symbols, for Shift+symbol, for Ctrl+AltL+Shift+symbol, etc. Usually, not all of the keymaps will be allocated (combinations with more than three modifiers are rather unusual), and in fact the default kernel allocates only 7 keymaps, namely the plain, Shift, AltR, Ctrl, Ctrl+Shift, AltL and Ctrl+AltL maps. You can allocate more keymaps simply by filling some of their entries using&nbsp;<B>loadkeys(1)</B>.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><A name=N0xa50890.0xb45e58></A><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Key # symbols</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Key symbols are&nbsp;<B>shorts</B>, i.e., they consist of two bytes. In Unicode mode, this short is just the 16-bit value returned&#8212;or, to be precise, the returned byte string is the UTF-8 representation of this Unicode character. The keyboard is put into Unicode mode by</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>ioctl(0, KDSKBMODE, K_UNICODE);</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>When not in Unicode mode, the high order byte is viewed as a type, and the low order byte as a value, and we do:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>type = KTYP(keysym);</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>(*key_handler[type])(keysym &amp; 0xff, up_flag);</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>The type selects a function from the array key_handler:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>static k_hand key_handler[16] = {</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>do_self, do_fn, do_spec, do_pad, do_dead,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>do_cons, do_cur, do_shift, do_meta, do_ascii,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>do_lock, do_lowercase, do_ignore, do_ignore,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>do_ignore, do_ignore</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>};</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">1.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_self</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>, commonly used for ordinary keys, just returns the given value, after possibly handling pending dead diacriticals.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">2.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_fn</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>, commonly used for function keys, returns the string<B>func_table[value]</B>. Strings can be assigned using loadkeys(1).</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">3.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_spec</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;is used for special actions, not necessarily related to character input. It does&nbsp;<B>spec_fn_table[value]();</B>, where</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">4.<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">5.<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>static void_fnp spec_fn_table[] = {</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">6.<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_null, enter, show_ptregs, show_mem,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">7.<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>show_state, send_intr, lastcons, caps_toggle,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">8.<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>num, hold, scroll_forw, scroll_back, boot_it,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">9.<SPAN style="FONT: 7pt 'Times New Roman'"> </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>caps_on, compose, SAK, decr_console,</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">10.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>incr_console, spawn_console, bare_num</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-list: Ignore">11.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>};</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>The associated actions (and their default key binding) are:</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Return (Enter): return a&nbsp;<B>CR</B>&nbsp;and if&nbsp;<B>VC_CRLF</B>&nbsp;mode set also a&nbsp;<B>LF</B>. One sets/clears&nbsp;<B>CRLF</B>&nbsp;mode by sending&nbsp;<B>ESC [ 20 h</B>&nbsp;or&nbsp;<B>ESC [ 20 l</B>&nbsp;to the console.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Show_Registers (AltR-ScrollLock): print the contents of the CPU registers.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Show_Memory (Shift-ScrollLock): print current memory usage.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Show_State (Ctrl-ScrollLock): print the process tree.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Break (Ctrl-Break): send a Break to the current tty.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Last_Console (Alt-PrintScrn): switch to the last used console.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Caps_Lock (CapsLock): toggle the CapsLock setting.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Num_Lock (NumLock): in keyboard application mode: return&nbsp;<B>ESC O P</B>; otherwise, toggle the NumLock setting. One sets/clears keyboard application mode by sending&nbsp;<B>ESC = or ESC &gt;</B>&nbsp;to the console. (See also Bare_Num_Lock below.)</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Scroll_Lock (ScrollLock): stop/start tty&#8212;roughly equivalent to&nbsp;<B>^S/^Q</B>.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Scroll_Forward (Shift-PageDown): scroll console down.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Scroll_Backward (Shift-PageUp): scroll console up. These two functions are implemented by using the memory on the video card, and provide only a very limited scrollback facility. Moreover, all scrollback information is lost when you switch virtual consoles. So, for real scrollback use a program-like screen.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Boot (Ctrl-AltL-Del): reboot. If you press Ctrl-AltL-Del (or whatever key was assigned the keysym Boot by loadkeys) then either the machine reboots immediately (without sync), or&nbsp;<B>init</B>&nbsp;is sent a&nbsp;<B>SIGINT</B>. The former behavior is the default. The default can be changed by root, using the system call&nbsp;<B>reboot():</B>&nbsp;see&nbsp;<B>ctrlaltdel(8)</B>&nbsp;and&nbsp;<B>init(8)</B>.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Some versions of init change the default. What happens when init gets SIGINT depends on the version of init used&#8212;often it will be determined by the pf (stands for powerfail) entry in /etc/inittab, which means that you can run an arbitrary program. In the current kernel, Ctrl-AltR-Del is no longer by default assigned to Boot, only Ctrl-AltL-Del is.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Sometimes when init hangs in a disk wait (and syncing is impossible) it can be useful to say ctrlaltdel hard, which may allow you to force a reboot without power cycling or pressing the reset button.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>aps_On (none): set CapsLock.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>ompose (Ctrl-.): start a compose sequence. The two following characters will be combined. This is a good way to get accented characters that you only rarely need. For example,&nbsp;<B>Ctrl-.&gt;&lt;,&gt;&lt;c</B>&nbsp;will produce a c-cedilla, and&nbsp;<B>Ctrl-.&amp;gt:&lt;a&gt;&lt;e</B>&nbsp;the Danish letter &#230;. Precisely which combinations combine to what character; will show&nbsp;<B>dumpkeys(1)</B>, loadkeys(1) will set combinations.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>SAK (none): Secure Attention Key. This is supposed to kill all processes related to the current tty, and reset the tty to a known default state. It is not completely implemented&#8212;it is not quite clear what resetting the keyboard/console should do to the fonts and keymaps. The easiest solution is to send a signal to some trusted daemon, and let it reset keyboard and console as desired. In this way we obtain something closely related to the Spawn_Console function below.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Decr_Console (AltL-LeftArrow): switch to the virtual console that precedes the current console in the cyclic order.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Incr_Console (AltL-RightArrow): switch to the virtual console that follows the current console in the cyclic order.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Spawn_Console or KeyboardSignal (AltL-UpArrow): send a specified process a specified signal. I use this to signal init that it should create a fresh virtual console for me.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Bare_Num_Lock (Shift-NumLock): toggle the NumLock setting (regardless of keyboard application mode).</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>As long as no new releases of init and loadkeys have come out, you can play with this by using loadkeys and starting the program&nbsp;<A href="http://www.linuxjournal.com/files/linuxjournal.com/linuxjournal/articles/010/1080/1080l2.html"><B><SPAN style="COLOR: #003366; TEXT-DECORATION: none; text-underline: none">spawn_console</SPAN></B></A>:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>% loadkeys &gt;&gt; EOF</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>alt keycode 103 = 0x0212</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>EOF</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>% spawn_console &amp;</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Of course, if you put this in /etc/rc.local, you would probably want to start<B>getty</B>&nbsp;instead of&nbsp;<B>bash</B>.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">12.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_pad</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>, commonly used for the keypad keys. In keyboard application mode this produces some three-character string&nbsp;<B>ESC O X</B>&nbsp;(with variable X depending on the key), provided that Shift is not pressed simultaneously. Otherwise, when NumLock is on, we get the symbol printed on the key (0123456789.+ -/* and CR).</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Finally, if NumLock is not on, the four arrow keys yield&nbsp;<B>ESC [ X</B>&nbsp;(with&nbsp;<B>X=A</B>,&nbsp;<B>B</B>,<B>C</B>, or&nbsp;<B>D</B>p when not in cursor key mode, and ESC O X otherwise, while the remaining keys are treated as function keys, and yield the associated string. For the middle key (keypad-5) we find four possibilities:</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>in keyboard application mode (unshifted), ESC O u</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>in keyboard application mode, shifted, without NumLock, ESC O G</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>otherwise, without NumLock, ESC [ G</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 72pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 72.0pt; mso-list: l1 level2 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: Symbol; COLOR: black; FONT-SIZE: 10pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Symbol; mso-ansi-language: EN; mso-fareast-font-family: Symbol" lang=EN><SPAN style="mso-list: Ignore">&#183;<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>but with NumLock, 5.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>If you think this is unnecessarily complicated, I agree. It is a messy combination of VT100 and DOS keyboard behavior. However, so far suggestions for change have met with too much resistance.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">13.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_dead</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;is used for &#8220;dead keys&#8221; that provide the following key with a diacritical. By default there are no dead keys. One may define keys producing a dead grave, acute, circumflex, tilde, or diaeresis. How a dead key combines with a following key is specified using the compose mechanism discussed above.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">14.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_cons</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;is used for switching consoles. By default the combinations (Ctrl-)AltL-F<I>n</I>&nbsp;switch to virtual console&nbsp;<I>n</I>&nbsp;for&nbsp;<I>n</I>&nbsp;in the range 1-12, and AltR-Fn switches to console&nbsp;<I>n</I>+12 for these same&nbsp;<I>n</I>.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">15.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_cur</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;handles cursor keys. One gets either&nbsp;<B>ESC [ X</B>&nbsp;or&nbsp;<B>ESC O X</B>&nbsp;(with&nbsp;<I>X</I>&nbsp;one of&nbsp;<B>A, B, C</B>, or&nbsp;<B>D</B>) depending on the cursor key mode. (One sets or clears cursor key mode by sending&nbsp;<B>ESC [ ? 1 h</B>&nbsp;or&nbsp;<B>ESC [ ? 1 l</B>&nbsp;to the console.)</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">16.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_shift</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;maintains the shift state (the up/down state of the modifier keys).</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">17.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_meta</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;is commonly used for ordinary keys combined with AltL. If the keyboard is in metamode, this will yield a pair&nbsp;<B>ESC x</B>; otherwise&nbsp;<B>x | 0x80</B>&nbsp;is produced, where&nbsp;<I>x</I>&nbsp;is the key pressed in both cases. (You can set or clear metamode using the tiny utility&nbsp;<B>setmetamode(1)</B>.)</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">18.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_ascii</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;is used to construct given codes: press AltL, type a decimal code on the keypad, and release AltL. This yields the character with the given code. In Unicode mode the same works in hexadecimal: press AltR, type a hexadecimal code on the keypad, possibly using the ordinary a, b, c, d, e, and f keys, and release AltR. This yields the Unicode symbol with the code given.</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">19.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_lock</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;toggles the state of the corresponding modifier key lock. (Recall the line we saw above:&nbsp;<B>shift_final = shift_state ^ kbd-&lt;lockstate</B>.) Thus, if you have your Cyrillic keys under combinations with AltR, you can use AltR together with other keys to get only a few Cyrillic symbols, but should type AltGr_Lock if you plan to type a longish Cyrillic text. (Note that the right Alt key, that I called AltR here, is usually known as AltGr.)</SPAN></P>
<P style="TEXT-ALIGN: left; TEXT-INDENT: -18pt; MARGIN: 0cm 0cm 0pt 36pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt; tab-stops: list 36.0pt; mso-list: l1 level1 lfo2" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: Georgia; mso-ansi-language: EN; mso-fareast-font-family: Georgia" lang=EN><SPAN style="mso-list: Ignore">20.<SPAN style="FONT: 7pt 'Times New Roman'">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></SPAN></SPAN><B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>do_lowercase</SPAN></B><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;is used for the handling of CapsLock. Note that CapsLock is different from ShiftLock. With ShiftLock, a digit 4 will be turned into a dollar sign (for default keyboard layout), but CapsLock will only affect lower case letters, and turn them into the corresponding upper case letters. Type 11 is equivalent to type 0, with the added information that the symbol may be affected by CapsLock (and the resulting character is the one that would have resulted from pressing Shift).</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>As already mentioned, almost all of this can be changed dynamically by use of loadkeys(1). The current state is dumped by dumpkeys(1). A list of known symbols is provided by dumpkeys -l. The keycodes associated with the various keys can be found using showkey(1). These and many other utilities for keyboard and console can be found in kbd-0.90.tar.gz on ftp.funet.fi and its mirror sites.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Using loadkeys</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Use loadkeys to change the code produced by the BackSpace key from Delete to BackSpace:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>% loadkeys</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>keycode 14 = BackSpace</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Assign the string &#8220;emacs\n&#8221; to the function key F12, and &#8220;rm *~\n&#8221; to Shift-F12 (the keycode 88 was found using showkey; the F66 is a random unused function key symbol):</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>% loadkeys</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>keycode 88 = F12</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>shift keycode 88 = F66</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>string F12 = "emacs\n"</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>string F66 = "rm *~\n"</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Create the compose combination that will compose | and S into $:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>% loadkeys</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>compose '|' 'S' to '$'</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN><SPAN style="mso-spacerun: yes">&nbsp;</SPAN>compose 'S' '|' to '$'</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Reset to some default state:</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>&nbsp;</SPAN></P>
<P style="TEXT-ALIGN: left; LINE-HEIGHT: 15.6pt; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; tab-stops: 45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: &#23435;&#20307;; COLOR: #336699; FONT-SIZE: 15pt; mso-bidi-font-size: 12.0pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>% loadkeys -d</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><A name=N0xa50890.0xdfd2a0></A><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>Sequel</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;; mso-ansi-language: EN" lang=EN>After the above handling, the obtained character(s) are put in the raw tty queue. Depending on the mode of the tty, they will be processed and transferred to the cooked tty queue. (Don't confuse raw mode as&nbsp;<B>stty</B>&nbsp;knows it, with the raw scancode mode discussed above.) Finally, the application will get them when it does<B>getchar();</B>.</SPAN></P>
<P style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; BACKGROUND: white; mso-pagination: widow-orphan; mso-margin-top-alt: auto; mso-margin-bottom-alt: auto; mso-line-height-alt: 15.6pt" class=MsoNormal align=left><SPAN style="FONT-FAMILY: 'Georgia','serif'; COLOR: black; FONT-SIZE: 16.5pt; mso-bidi-font-size: 13.5pt; mso-font-kerning: 0pt; mso-bidi-font-family: &#23435;&#20307;" lang=EN-US>Andries Brouwer,&nbsp;<A href="mailto:aeb@cwi.nl"><B><SPAN style="COLOR: #003366; TEXT-DECORATION: none; text-underline: none">aeb@cwi.nl</SPAN></B></A>, has used Unix for various mathematical, linguistic, and playful purposes the past 20 years or so. He might be known to some for the first net release of&nbsp;<B>hack</B>.</SPAN></P>
<P style="MARGIN: 0cm 0cm 0pt" class=MsoNormal><SPAN style="FONT-SIZE: 13.5pt; mso-bidi-font-size: 11.0pt" lang=EN-US><FONT face=Calibri>&nbsp;</FONT></SPAN>