<H2 class=SECT2><A name=AEN21183></A>37.3.1. Bash, version 4.1</H2>
<P><A name=BASH41></A>Version 4.1 of Bash, released in May, 2010, was primarily a bugfix update.</P>
<P></P>
<UL>
<LI>
<P>The <A href="http://tldp.org/LDP/abs/html/abs-guide.html#PRINTFREF">printf</A> command now accepts a <TT class=OPTION>-v</TT> option for setting <A href="http://tldp.org/LDP/abs/html/abs-guide.html#ARRAYREF">array</A> indices.</P>
<LI>
<P>Within <A href="http://tldp.org/LDP/abs/html/abs-guide.html#DBLBRACKETS">double brackets</A>, the <B class=COMMAND>&gt;</B> and <B class=COMMAND>&lt;</B> string comparison operators now conform to the <A href="http://tldp.org/LDP/abs/html/abs-guide.html#LOCALEREF">locale</A>. Since the locale setting may affect the sorting order of string expressions, this has side-effects on comparison tests within <EM>[[ ... ]]</EM> expressions.</P>
<LI>
<P>The <A href="http://tldp.org/LDP/abs/html/abs-guide.html#READREF">read</A> builtin now takes a <TT class=OPTION>-N</TT> option (<I class=FIRSTTERM>read -N chars</I>), which causes the <I class=FIRSTTERM>read</I> to terminate after <I class=FIRSTTERM>chars</I> characters.</P>
<DIV class=EXAMPLE><A name=READN></A>
<P><B>Example 37-8. Reading N characters</B></P>
<TABLE border=0 width="90%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>#!/bin/bash
# Requires Bash version -ge 4.1 ...

num_chars=61

read -N $num_chars var &lt; $0   # Read first 61 characters of script!
echo "$var"
exit

####### Output of Script #######

#!/bin/bash
# Requires Bash version -ge 4.1 ...

num_chars=61</PRE></FONT></TD></TR></TBODY></TABLE></DIV>
<LI>
<P><A href="http://tldp.org/LDP/abs/html/abs-guide.html#HEREDOCREF">Here documents</A> embedded in <A href="http://tldp.org/LDP/abs/html/abs-guide.html#COMMANDSUBREF0"><TT class=USERINPUT><B>$( ... )</B></TT> command substitution</A> constructs may terminate with a simple <B class=COMMAND>)</B>.</P>
<DIV class=EXAMPLE><A name=HERECOMMSUB></A>
<P><B>Example 37-9. Using a <I class=FIRSTTERM>here document</I> to set a variable</B></P>
<TABLE border=0 width="90%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>#!/bin/bash
# here-commsub.sh
# Requires Bash version -ge 4.1 ...

multi_line_var=$( cat &lt;&lt;ENDxxx
------------------------------
This is line 1 of the variable
This is line 2 of the variable
This is line 3 of the variable
------------------------------
ENDxxx)

#  Rather than what Bash 4.0 requires:
#+ that the terminating limit string and
#+ the terminating close-parenthesis be on separate lines.

# ENDxxx
# )


echo "$multi_line_var"

#  Bash still emits a warning, though.
#  warning: here-document at line 10 delimited
#+ by end-of-file (wanted `ENDxxx')</PRE></FONT></TD></TR></TBODY></TABLE></DIV></LI></UL>