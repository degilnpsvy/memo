<TABLE summary="Navigation header" width="100%">
<TBODY>
<TR>
<TH colSpan=3 align=middle>Delaying, scheduling, and timer routines</TH></TR>
<TR>
<TD width="20%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-atomic-inc-short.html">Prev</A>&nbsp;</TD>
<TH width="60%" align=middle>Chapter&nbsp;1.&nbsp;Driver Basics</TH>
<TD width="20%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-struct-cputime.html">Next</A></TD></TR></TBODY></TABLE>
<HR>

<DIV class=sect1>
<DIV class=titlepage>
<DIV>
<DIV>
<H2 style="CLEAR: both" class=title><A name=idp38411524></A>Delaying, scheduling, and timer routines</H2></DIV></DIV></DIV>
<DIV class=toc>
<DL class=toc>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-struct-cputime.html"><SPAN class=phrase>struct cputime</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; snaphsot of system and user cputime </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-struct-task-cputime.html"><SPAN class=phrase>struct task_cputime</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; collected CPU time counts </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-struct-thread-group-cputimer.html"><SPAN class=phrase>struct thread_group_cputimer</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; thread group interval timer counts </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-pid-alive.html"><SPAN class=phrase>pid_alive</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; check that a task structure is not stale </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-is-global-init.html"><SPAN class=phrase>is_global_init</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; check if a task structure is init </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-task-nice.html"><SPAN class=phrase>task_nice</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; return the nice value of a given task. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-is-idle-task.html"><SPAN class=phrase>is_idle_task</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; is the specified task an idle task? </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-threadgroup-lock.html"><SPAN class=phrase>threadgroup_lock</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; lock threadgroup </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-threadgroup-unlock.html"><SPAN class=phrase>threadgroup_unlock</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; unlock threadgroup </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-wake-up-process.html"><SPAN class=phrase>wake_up_process</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Wake up a specific process </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-preempt-notifier-register.html"><SPAN class=phrase>preempt_notifier_register</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; tell me when current is being preempted &amp; rescheduled </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-preempt-notifier-unregister.html"><SPAN class=phrase>preempt_notifier_unregister</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; no longer interested in preemption notifications </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-preempt-schedule-context.html"><SPAN class=phrase>preempt_schedule_context</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; preempt_schedule called by tracing </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-sched-setscheduler.html"><SPAN class=phrase>sched_setscheduler</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; change the scheduling policy and/or RT priority of a thread. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-yield.html"><SPAN class=phrase>yield</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; yield the current processor to other threads. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-yield-to.html"><SPAN class=phrase>yield_to</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; yield the current processor to another thread in your thread group, or accelerate that thread toward the processor it's on. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-cpupri-find.html"><SPAN class=phrase>cpupri_find</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; find the best (lowest-pri) CPU in the system </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-cpupri-set.html"><SPAN class=phrase>cpupri_set</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; update the cpu priority setting </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-cpupri-init.html"><SPAN class=phrase>cpupri_init</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; initialize the cpupri structure </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-cpupri-cleanup.html"><SPAN class=phrase>cpupri_cleanup</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; clean up the cpupri structure </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-get-sd-load-idx.html"><SPAN class=phrase>get_sd_load_idx</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Obtain the load index for a given sched domain. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-update-sg-lb-stats.html"><SPAN class=phrase>update_sg_lb_stats</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Update sched_group's statistics for load balancing. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-update-sd-pick-busiest.html"><SPAN class=phrase>update_sd_pick_busiest</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; return 1 on busiest group </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-update-sd-lb-stats.html"><SPAN class=phrase>update_sd_lb_stats</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Update sched_domain's statistics for load balancing. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-check-asym-packing.html"><SPAN class=phrase>check_asym_packing</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Check to see if the group is packed into the sched doman. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-fix-small-imbalance.html"><SPAN class=phrase>fix_small_imbalance</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Calculate the minor imbalance that exists amongst the groups of a sched_domain, during load balancing. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-calculate-imbalance.html"><SPAN class=phrase>calculate_imbalance</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Calculate the amount of imbalance present within the groups of a given sched_domain during load balance. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-find-busiest-group.html"><SPAN class=phrase>find_busiest_group</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Returns the busiest group within the sched_domain if there is an imbalance. If there isn't an imbalance, and the user has opted for power-savings, it returns a group whose CPUs can be put to idle by rebalancing those tasks elsewhere, if such a group exists. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-DECLARE-COMPLETION.html"><SPAN class=phrase>DECLARE_COMPLETION</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; declare and initialize a completion structure </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-DECLARE-COMPLETION-ONSTACK.html"><SPAN class=phrase>DECLARE_COMPLETION_ONSTACK</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; declare and initialize a completion structure </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-init-completion.html"><SPAN class=phrase>init_completion</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Initialize a dynamically allocated completion </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-reinit-completion.html"><SPAN class=phrase>reinit_completion</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; reinitialize a completion structure </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---round-jiffies.html"><SPAN class=phrase>__round_jiffies</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---round-jiffies-relative.html"><SPAN class=phrase>__round_jiffies_relative</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-round-jiffies.html"><SPAN class=phrase>round_jiffies</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-round-jiffies-relative.html"><SPAN class=phrase>round_jiffies_relative</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---round-jiffies-up.html"><SPAN class=phrase>__round_jiffies_up</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies up to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---round-jiffies-up-relative.html"><SPAN class=phrase>__round_jiffies_up_relative</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies up to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-round-jiffies-up.html"><SPAN class=phrase>round_jiffies_up</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies up to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-round-jiffies-up-relative.html"><SPAN class=phrase>round_jiffies_up_relative</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; function to round jiffies up to a full second </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-set-timer-slack.html"><SPAN class=phrase>set_timer_slack</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; set the allowed slack for a timer </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-init-timer-key.html"><SPAN class=phrase>init_timer_key</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; initialize a timer </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-mod-timer-pending.html"><SPAN class=phrase>mod_timer_pending</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; modify a pending timer's timeout </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-mod-timer.html"><SPAN class=phrase>mod_timer</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; modify a timer's timeout </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-mod-timer-pinned.html"><SPAN class=phrase>mod_timer_pinned</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; modify a timer's timeout </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-add-timer.html"><SPAN class=phrase>add_timer</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; start a timer </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-add-timer-on.html"><SPAN class=phrase>add_timer_on</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; start a timer on a particular CPU </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-del-timer.html"><SPAN class=phrase>del_timer</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; deactive a timer. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-try-to-del-timer-sync.html"><SPAN class=phrase>try_to_del_timer_sync</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Try to deactivate a timer </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-del-timer-sync.html"><SPAN class=phrase>del_timer_sync</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; deactivate a timer and wait for the handler to finish. </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-schedule-timeout.html"><SPAN class=phrase>schedule_timeout</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; sleep until timeout </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-msleep.html"><SPAN class=phrase>msleep</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; sleep safely even with waitqueue interruptions </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-msleep-interruptible.html"><SPAN class=phrase>msleep_interruptible</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; sleep waiting for signals </SPAN>
<DT><SPAN class=refentrytitle><A href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-usleep-range.html"><SPAN class=phrase>usleep_range</SPAN></A></SPAN><SPAN class=refpurpose> &#8212; Drop in replacement for udelay where wakeup is flexible </SPAN></DT></DL></DIV></DIV>