<H1><A name=HISTCOMMANDS></A>Appendix L. History Commands</H1>
<P>The Bash shell provides command-line tools for editing and manipulating a user's <I class=FIRSTTERM>command history</I>. This is primarily a convenience, a means of saving keystrokes.</P>
<P>Bash history commands: 
<P></P>
<OL type=1>
<LI>
<P><B class=COMMAND>history</B></P>
<LI>
<P><B class=COMMAND>fc</B></P></LI></OL>
<P></P>
<P>
<TABLE border=1 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=SCREEN><TT class=PROMPT>bash$ </TT><TT class=USERINPUT><B>history</B></TT>
<TT class=COMPUTEROUTPUT>   1  mount /mnt/cdrom
    2  cd /mnt/cdrom
    3  ls
     ...</TT>
	      </PRE></FONT></TD></TR></TBODY></TABLE></P>
<P>Internal variables associated with Bash history commands: 
<P></P>
<OL type=1>
<LI>
<P>$HISTCMD</P>
<LI>
<P>$HISTCONTROL</P>
<LI>
<P>$HISTIGNORE</P>
<LI>
<P>$HISTFILE</P>
<LI>
<P>$HISTFILESIZE</P>
<LI>
<P>$HISTSIZE</P>
<LI>
<P>$HISTTIMEFORMAT (Bash, ver. 3.0 or later)</P>
<LI>
<P>!!</P>
<LI>
<P>!$</P>
<LI>
<P>!#</P>
<LI>
<P>!N</P>
<LI>
<P>!-N</P>
<LI>
<P>!STRING</P>
<LI>
<P>!?STRING?</P>
<LI>
<P>^STRING^string^</P></LI></OL>
<P></P>
<P>Unfortunately, the Bash history tools find no use in scripting.</P>
<P>
<TABLE border=0 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=PROGRAMLISTING>#!/bin/bash
# history.sh
# A (vain) attempt to use the 'history' command in a script.

history                      # No output.

var=$(history); echo "$var"  # $var is empty.

#  History commands are, by default, disabled within a script.
#  However, as dhw points out,
#+ set -o history
#+ enables the history mechanism.

set -o history
var=$(history); echo "$var"   # 1  var=$(history)</PRE></FONT></TD></TR></TBODY></TABLE></P>
<P>
<TABLE border=1 width="100%" bgColor=#e0e0e0>
<TBODY>
<TR>
<TD><FONT color=#000000><PRE class=SCREEN><TT class=PROMPT>bash$ </TT><TT class=USERINPUT><B>./history.sh</B></TT>
<TT class=COMPUTEROUTPUT>(no output)</TT>	      
	      </PRE></FONT></TD></TR></TBODY></TABLE></P>
<P>The <A href="http://samrowe.com/wordpress/advancing-in-the-bash-shell/" target=_top>Advancing in the Bash Shell</A> site gives a good introduction to the use of history commands in Bash.