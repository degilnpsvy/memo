A very simple (and naive) implementation of a device attribute is: 
<P></P>
<P>static ssize_t show_name(struct device *dev, struct device_attribute *attr,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; char *buf)<BR>{<BR>&nbsp;return <FONT class=clozed>scnprintf(buf, PAGE_SIZE, "%s\n", dev-&gt;name)</FONT>;<BR>}</P>
<P>static ssize_t store_name(struct device *dev, struct device_attribute *attr,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const char *buf, size_t count)<BR>{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <FONT class=clozed>snprintf(dev-&gt;name, sizeof(dev-&gt;name), "%.*s",<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (int)min(count, sizeof(dev-&gt;name) - 1), buf)</FONT>;<BR>&nbsp;return count;<BR>}</P>
<P>static DEVICE_ATTR(name, S_IRUGO, show_name, store_name);</P>
<P><BR>(Note that the real implementation doesn't allow userspace to set the <BR>name for a device.)