<LI>&#20026;bus_type&#20013;struct subsys_private&#31867;&#22411;&#30340;&#25351;&#38024;&#20998;&#37197;&#31354;&#38388;&#65292;&#24182;&#26356;&#26032;priv-&gt;bus&#21644;bus-&gt;p&#20004;&#20010;&#25351;&#38024;&#20026;&#27491;&#30830;&#30340;&#20540; 
<LI>&#21021;&#22987;&#21270;priv-&gt;subsys.kobj&#30340;name&#12289;kset&#12289;ktype&#31561;&#23383;&#27573;&#65292;&#21551;&#21160;name&#23601;&#26159;&#35813;bus&#30340;name&#65288;&#23427;&#20250;&#20307;&#29616;&#22312;sysfs&#20013;&#65289;&#65292;kset&#21644;ktype&#30001;bus&#27169;&#22359;&#23454;&#29616;&#65292;&#20998;&#21035;&#20026;bus_kset&#21644;bus_ktype 
<LI>&#35843;&#29992;kset_register&#23558;priv-&gt;subsys&#27880;&#20876;&#21040;&#20869;&#26680;&#20013;&#65292;&#35813;&#25509;&#21475;&#21516;&#26102;&#20250;&#21521;sysfs&#20013;&#28155;&#21152;&#23545;&#24212;&#30340;&#30446;&#24405;&#65288;&#22914;/sys/bus/spi&#65289; 
<LI>&#35843;&#29992;bus_create_file&#21521;bus&#30446;&#24405;&#19979;&#28155;&#21152;&#19968;&#20010;uevent attribute&#65288;&#22914;/sys/bus/spi/uevent&#65289; 
<LI>&#35843;&#29992;kset_create_and_add&#20998;&#21035;&#21521;&#20869;&#26680;&#28155;&#21152;devices&#21644;device_drivers kset&#65292;&#21516;&#26102;&#20250;&#20307;&#29616;&#22312;sysfs&#20013; 
<LI>&#21021;&#22987;&#21270;priv&#25351;&#38024;&#20013;&#30340;mutex&#12289;klist_devices&#21644;klist_drivers&#31561;&#21464;&#37327; 
<LI>&#35843;&#29992;add_probe_files&#25509;&#21475;&#65292;&#22312;bus&#19979;&#28155;&#21152;drivers_probe&#21644;drivers_autoprobe&#20004;&#20010;attribute&#65288;&#22914;/sys/bus/spi/drivers_probe&#21644;/sys/bus/spi/drivers_autoprobe&#65289;&#65292;&#20854;&#20013;drivers_probe&#20801;&#35768;&#29992;&#25143;&#31354;&#38388;&#31243;&#24207;&#20027;&#21160;&#20986;&#21457;&#25351;&#23450;bus&#19979;&#30340;device_driver&#30340;probe&#21160;&#20316;&#65292;&#32780;drivers_autoprobe&#25511;&#21046;&#26159;&#21542;&#22312;device&#25110;device_driver&#28155;&#21152;&#21040;&#20869;&#26680;&#26102;&#65292;&#33258;&#21160;&#25191;&#34892;probe 
<LI>&#35843;&#29992;bus_add_attrs&#65292;&#28155;&#21152;&#30001;bus_attrs&#25351;&#38024;&#23450;&#20041;&#30340;bus&#30340;&#40664;&#35748;attribute&#65292;&#36825;&#20123;attributes&#26368;&#32456;&#20250;&#20307;&#29616;&#22312;/sys/bus/xxx&#30446;&#24405;&#19979; </LI>