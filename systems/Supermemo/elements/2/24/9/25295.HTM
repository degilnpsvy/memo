<SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#22312;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri> Linux </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#20869;&#26680;&#20013;&#26368;&#24120;&#29992;&#30340;&#20248;&#21270;&#25216;&#26415;&#20043;&#19968;&#26159;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;__builtin_expect</FONT></SPAN><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri">&#12290;&#22312;&#24320;&#21457;&#20154;&#21592;&#20351;&#29992;&#26377;&#26465;&#20214;&#20195;&#30721;&#26102;&#65292;&#24120;&#24120;&#30693;&#36947;&#26368;&#21487;&#33021;&#25191;&#34892;&#21738;&#20010;&#20998;&#25903;&#65292;&#32780;&#21738;&#20010;&#20998;&#25903;&#24456;&#23569;&#25191;&#34892;&#12290;&#22914;&#26524;&#32534;&#35793;&#22120;&#30693;&#36947;&#36825;&#31181;&#39044;&#27979;&#20449;&#24687;&#65292;&#23601;&#21487;&#20197;&#22260;&#32469;&#26368;&#21487;&#33021;&#25191;&#34892;&#30340;&#20998;&#25903;&#29983;&#25104;&#26368;&#20248;&#30340;&#20195;&#30721;&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT> 
<P></P>
<P><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#22914;&#19979;&#25152;&#31034;&#65292;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>__builtin_expect&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#30340;&#20351;&#29992;&#26041;&#27861;&#22522;&#20110;&#20004;&#20010;&#23439;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;likely&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#21644;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;unlikely</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#65288;&#35265;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri> ./linux/include/linux/compiler.h</FONT></SPAN><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri">&#65289;&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<TABLE class=MsoNormalTable style="WIDTH: 65%; BACKGROUND: #fafafc; mso-cellspacing: 0cm; mso-yfti-tbllook: 1184; mso-padding-alt: 0cm 0cm 0cm 0cm" cellSpacing=0 cellPadding=0 width="65%" border=0>
<TBODY>
<TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes">
<TD style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 0cm; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 0cm; BACKGROUND-COLOR: transparent">
<P><SPAN lang=EN-US><FONT face=Calibri>#define likely(x)<SPAN style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>__builtin_expect(!!(x), 1)<BR>#define unlikely(x)<SPAN style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </SPAN>__builtin_expect(!!(x), 0)<SPAN style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN></FONT></SPAN></P></TD></TR></TBODY></TABLE>
<P><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;</FONT></SPAN></P>
<P><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#36890;&#36807;&#20351;&#29992;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;__builtin_expect</FONT></SPAN><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri">&#65292;&#32534;&#35793;&#22120;&#21487;&#20197;&#20570;&#20986;&#31526;&#21512;&#25552;&#20379;&#30340;&#39044;&#27979;&#20449;&#24687;&#30340;&#25351;&#20196;&#36873;&#25321;&#20915;&#31574;&#12290;&#36825;&#20351;&#25191;&#34892;&#30340;&#20195;&#30721;&#23613;&#21487;&#33021;&#25509;&#36817;&#23454;&#38469;&#24773;&#20917;&#12290;&#23427;&#36824;&#21487;&#20197;&#25913;&#36827;&#32531;&#23384;&#21644;&#25351;&#20196;&#27969;&#27700;&#32447;&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#20363;&#22914;&#65292;&#22914;&#26524;&#19968;&#20010;&#26465;&#20214;&#26631;&#19978;&#20102;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri> &#8220;likely&#8221;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#65292;&#37027;&#20040;&#32534;&#35793;&#22120;&#21487;&#20197;&#25226;&#20195;&#30721;&#30340;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri> True </FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#37096;&#20998;&#30452;&#25509;&#25918;&#22312;&#20998;&#25903;&#25351;&#20196;&#21518;&#38754;&#65288;&#36825;&#26679;&#23601;&#19981;&#38656;&#35201;&#25191;&#34892;&#20998;&#25903;&#25351;&#20196;&#65289;&#12290;&#36890;&#36807;&#20998;&#25903;&#25351;&#20196;&#35775;&#38382;&#26465;&#20214;&#32467;&#26500;&#30340;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri> False </FONT></SPAN><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri">&#37096;&#20998;&#65292;&#36825;&#19981;&#26159;&#26368;&#20248;&#30340;&#26041;&#24335;&#65292;&#20294;&#26159;&#35775;&#38382;&#23427;&#30340;&#21487;&#33021;&#24615;&#19981;&#22823;&#12290;&#25353;&#29031;&#36825;&#31181;&#26041;&#24335;&#65292;&#20195;&#30721;&#23545;&#20110;&#26368;&#21487;&#33021;&#20986;&#29616;&#30340;&#24773;&#20917;&#26159;&#26368;&#20248;&#30340;&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#19979;&#38754;&#32473;&#20986;&#19968;&#20010;&#20351;&#29992;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;likely&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#21644;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;unlikely&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#23439;&#30340;&#20989;&#25968;&#65288;&#35265;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri> ./linux/net/core/datagram.c</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#65289;&#12290;&#36825;&#20010;&#20989;&#25968;&#39044;&#27979;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;sum&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#21464;&#37327;&#23558;&#26159;&#38646;&#65288;&#25968;&#25454;&#21253;&#30340;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;checksum&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#26159;&#26377;&#25928;&#30340;&#65289;&#65292;&#32780;&#19988;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;ip_summed&nbsp;</FONT></SPAN><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri"><FONT size=3>&#21464;&#37327;&#19981;&#31561;&#20110;</FONT></SPAN><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;CHECKSUM_HW</FONT></SPAN><FONT size=3><SPAN style="FONT-FAMILY: &#23435;&#20307;; mso-ascii-font-family: Calibri; mso-hansi-font-family: Calibri">&#12290;</SPAN><SPAN lang=EN-US></SPAN></FONT></P>
<P><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;</FONT></SPAN></P>
<TABLE class=MsoNormalTable style="WIDTH: 65%; BACKGROUND: #fafafc; mso-cellspacing: 0cm; mso-yfti-tbllook: 1184; mso-padding-alt: 0cm 0cm 0cm 0cm" cellSpacing=0 cellPadding=0 width="65%" border=0>
<TBODY>
<TR style="mso-yfti-irow: 0; mso-yfti-firstrow: yes; mso-yfti-lastrow: yes">
<TD style="BORDER-TOP: #f0f0f0; BORDER-RIGHT: #f0f0f0; BORDER-BOTTOM: #f0f0f0; PADDING-BOTTOM: 0cm; PADDING-TOP: 0cm; PADDING-LEFT: 0cm; BORDER-LEFT: #f0f0f0; PADDING-RIGHT: 0cm; BACKGROUND-COLOR: transparent">
<P><SPAN lang=EN-US><FONT face=Calibri><SPAN style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN><BR>unsigned int __skb_checksum_complete(struct sk_buff *skb)<BR>{<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>unsigned int sum;<BR><BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>sum = (u16)csum_fold(skb_checksum(skb, 0, skb-&gt;len, skb-&gt;csum));<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>if (likely(!sum)) {<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>if (unlikely(skb-&gt;ip_summed == CHECKSUM_HW))<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>netdev_rx_csum_fault(skb-&gt;dev);<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>skb-&gt;ip_summed = CHECKSUM_UNNECESSARY;<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>}<BR><SPAN style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </SPAN>return sum;<BR>}</FONT></SPAN></P></TD></TR></TBODY></TABLE>
<P><SPAN lang=EN-US><FONT size=3 face=Calibri>&nbsp;</FONT></SPAN>