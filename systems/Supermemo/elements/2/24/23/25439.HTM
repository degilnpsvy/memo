extern void add_wait_queue(wait_queue_head_t *q, wait_queue_t *wait);<BR>extern void add_wait_queue_exclusive(wait_queue_head_t *q, wait_queue_t *wait);<BR>extern void remove_wait_queue(wait_queue_head_t *q, wait_queue_t *wait); 
<P></P>
<P>static inline void __add_wait_queue(wait_queue_head_t *head, wait_queue_t *new)<BR>{<BR>&nbsp;list_add(&amp;new-&gt;task_list, &amp;head-&gt;task_list);<BR>}</P>
<P>/*<BR>&nbsp;* Used for wake-one threads:<BR>&nbsp;*/<BR>static inline void<BR>__add_wait_queue_exclusive(wait_queue_head_t *q, wait_queue_t *wait)<BR>{<BR>&nbsp;wait-&gt;flags |= WQ_FLAG_EXCLUSIVE;<BR>&nbsp;__add_wait_queue(q, wait);<BR>}</P>
<P>static inline void __add_wait_queue_tail(wait_queue_head_t *head,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wait_queue_t *new)<BR>{<BR>&nbsp;list_add_tail(&amp;new-&gt;task_list, &amp;head-&gt;task_list);<BR>}</P>
<P>static inline void<BR>__add_wait_queue_tail_exclusive(wait_queue_head_t *q, wait_queue_t *wait)<BR>{<BR>&nbsp;wait-&gt;flags |= WQ_FLAG_EXCLUSIVE;<BR>&nbsp;__add_wait_queue_tail(q, wait);<BR>}</P>
<P>static inline void<BR>__remove_wait_queue(wait_queue_head_t *head, wait_queue_t *old)<BR>{<BR>&nbsp;list_del(&amp;old-&gt;task_list);<BR>}