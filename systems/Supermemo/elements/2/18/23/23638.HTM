/*<BR>&nbsp;* populate_dir - populate directory with attributes.<BR>&nbsp;* @kobj: object we're working on.<BR>&nbsp;*<BR>&nbsp;* Most subsystems have a set of default attributes that are associated<BR>&nbsp;* with an object that registers with them.&nbsp; This is a helper called during<BR>&nbsp;* object registration that loops through the default attributes of the<BR>&nbsp;* subsystem and creates attributes files for them in sysfs.<BR>&nbsp;*/<BR>static int populate_dir(struct kobject *kobj)<BR>{<BR>&nbsp;struct kobj_type *t = get_ktype(kobj);<BR>&nbsp;struct attribute *attr;<BR>&nbsp;int error = 0;<BR>&nbsp;int i; 
<P></P>
<P>&nbsp;if (t &amp;&amp; t-&gt;default_attrs) {<BR>&nbsp;&nbsp;for (i = 0; (attr = t-&gt;default_attrs[i]) != NULL; i++) {<BR>&nbsp;&nbsp;&nbsp;error = sysfs_create_file(kobj, attr);<BR>&nbsp;&nbsp;&nbsp;if (error)<BR>&nbsp;&nbsp;&nbsp;&nbsp;break;<BR>&nbsp;&nbsp;}<BR>&nbsp;}<BR>&nbsp;return error;<BR>}