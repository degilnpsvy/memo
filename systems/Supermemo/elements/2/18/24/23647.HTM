Bus Types</P>
<P>&nbsp;</P>
<P>Exporting Attributes<BR>~~~~~~~~~~~~~~~~~~~~<BR>struct bus_attribute {<BR>&nbsp;struct attribute&nbsp;attr;<BR>&nbsp;ssize_t (*show)(struct bus_type *, char * buf);<BR>&nbsp;ssize_t (*store)(struct bus_type *, const char * buf, size_t count);<BR>};</P>
<P></P>
<P>Bus drivers can export attributes using the BUS_ATTR macro that works<BR>similarly to the DEVICE_ATTR macro for devices. For example, a definition <BR>like this:</P>
<P>static BUS_ATTR(debug,0644,show_debug,store_debug);</P>
<P>is equivalent to declaring:</P>
<P>static bus_attribute bus_attr_debug;</P>
<P>This can then be used to add and remove the attribute from the bus's<BR>sysfs directory using:</P>
<P>int bus_create_file(struct bus_type *, struct bus_attribute *);<BR>void bus_remove_file(struct bus_type *, struct bus_attribute *);