<DIV class=navheader>
<TABLE summary="Navigation header" width="100%">
<TBODY>
<TR>
<TH colSpan=3 align=middle><SPAN class=phrase>flush_scheduled_work</SPAN></TH></TR>
<TR>
<TD width="20%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-cancel-delayed-work-sync.html">Prev</A>&nbsp;</TD>
<TH width="60%" align=middle>Workqueues and Kevents</TH>
<TD width="20%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-execute-in-process-context.html">Next</A></TD></TR></TBODY></TABLE>
<HR>
</DIV>
<DIV class=refentry><A name=API-flush-scheduled-work></A>
<DIV class=titlepage></DIV>
<DIV class=refnamediv>
<H2>Name</H2>
<P>flush_scheduled_work &#8212; ensure that any scheduled work has run to completion. </P></DIV>
<DIV class=refsynopsisdiv>
<H2>Synopsis</H2>
<DIV class=funcsynopsis>
<TABLE style="cellspacing: 0; cellpadding: 0" class=funcprototype-table border=0 summary="Function synopsis">
<TBODY>
<TR>
<TD><CODE class=funcdef>void <B class=fsfunc>flush_scheduled_work </B>(</CODE></TD>
<TD><VAR class=pdparam>void</VAR><CODE>)</CODE>;</TD></TR></TBODY></TABLE>
<DIV class=funcprototype-spacer>&nbsp;</DIV></DIV></DIV>
<DIV class=refsect1><A name=idp42321724></A>
<H2>Arguments</H2>
<DIV class=variablelist>
<DL class=variablelist>
<DT><SPAN class=term><EM class=parameter><CODE>void</CODE></EM></SPAN> 
<DD>
<P>no arguments </P></DD></DL></DIV></DIV>
<DIV class=refsect1><A name=idp42323332></A>
<H2>Description</H2>
<P></P>
<P>Forces execution of the kernel-global workqueue and blocks until its completion. </P>
<P>Think twice before calling this function! It's very easy to get into trouble if you don't take great care. Either of the following situations </P></DIV>
<DIV class=refsect1><A name=idp42324444></A>
<H2>will lead to deadlock</H2>
<P></P>
<P>One of the work items currently on the workqueue needs to acquire a lock held by your code or its caller. </P>
<P>Your code is running in the context of a work routine. </P>
<P>They will be detected by lockdep when they occur, but the first might not occur very often. It depends on what work items are on the workqueue and what locks they need, which you have no control over. </P>
<P>In most situations flushing the entire workqueue is overkill; you merely need to know that a particular work item isn't queued and isn't running. In such cases you should use <CODE class=function>cancel_delayed_work_sync</CODE> or <CODE class=function>cancel_work_sync</CODE> instead. </P></DIV></DIV>
<DIV class=navfooter>
<HR>

<TABLE summary="Navigation footer" width="100%">
<TBODY>
<TR>
<TD width="40%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-cancel-delayed-work-sync.html">Prev</A>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=u href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/ch01s06.html">Up</A></TD>
<TD width="40%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-execute-in-process-context.html">Next</A></TD></TR>
<TR>
<TD vAlign=top width="40%" align=left><SPAN class=phrase>cancel_delayed_work_sync</SPAN>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=h href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/index.html">Home</A></TD>
<TD vAlign=top width="40%" align=right>&nbsp;<SPAN class=phrase>execute_in_process_context</SPAN></TD></TR></TBODY></TABLE></DIV>