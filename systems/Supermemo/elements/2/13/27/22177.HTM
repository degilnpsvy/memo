<DIV class=navheader>
<TABLE summary="Navigation header" width="100%">
<TBODY>
<TR>
<TH colSpan=3 align=middle><SPAN class=phrase>platform_device_register_simple</SPAN></TH></TR>
<TR>
<TD width="20%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-platform-device-register-resndata.html">Prev</A>&nbsp;</TD>
<TH width="60%" align=middle>Device Drivers Base</TH>
<TD width="20%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-platform-device-register-data.html">Next</A></TD></TR></TBODY></TABLE>
<HR>
</DIV>
<DIV class=refentry><A name=API-platform-device-register-simple></A>
<DIV class=titlepage></DIV>
<DIV class=refnamediv>
<H2>Name</H2>
<P>platform_device_register_simple &#8212; add a platform-level device and its resources </P></DIV>
<DIV class=refsynopsisdiv>
<H2>Synopsis</H2>
<DIV class=funcsynopsis>
<TABLE style="cellspacing: 0; cellpadding: 0" class=funcprototype-table border=0 summary="Function synopsis">
<TBODY>
<TR>
<TD><CODE class=funcdef>struct platform_device * <B class=fsfunc>platform_device_register_simple </B>(</CODE></TD>
<TD>const char * <VAR class=pdparam>name</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>int <VAR class=pdparam>id</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>const struct resource * <VAR class=pdparam>res</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>unsigned int <VAR class=pdparam>num</VAR><CODE>)</CODE>;</TD></TR></TBODY></TABLE>
<DIV class=funcprototype-spacer>&nbsp;</DIV></DIV></DIV>
<DIV class=refsect1><A name=idp44341428></A>
<H2>Arguments</H2>
<DIV class=variablelist>
<DL class=variablelist>
<DT><SPAN class=term><EM class=parameter><CODE>name</CODE></EM></SPAN> 
<DD>
<P>base name of the device we're adding </P>
<DT><SPAN class=term><EM class=parameter><CODE>id</CODE></EM></SPAN> 
<DD>
<P>instance id </P>
<DT><SPAN class=term><EM class=parameter><CODE>res</CODE></EM></SPAN> 
<DD>
<P>set of resources that needs to be allocated for the device </P>
<DT><SPAN class=term><EM class=parameter><CODE>num</CODE></EM></SPAN> 
<DD>
<P>number of resources </P></DD></DL></DIV></DIV>
<DIV class=refsect1><A name=idp44346116></A>
<H2>Description</H2>
<P>This function creates a simple platform device that requires minimal resource and memory management. Canned release function freeing memory allocated for the device allows drivers using such devices to be unloaded without waiting for the last reference to the device to be dropped. </P>
<P>This interface is primarily intended for use with legacy drivers which probe hardware directly. Because such drivers create sysfs device nodes themselves, rather than letting system infrastructure handle such device enumeration tasks, they don't fully conform to the Linux driver model. In particular, when such drivers are built as modules, they can't be <SPAN class=quote>&#8220;<SPAN class=quote>hotplugged</SPAN>&#8221;</SPAN>. </P>
<P>Returns <SPAN class=structname>struct platform_device</SPAN> pointer on success, or <CODE class=function>ERR_PTR</CODE> on error. </P></DIV></DIV>
<DIV class=navfooter>
<HR>

<TABLE summary="Navigation footer" width="100%">
<TBODY>
<TR>
<TD width="40%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-platform-device-register-resndata.html">Prev</A>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=u href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/ch02s02.html">Up</A></TD>
<TD width="40%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-platform-device-register-data.html">Next</A></TD></TR>
<TR>
<TD vAlign=top width="40%" align=left><SPAN class=phrase>platform_device_register_resndata</SPAN>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=h href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/index.html">Home</A></TD>
<TD vAlign=top width="40%" align=right>&nbsp;<SPAN class=phrase>platform_device_register_data</SPAN></TD></TR></TBODY></TABLE></DIV>