<DIV class=navheader>
<TABLE summary="Navigation header" width="100%">
<TBODY>
<TR>
<TH colSpan=3 align=middle><SPAN class=phrase>bus_for_each_dev</SPAN></TH></TR>
<TR>
<TD width="20%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---platform-create-bundle.html">Prev</A>&nbsp;</TD>
<TH width="60%" align=middle>Device Drivers Base</TH>
<TD width="20%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-bus-find-device.html">Next</A></TD></TR></TBODY></TABLE>
<HR>
</DIV>
<DIV class=refentry><A name=API-bus-for-each-dev></A>
<DIV class=titlepage></DIV>
<DIV class=refnamediv>
<H2>Name</H2>
<P>bus_for_each_dev &#8212; device iterator. </P></DIV>
<DIV class=refsynopsisdiv>
<H2>Synopsis</H2>
<DIV class=funcsynopsis>
<TABLE style="cellspacing: 0; cellpadding: 0" class=funcprototype-table border=0 summary="Function synopsis">
<TBODY>
<TR>
<TD><CODE class=funcdef>int <B class=fsfunc>bus_for_each_dev </B>(</CODE></TD>
<TD>struct bus_type * <VAR class=pdparam>bus</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>struct device * <VAR class=pdparam>start</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>void * <VAR class=pdparam>data</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>int (*<VAR class=pdparam>fn</VAR>) <CODE>(</CODE>struct device *, void *<CODE>)</CODE><CODE>)</CODE>;</TD></TR></TBODY></TABLE>
<DIV class=funcprototype-spacer>&nbsp;</DIV></DIV></DIV>
<DIV class=refsect1><A name=idp44528636></A>
<H2>Arguments</H2>
<DIV class=variablelist>
<DL class=variablelist>
<DT><SPAN class=term><EM class=parameter><CODE>bus</CODE></EM></SPAN> 
<DD>
<P>bus type. </P>
<DT><SPAN class=term><EM class=parameter><CODE>start</CODE></EM></SPAN> 
<DD>
<P>device to start iterating from. </P>
<DT><SPAN class=term><EM class=parameter><CODE>data</CODE></EM></SPAN> 
<DD>
<P>data for the callback. </P>
<DT><SPAN class=term><EM class=parameter><CODE>fn</CODE></EM></SPAN> 
<DD>
<P>function to be called for each device. </P></DD></DL></DIV></DIV>
<DIV class=refsect1><A name=idp44533308></A>
<H2>Description</H2>
<P>Iterate over <EM class=parameter><CODE>bus</CODE></EM>'s list of devices, and call <EM class=parameter><CODE>fn</CODE></EM> for each, passing it <EM class=parameter><CODE>data</CODE></EM>. If <EM class=parameter><CODE>start</CODE></EM> is not NULL, we use that device to begin iterating from. </P>
<P>We check the return of <EM class=parameter><CODE>fn</CODE></EM> each time. If it returns anything other than 0, we break out and return that value. </P></DIV>
<DIV class=refsect1><A name=idp44536020></A>
<H2>NOTE</H2>
<P>The device that returns a non-zero value is not retained in any way, nor is its refcount incremented. If the caller needs to retain this data, it should do so, and increment the reference count in the supplied callback. </P></DIV></DIV>
<DIV class=navfooter>
<HR>

<TABLE summary="Navigation footer" width="100%">
<TBODY>
<TR>
<TD width="40%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---platform-create-bundle.html">Prev</A>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=u href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/ch02s02.html">Up</A></TD>
<TD width="40%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-bus-find-device.html">Next</A></TD></TR>
<TR>
<TD vAlign=top width="40%" align=left><SPAN class=phrase>__platform_create_bundle</SPAN>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=h href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/index.html">Home</A></TD>
<TD vAlign=top width="40%" align=right>&nbsp;<SPAN class=phrase>bus_find_device</SPAN></TD></TR></TBODY></TABLE></DIV>