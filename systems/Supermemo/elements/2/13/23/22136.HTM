<DIV class=navheader>
<TABLE summary="Navigation header" width="100%">
<TBODY>
<TR>
<TH colSpan=3 align=middle><SPAN class=phrase>device_create_vargs</SPAN></TH></TR>
<TR>
<TD width="20%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-root-device-unregister.html">Prev</A>&nbsp;</TD>
<TH width="60%" align=middle>Device Drivers Base</TH>
<TD width="20%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-device-create.html">Next</A></TD></TR></TBODY></TABLE>
<HR>
</DIV>
<DIV class=refentry><A name=API-device-create-vargs></A>
<DIV class=titlepage></DIV>
<DIV class=refnamediv>
<H2>Name</H2>
<P>device_create_vargs &#8212; creates a device and registers it with sysfs </P></DIV>
<DIV class=refsynopsisdiv>
<H2>Synopsis</H2>
<DIV class=funcsynopsis>
<TABLE style="cellspacing: 0; cellpadding: 0" class=funcprototype-table border=0 summary="Function synopsis">
<TBODY>
<TR>
<TD><CODE class=funcdef>struct device * <B class=fsfunc>device_create_vargs </B>(</CODE></TD>
<TD>struct class * <VAR class=pdparam>class</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>struct device * <VAR class=pdparam>parent</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>dev_t <VAR class=pdparam>devt</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>void * <VAR class=pdparam>drvdata</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>const char * <VAR class=pdparam>fmt</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>va_list <VAR class=pdparam>args</VAR><CODE>)</CODE>;</TD></TR></TBODY></TABLE>
<DIV class=funcprototype-spacer>&nbsp;</DIV></DIV></DIV>
<DIV class=refsect1><A name=idp43940460></A>
<H2>Arguments</H2>
<DIV class=variablelist>
<DL class=variablelist>
<DT><SPAN class=term><EM class=parameter><CODE>class</CODE></EM></SPAN> 
<DD>
<P>pointer to the struct class that this device should be registered to </P>
<DT><SPAN class=term><EM class=parameter><CODE>parent</CODE></EM></SPAN> 
<DD>
<P>pointer to the parent struct device of this new device, if any </P>
<DT><SPAN class=term><EM class=parameter><CODE>devt</CODE></EM></SPAN> 
<DD>
<P>the dev_t for the char device to be added </P>
<DT><SPAN class=term><EM class=parameter><CODE>drvdata</CODE></EM></SPAN> 
<DD>
<P>the data to be added to the device for callbacks </P>
<DT><SPAN class=term><EM class=parameter><CODE>fmt</CODE></EM></SPAN> 
<DD>
<P>string for the device's name </P>
<DT><SPAN class=term><EM class=parameter><CODE>args</CODE></EM></SPAN> 
<DD>
<P>va_list for the device's name </P></DD></DL></DIV></DIV>
<DIV class=refsect1><A name=idp43947332></A>
<H2>Description</H2>
<P>This function can be used by char device classes. A struct device will be created in sysfs, registered to the specified class. </P>
<P>A <SPAN class=quote>&#8220;<SPAN class=quote>dev</SPAN>&#8221;</SPAN> file will be created, showing the dev_t for the device, if the dev_t is not 0,0. If a pointer to a parent struct device is passed in, the newly created struct device will be a child of that device in sysfs. The pointer to the struct device will be returned from the call. Any further sysfs files that might be required can be created using this pointer. </P>
<P>Returns <SPAN class=structname>struct device</SPAN> pointer on success, or <CODE class=function>ERR_PTR</CODE> on error. </P></DIV>
<DIV class=refsect1><A name=idp43949548></A>
<H2>Note</H2>
<P>the struct class passed to this function must have previously been created with a call to <CODE class=function>class_create</CODE>. </P></DIV></DIV>
<DIV class=navfooter>
<HR>

<TABLE summary="Navigation footer" width="100%">
<TBODY>
<TR>
<TD width="40%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-root-device-unregister.html">Prev</A>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=u href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/ch02s02.html">Up</A></TD>
<TD width="40%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-device-create.html">Next</A></TD></TR>
<TR>
<TD vAlign=top width="40%" align=left><SPAN class=phrase>root_device_unregister</SPAN>&nbsp;</TD>
<TD width="20%" align=middle><A accessKey=h href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/index.html">Home</A></TD>
<TD vAlign=top width="40%" align=right>&nbsp;<SPAN class=phrase>device_create</SPAN></TD></TR></TBODY></TABLE></DIV>