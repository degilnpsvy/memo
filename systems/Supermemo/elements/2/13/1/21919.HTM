<TABLE summary="Navigation header" width="100%">
<TBODY>
<TR>
<TH colSpan=3 align=middle><SPAN class=phrase>__wake_up_sync_key</SPAN></TH></TR>
<TR>
<TD width="20%" align=left><A accessKey=p href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API---wake-up.html">Prev</A>&nbsp;</TD>
<TH width="60%" align=middle>Wait queues and Wake events</TH>
<TD width="20%" align=right>&nbsp;<A accessKey=n href="file:///C:/Users/donpope_tang/Documents/docbook/device-drivers/API-finish-wait.html">Next</A></TD></TR></TBODY></TABLE>
<HR>

<DIV class=refentry><A name=API---wake-up-sync-key></A>
<DIV class=titlepage></DIV>
<DIV class=refnamediv>
<H2>Name</H2>
<P>__wake_up_sync_key &#8212; wake up threads blocked on a waitqueue. </P></DIV>
<DIV class=refsynopsisdiv>
<H2>Synopsis</H2>
<DIV class=funcsynopsis>
<TABLE style="cellspacing: 0; cellpadding: 0" class=funcprototype-table border=0 summary="Function synopsis">
<TBODY>
<TR>
<TD><CODE class=funcdef>void <B class=fsfunc>__wake_up_sync_key </B>(</CODE></TD>
<TD>wait_queue_head_t * <VAR class=pdparam>q</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>unsigned int <VAR class=pdparam>mode</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>int <VAR class=pdparam>nr_exclusive</VAR>, </TD></TR>
<TR>
<TD>&nbsp;</TD>
<TD>void * <VAR class=pdparam>key</VAR><CODE>)</CODE>;</TD></TR></TBODY></TABLE>
<DIV class=funcprototype-spacer>&nbsp;</DIV></DIV></DIV>
<DIV class=refsect1><A name=idp42002372></A>
<H2>Arguments</H2>
<DIV class=variablelist>
<DL class=variablelist>
<DT><SPAN class=term><EM class=parameter><CODE>q</CODE></EM></SPAN> 
<DD>
<P>the waitqueue </P>
<DT><SPAN class=term><EM class=parameter><CODE>mode</CODE></EM></SPAN> 
<DD>
<P>which threads </P>
<DT><SPAN class=term><EM class=parameter><CODE>nr_exclusive</CODE></EM></SPAN> 
<DD>
<P>how many wake-one or wake-many threads to wake up </P>
<DT><SPAN class=term><EM class=parameter><CODE>key</CODE></EM></SPAN> 
<DD>
<P>opaque value to be passed to wakeup targets </P></DD></DL></DIV></DIV>
<DIV class=refsect1><A name=idp42006892></A>
<H2>Description</H2>
<P>The sync wakeup differs that the waker knows that it will schedule away soon, so while the target thread will be woken up, it will not be migrated to another CPU - ie. the two threads are 'synchronized' with each other. This can prevent needless bouncing between CPUs. </P>
<P>On UP it can prevent extra preemption. </P>
<P>It may be assumed that this function implies a write memory barrier before changing the task state if and only if any tasks are woken up. </P></DIV></DIV>