<P class=docText>Now that your patched <SPAN class=docEmphasis>/usr/src/linux-X.Y.Z/</SPAN><A name="a moment"></A> tree is ready for use, let's take a moment to observe how the source layout is organized. Go to the root of the source tree and list its contents. The directories branching out from the root of the code tree are as follows:</P>
<DIV style="FONT-WEIGHT: bold">
<OL class=docList type=1>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>arch.</SPAN> This directory contains architecture-specific files. You will see separate subdirectories under <SPAN class=docEmphasis>arch/</SPAN> for processors such as ARM, Motorola 68K, s390, MIPS, Alpha, SPARC, and IA64.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>block.</SPAN><A name="block storage"></A> This primarily contains <FONT class=clozed>the implementation of I/O scheduling algorithms for block storage devices</FONT>.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>crypto.</SPAN><A name="the cryptographic"></A> This directory implements cipher operations and the cryptographic API, used, for example, by some WiFi device drivers for implementing encryption algorithms.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>Documentation.</SPAN><A name="This can"></A> This directory has brief descriptions of various kernel subsystems. This can be your first stop to dig for answers to kernel-related queries.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>drivers.</SPAN><A name="drivers for"></A> Device drivers for numerous device classes and peripheral controllers reside in this directory. The device classes include character, serial, <SPAN class=docEmphasis>Inter-Integrated Circuit</SPAN> (I<SUP>2</SUP>C), <SPAN class=docEmphasis>Personal Computer Memory Card International Association</SPAN> (PCMCIA), <SPAN class=docEmphasis>Peripheral Component Interconnect</SPAN> (PCI), <SPAN class=docEmphasis>Universal Serial Bus</SPAN> (USB), video, audio, block, <SPAN class=docEmphasis>Integrated Drive Electronics</SPAN> (IDE), <SPAN class=docEmphasis>Small Computer System Interface</SPAN> (SCSI), CD-ROM, network adapters, <SPAN class=docEmphasis>Asynchronous Transfer Mode</SPAN> (ATM), Bluetooth, and <SPAN class=docEmphasis>Memory Technology Devices</SPAN> (MTD). Each of these classes live in a separate subdirectory under <SPAN class=docEmphasis>drivers/</SPAN>. You will, for instance, find PCMCIA driver sources inside the <SPAN class=docEmphasis>drivers/pcmcia/</SPAN> directory and MTD drivers inside the <SPAN class=docEmphasis>drivers/mtd/</SPAN> directory. The subdirectories present under <SPAN class=docEmphasis>drivers/</SPAN> constitute the primary subjects for this book.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>fs.</SPAN> This directory contains the implementation of filesystems such as EXT3, EXT4, reiserfs, FAT, VFAT, sysfs, procfs, isofs, JFFS2, XFS, NTFS, and NFS.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>include.</SPAN> Kernel header files live here. Subdirectories prefixed with <SPAN class=docEmphasis>asm</SPAN> contain headers specific to the particular architecture. So the directory <SPAN class=docEmphasis>include/asm-x86/</SPAN> contains header files pertaining to the x86 architecture, whereas <SPAN class=docEmphasis>include/asm-arm/</SPAN> holds headers for the ARM architecture.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>init.</SPAN> This directory contains high-level initialization and startup code.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>ipc.</SPAN> This contains support for <SPAN class=docEmphasis>Inter-Process Communication</SPAN> (IPC) mechanisms such as message queues, semaphores, and shared memory.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>kernel.</SPAN> The architecture-independent portions of the base kernel can be found here.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>lib.</SPAN> <A name=iddle1195></A><A name=iddle1638></A><A name=iddle2590></A><A name=iddle2591></A><A name=iddle2736></A><A name=iddle2878></A><A name=iddle3020></A><A name=iddle3206></A><A name=iddle3221></A><A name=iddle3897></A><A name=iddle3912></A><A name=iddle4105></A><A name=iddle4564></A>Library routines such as generic <SPAN class=docEmphasis>kernel object</SPAN> (kobject) handlers and <SPAN class=docEmphasis>Cyclic Redundancy Code</SPAN> (CRC) computation functions stay here.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>mm.</SPAN> The memory management implementation lives here.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>net.</SPAN> Networking protocols reside under this directory. Protocols implemented include <SPAN class=docEmphasis>Internet Protocol version 4</SPAN> (IPv4), IPv6, <SPAN class=docEmphasis>Internetwork Protocol eXchange</SPAN> (IPX), Bluetooth, ATM, Infrared, <SPAN class=docEmphasis>Link Access Procedure Balanced</SPAN> (LAPB), and <SPAN class=docEmphasis>Logical Link Control</SPAN> (LLC).</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>scripts.</SPAN> Scripts used during kernel build reside here.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>security.</SPAN> This directory contains the framework for security.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>sound.</SPAN> The Linux audio subsystem is based in this directory.</P></DIV>
<LI>
<DIV style="FONT-WEIGHT: normal">
<P class=docText><SPAN class=docEmphBoldItalic>usr.</SPAN> This currently contains the <SPAN class=docEmphasis>initramfs</SPAN> implementation.</P></DIV></LI></OL></DIV><A name=ch01sb03></A>
<P>
<TABLE cellSpacing=0 cellPadding=5 width="90%" border=1>
<TBODY>
<TR>
<TD>
<H2 class=docSidebarTitle>Unified x86 Architecture Tree</H2>
<P class=docText><A name="trees have"></A>Starting with the 2.6.24 kernel release, the i386 and the x86_64 (the 64-bit cousin of the 32-bit i386) architecture-specific trees have been unified into a common <SPAN class=docEmphasis>arch/x86/</SPAN><A name="If you"></A> directory. If you are using a pre-2.6.24 kernel, replace references to <SPAN class=docEmphasis>arch/x86/</SPAN><A name="book with"></A> in this book with <SPAN class=docEmphasis>arch/i386/</SPAN><A name="any occurrence"></A>. Similarly, change any occurrence of <SPAN class=docEmphasis>include/asm-x86/</SPAN> to <SPAN class=docEmphasis>include/asm-i386/</SPAN>. Some filenames within these directories have also changed.</P></TD></TR></TBODY></TABLE>