<P class=MsoNormal style="TEXT-ALIGN: left; MARGIN: 0cm 0cm 0pt; mso-layout-grid-align: none" align=left><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: 'TheSansMonoCondensed-SemiLight','serif'; mso-bidi-font-size: 9.0pt; mso-bidi-font-family: TheSansMonoCondensed-SemiLight; mso-font-kerning: 0pt">int unregister_chrdev(unsigned int major, const char *name);</SPAN></P><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: 'TheSansMonoCondensed-SemiLight','serif'; mso-bidi-font-size: 9.0pt; mso-bidi-font-family: TheSansMonoCondensed-SemiLight; mso-font-kerning: 0pt"><PRE><A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/include/linux/fs.h#2410" name=2410>2410</A><B>static</B> <B>inline</B> <B>void</B> <A class=xf name=unregister_chrdev></A><A class=xf href="http://172.21.12.145:8080/source/s?refs=unregister_chrdev&amp;project=linux-4.5">unregister_chrdev</A>(<B>unsigned</B> <B>int</B> <A class=xa name=major></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=major&amp;project=linux-4.5">major</A>, <B>const</B> <B>char</B> *<A class=xa name=name></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=name&amp;project=linux-4.5">name</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/include/linux/fs.h#2411" name=2411>2411</A>{
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/include/linux/fs.h#2412" name=2412>2412</A>	<A href="http://172.21.12.145:8080/source/s?defs=__unregister_chrdev&amp;project=linux-4.5">__unregister_chrdev</A>(<A href="http://172.21.12.145:8080/source/s?defs=major&amp;project=linux-4.5">major</A>, 0, <SPAN class=n>256</SPAN>, <A href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.5">name</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/include/linux/fs.h#2413" name=2413>2413</A>}</PRE><PRE><PRE><A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#298" name=298>298</A><SPAN class=c>/**
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#299" name=299>299</A> * __unregister_chrdev - unregister and destroy a cdev
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#300" name=300>300</A> * @major: major device number
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#301" name=301>301</A> * @baseminor: first of the range of minor numbers
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#302" name=302>302</A> * @count: the number of minor numbers this cdev is occupying
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#303" name=303>303</A> * @name: name of this range of devices
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#304" name=304>304</A> *
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#305" name=305>305</A> * Unregister and destroy the cdev occupying the region described by
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#306" name=306>306</A> * @major, @baseminor and @count.  This function undoes what
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#307" name=307>307</A> * __register_chrdev() did.
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#308" name=308>308</A> */</SPAN>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#309" name=309>309</A><B>void</B> <A class=xf name=__unregister_chrdev></A><A class=xf href="http://172.21.12.145:8080/source/s?refs=__unregister_chrdev&amp;project=linux-4.5">__unregister_chrdev</A>(<B>unsigned</B> <B>int</B> <A class=xa name=major></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=major&amp;project=linux-4.5">major</A>, <B>unsigned</B> <B>int</B> <A class=xa name=baseminor></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=baseminor&amp;project=linux-4.5">baseminor</A>,
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#310" name=310>310</A>			 <B>unsigned</B> <B>int</B> <A href="http://172.21.12.145:8080/source/s?defs=count&amp;project=linux-4.5">count</A>, <B>const</B> <B>char</B> *<A href="http://172.21.12.145:8080/source/s?defs=name&amp;project=linux-4.5">name</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#311" name=311>311</A>{
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#312" name=312>312</A>	<B>struct</B> <A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#char_device_struct">char_device_struct</A> *<A class=xl name=cd></A><A class=xl href="http://172.21.12.145:8080/source/s?refs=cd&amp;project=linux-4.5">cd</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#313" name=313>313</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#314" name=314>314</A>	<A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A> = <A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#__unregister_chrdev_region">__unregister_chrdev_region</A>(<A href="http://172.21.12.145:8080/source/s?defs=major&amp;project=linux-4.5">major</A>, <A href="http://172.21.12.145:8080/source/s?defs=baseminor&amp;project=linux-4.5">baseminor</A>, <A href="http://172.21.12.145:8080/source/s?defs=count&amp;project=linux-4.5">count</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#315" name=315>315</A>	<B>if</B> (<A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A> &amp;&amp; <A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A>-&gt;<A href="http://172.21.12.145:8080/source/s?defs=cdev&amp;project=linux-4.5">cdev</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#316" name=316>316</A>		<A href="http://172.21.12.145:8080/source/s?defs=cdev_del&amp;project=linux-4.5">cdev_del</A>(<A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A>-&gt;<A href="http://172.21.12.145:8080/source/s?defs=cdev&amp;project=linux-4.5">cdev</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#317" name=317>317</A>	<A href="http://172.21.12.145:8080/source/s?defs=kfree&amp;project=linux-4.5">kfree</A>(<A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#318" name=318>318</A>}</PRE><PRE>&nbsp;</PRE><PRE><PRE><A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#145" name=145>145</A><B>static</B> <B>struct</B> <A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#char_device_struct">char_device_struct</A> *
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#146" name=146>146</A><A class=xf name=__unregister_chrdev_region></A><A class=xf href="http://172.21.12.145:8080/source/s?refs=__unregister_chrdev_region&amp;project=linux-4.5">__unregister_chrdev_region</A>(<B>unsigned</B> <A class=xa name=major></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=major&amp;project=linux-4.5">major</A>, <B>unsigned</B> <A class=xa name=baseminor></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=baseminor&amp;project=linux-4.5">baseminor</A>, <B>int</B> <A class=xa name=minorct></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=minorct&amp;project=linux-4.5">minorct</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#147" name=147>147</A>{
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#148" name=148>148</A>	<B>struct</B> <A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#char_device_struct">char_device_struct</A> *<A class=xl name=cd></A><A class=xl href="http://172.21.12.145:8080/source/s?refs=cd&amp;project=linux-4.5">cd</A> = <A href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.5">NULL</A>, **<A class=xl name=cp></A><A class=xl href="http://172.21.12.145:8080/source/s?refs=cp&amp;project=linux-4.5">cp</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#149" name=149>149</A>	<B>int</B> i = <A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#major_to_index">major_to_index</A>(<A href="http://172.21.12.145:8080/source/s?defs=major&amp;project=linux-4.5">major</A>);
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#150" name=150>150</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#151" name=151>151</A>	<A href="http://172.21.12.145:8080/source/s?defs=mutex_lock&amp;project=linux-4.5">mutex_lock</A>(&amp;<A href="http://172.21.12.145:8080/source/s?defs=chrdevs_lock&amp;project=linux-4.5">chrdevs_lock</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#152" name=152>152</A>	<B>for</B> (<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A> = &amp;<A class=d href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#chrdevs">chrdevs</A>[i]; *<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>; <A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A> = &amp;(*<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>)-&gt;<A href="http://172.21.12.145:8080/source/s?defs=next&amp;project=linux-4.5">next</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#153" name=153>153</A>		<B>if</B> ((*<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>)-&gt;<A href="http://172.21.12.145:8080/source/s?defs=major&amp;project=linux-4.5">major</A> == <A href="http://172.21.12.145:8080/source/s?defs=major&amp;project=linux-4.5">major</A> &amp;&amp;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#154" name=154>154</A>		    (*<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>)-&gt;<A href="http://172.21.12.145:8080/source/s?defs=baseminor&amp;project=linux-4.5">baseminor</A> == <A href="http://172.21.12.145:8080/source/s?defs=baseminor&amp;project=linux-4.5">baseminor</A> &amp;&amp;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#155" name=155>155</A>		    (*<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>)-&gt;<A href="http://172.21.12.145:8080/source/s?defs=minorct&amp;project=linux-4.5">minorct</A> == <A href="http://172.21.12.145:8080/source/s?defs=minorct&amp;project=linux-4.5">minorct</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#156" name=156>156</A>			<B>break</B>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#157" name=157>157</A>	<B>if</B> (*<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>) {
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#158" name=158>158</A>		<A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A> = *<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#159" name=159>159</A>		*<A href="http://172.21.12.145:8080/source/s?defs=cp&amp;project=linux-4.5">cp</A> = <A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A>-&gt;<A href="http://172.21.12.145:8080/source/s?defs=next&amp;project=linux-4.5">next</A>;
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#160" name=160>160</A>	}
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#161" name=161>161</A>	<A href="http://172.21.12.145:8080/source/s?defs=mutex_unlock&amp;project=linux-4.5">mutex_unlock</A>(&amp;<A href="http://172.21.12.145:8080/source/s?defs=chrdevs_lock&amp;project=linux-4.5">chrdevs_lock</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#162" name=162>162</A>	<B>return</B> <A href="http://172.21.12.145:8080/source/s?defs=cd&amp;project=linux-4.5">cd</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/fs/char_dev.c#163" name=163>163</A>}</PRE></PRE></PRE></SPAN>