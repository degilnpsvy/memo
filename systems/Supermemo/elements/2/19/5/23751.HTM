Then the example driver registers the input device structure by calling 
<P></P>
<P><FONT class=clozed>&nbsp;input_register_devic</FONT>e(&amp;button_dev);</P>
<P>This adds the button_dev structure to linked lists of the input driver and<BR>calls device handler modules _connect functions to tell them a new input<BR>device has appeared. input_register_device() may <SPAN class=cloze>[...]</SPAN> and therefore must<BR>not be called from an interrupt or with a spinlock held.