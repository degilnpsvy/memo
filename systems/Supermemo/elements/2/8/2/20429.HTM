<P style="MARGIN: 0.5em 0px">At the end of its boot sequence, the kernel tries to determine the format of the image from its first few blocks of data:</P>
<UL style="PADDING-BOTTOM: 0px; LINE-HEIGHT: 1.6; LIST-STYLE-TYPE: disc; MARGIN: 0.3em 0px 0px 1.6em; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; LIST-STYLE-IMAGE: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAANAQMAAABb8jbLAAAABlBMVEX///8AUow5QSOjAAAAAXRSTlMAQObYZgAAABNJREFUCB1jYEABBQw/wLCAgQEAGpIDyT0IVcsAAAAASUVORK5CYII=); PADDING-TOP: 0px">
<LI style="MARGIN-BOTTOM: 0.1em">In the<SPAN class=Apple-converted-space>&nbsp;</SPAN><B>initrd</B><SPAN class=Apple-converted-space>&nbsp;</SPAN>scheme, the image may be a file system image (optionally compressed), which is made available in a special<A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" class=mw-redirect title="Block device" href="http://en.wikipedia.org/wiki/Block_device">block device</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>(<TT style="FONT-FAMILY: monospace, Courier">/dev/ram</TT>) that is then mounted as the initial root file system.<SUP style="LINE-HEIGHT: 1; FONT-STYLE: normal; FONT-SIZE: 11px; FONT-WEIGHT: normal" id=cite_ref-almesberger_3-0 class=reference><A style="WHITE-SPACE: nowrap; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" href="http://en.wikipedia.org/wiki/Initrd#cite_note-almesberger-3"><SPAN>[</SPAN>3<SPAN>]</SPAN></A></SUP><SPAN class=Apple-converted-space>&nbsp;</SPAN>The driver for that file system must be compiled statically into the kernel. Many distributions originally used compressed<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" title=Ext2 href="http://en.wikipedia.org/wiki/Ext2">ext2</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>file system images. Others (including<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" title=Debian href="http://en.wikipedia.org/wiki/Debian">Debian</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>3.1) used<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" title=Cramfs href="http://en.wikipedia.org/wiki/Cramfs">cramfs</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>in order to boot on memory-limited systems, since the cramfs image can be mounted in-place without requiring extra space for decompression.</LI></UL>
<DL style="MARGIN-TOP: 0.2em; MARGIN-BOTTOM: 0.5em">
<DD style="LINE-HEIGHT: 1.6; MARGIN-BOTTOM: 0.1em; MARGIN-LEFT: 1.6em; MARGIN-RIGHT: 0px">Once the initial root file system is up, the kernel executes<SPAN class=Apple-converted-space>&nbsp;</SPAN><TT style="FONT-FAMILY: monospace, Courier">/linuxrc</TT><SPAN class=Apple-converted-space>&nbsp;</SPAN>as its first process. When it exits, the kernel assumes that the real root file system has been mounted and executes<SPAN class=Apple-converted-space>&nbsp;</SPAN><TT style="FONT-FAMILY: monospace, Courier">/sbin/init</TT><SPAN class=Apple-converted-space>&nbsp;</SPAN>to begin the normal user-space boot process.<SUP style="LINE-HEIGHT: 1; FONT-STYLE: normal; FONT-SIZE: 11px; FONT-WEIGHT: normal" id=cite_ref-almesberger_3-1 class=reference><A style="WHITE-SPACE: nowrap; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" href="http://en.wikipedia.org/wiki/Initrd#cite_note-almesberger-3"><SPAN>[</SPAN>3<SPAN>]</SPAN></A></SUP></DD></DL>
<UL style="PADDING-BOTTOM: 0px; LINE-HEIGHT: 1.6; LIST-STYLE-TYPE: disc; MARGIN: 0.3em 0px 0px 1.6em; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; LIST-STYLE-IMAGE: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAANAQMAAABb8jbLAAAABlBMVEX///8AUow5QSOjAAAAAXRSTlMAQObYZgAAABNJREFUCB1jYEABBQw/wLCAgQEAGpIDyT0IVcsAAAAASUVORK5CYII=); PADDING-TOP: 0px">
<LI style="MARGIN-BOTTOM: 0.1em">In the<SPAN class=Apple-converted-space>&nbsp;</SPAN><B>initramfs</B><SPAN class=Apple-converted-space>&nbsp;</SPAN>scheme (available in Linux 2.6.13 onwards), the image may be a<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" title=Cpio href="http://en.wikipedia.org/wiki/Cpio">cpio</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>archive (optionally compressed). The archive is unpacked by the kernel into a special instance of a<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" title=Tmpfs href="http://en.wikipedia.org/wiki/Tmpfs">tmpfs</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>that becomes the initial root file system. This scheme has the advantage of not requiring an intermediate file system or block drivers to be compiled into the kernel.<SUP style="LINE-HEIGHT: 1; FONT-STYLE: normal; FONT-SIZE: 11px; FONT-WEIGHT: normal" id=cite_ref-landley_4-0 class=reference><A style="WHITE-SPACE: nowrap; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" href="http://en.wikipedia.org/wiki/Initrd#cite_note-landley-4"><SPAN>[</SPAN>4<SPAN>]</SPAN></A></SUP><SPAN class=Apple-converted-space>&nbsp;</SPAN>Some systems use the<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" class=mw-redirect title="Dracut (initramfs)" href="http://en.wikipedia.org/wiki/Dracut_(initramfs)">dracut</A><SPAN class=Apple-converted-space>&nbsp;</SPAN>package to create the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="BORDER-BOTTOM: rgb(221,221,221) 1px solid; BORDER-LEFT: rgb(221,221,221) 1px solid; PADDING-BOTTOM: 1px; BACKGROUND-COLOR: rgb(249,249,249); PADDING-LEFT: 4px; PADDING-RIGHT: 4px; FONT-FAMILY: monospace, Courier; COLOR: black; BORDER-TOP: rgb(221,221,221) 1px solid; BORDER-RIGHT: rgb(221,221,221) 1px solid; PADDING-TOP: 1px; border-top-left-radius: 2px; border-top-right-radius: 2px; border-bottom-right-radius: 2px; border-bottom-left-radius: 2px">initramfs</CODE>.<SUP style="LINE-HEIGHT: 1; FONT-STYLE: normal; FONT-SIZE: 11px; FONT-WEIGHT: normal" id=cite_ref-5 class=reference><A style="WHITE-SPACE: nowrap; BACKGROUND: none transparent scroll repeat 0% 0%; COLOR: rgb(11,0,128); TEXT-DECORATION: none" href="http://en.wikipedia.org/wiki/Initrd#cite_note-5"><SPAN>[</SPAN>5<SPAN>]</SPAN></A></SUP></LI></UL>
<DL style="MARGIN-TOP: 0.2em; MARGIN-BOTTOM: 0.5em">
<DD style="LINE-HEIGHT: 1.6; MARGIN-BOTTOM: 0.1em; MARGIN-LEFT: 1.6em; MARGIN-RIGHT: 0px">On an initramfs, the kernel executes<SPAN class=Apple-converted-space>&nbsp;</SPAN><TT style="FONT-FAMILY: monospace, Courier">/init</TT><SPAN class=Apple-converted-space>&nbsp;</SPAN>as its first process.<SPAN class=Apple-converted-space>&nbsp;</SPAN><TT style="FONT-FAMILY: monospace, Courier">/init</TT><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not expected to exit.</DD></DL>