<H2 id=title-ID0E66OM class=docChapterTitle>Chapter 8. The Inter-Integrated Circuit Protocol</H2><A name=ch08fe01></A>
<P>
<TABLE cellSpacing=0 cellPadding=5 rules=none width="98%" border=1>
<TBODY>
<TR>
<TD>
<H4 id=title-ID0EEAPM class=docSection2Title><A name="In This"></A><FONT size=5>In This Chapter</FONT></H4></TD></TR>
<TR>
<TD>
<P>
<TABLE cellSpacing=0 cellPadding=5 rules=none frame=void>
<COLGROUP span=2 align=left><FONT size=5>
<COL width=400>
<COL width=50></FONT></COLGROUP>
<THEAD><FONT size=5></FONT></THEAD>
<TBODY>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec1.html#ch08lev1sec1"><FONT size=5>What's I<SUP>2</SUP>C/SMBus?</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec1.html#ch08lev1sec1"><FONT size=5>234</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec2.html#ch08lev1sec2"><FONT size=5>I<SUP>2</SUP>C Core</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec2.html#ch08lev1sec2"><FONT size=5>235</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec3.html#ch08lev1sec3"><FONT size=5>Bus Transactions</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec3.html#ch08lev1sec3"><FONT size=5>237</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec4.html#ch08lev1sec4"><FONT size=5>Device Example: EEPROM</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec4.html#ch08lev1sec4"><FONT size=5>238</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec5.html#ch08lev1sec5"><FONT size=5>Device Example: Real Time Clock</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec5.html#ch08lev1sec5"><FONT size=5>247</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec6.html#ch08lev1sec6"><FONT size=5>I2C-dev</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec6.html#ch08lev1sec6"><FONT size=5>251</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec7.html#ch08lev1sec7"><FONT size=5>Hardware Monitoring Using LM-Sensors</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec7.html#ch08lev1sec7"><FONT size=5>251</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec8.html#ch08lev1sec8"><FONT size=5>The Serial Peripheral Interface Bus</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec8.html#ch08lev1sec8"><FONT size=5>251</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec9.html#ch08lev1sec9"><FONT size=5>The 1-Wire Bus</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec9.html#ch08lev1sec9"><FONT size=5>254</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec10.html#ch08lev1sec10"><FONT size=5>Debugging</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec10.html#ch08lev1sec10"><FONT size=5>254</FONT></A></TD></TR>
<TR>
<TD class=docTableCell vAlign=top align=left>
<UL>
<LI>
<P class=docList><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec11.html#ch08lev1sec11"><FONT size=5>Looking at the Sources</FONT></A></P></LI></UL></TD>
<TD class=docTableCell vAlign=top align=left><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch08lev1sec11.html#ch08lev1sec11"><FONT size=5>255</FONT></A></TD></TR></TBODY></TABLE></P><BR></TD></TR></TBODY></TABLE></P>
<P class=docText><FONT size=5></FONT></P><A name=ch08sb01></A>
<P>
<TABLE cellSpacing=0 cellPadding=5 width="90%" border=1>
<TBODY>
<TR>
<TD>
<P class=docText><A name=iddle1351></A><A name=iddle1607></A><A name=iddle2228></A><A name=iddle2255></A><A name=iddle2270></A><A name=iddle4022></A><A name=iddle4030></A><A name=iddle4031></A><FONT size=5>The Inter-Integrated Circuit, or I<SUP>2</SUP>C (pronounced <SPAN class=docEmphasis>I squared C</SPAN></FONT><A name="its subset"></A><FONT size=5>) bus and its subset, the <SPAN class=docEmphasis><A name="Management Bus"></A>System Management Bus</SPAN></FONT><A name="and embedded"></A><FONT size=5> (SMBus), are synchronous serial interfaces that are ubiquitous on desktops and embedded devices. Let's find out how the kernel supports I<SUP>2</SUP></FONT><A name="by implementing"></A><FONT size=5>C/SMBus host adapters and client devices by implementing example drivers to access an I<SUP>2</SUP>C EEPROM and an I<SUP>2</SUP></FONT><A name="two other"></A><FONT size=5>C RTC. And before wrapping up this chapter, let's also peek at two other serial interfaces supported by the kernel: the <SPAN class=docEmphasis>Serial Peripheral Interface</SPAN> or SPI (often pronounced <SPAN class=docEmphasis>spy</SPAN>) bus and the 1-wire bus.</FONT></P>
<P class=docText><FONT size=5>All these serial interfaces (I<SUP>2</SUP>C, SMBus, SPI, and 1-wire) share two common characteristics:</FONT></P>
<UL>
<LI>
<P class=docList><FONT size=5>The amount of data exchanged is small.</FONT></P>
<LI>
<P class=docList><FONT size=5>The required data transfer rate is low.</FONT></P></LI></UL></TD></TR></TBODY></TABLE>