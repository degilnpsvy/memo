<H4 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: medium; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=subsection>6.59.12 Push/Pop Macro Pragmas</H4>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">For compatibility with Microsoft Windows compilers, GCC supports &#8216;<SAMP><SPAN class=samp>#pragma push_macro(</SPAN><VAR>"macro_name"</VAR><SPAN class=samp>)</SPAN></SAMP>&#8217; and &#8216;<SAMP><SPAN class=samp>#pragma pop_macro(</SPAN><VAR>"macro_name"</VAR><SPAN class=samp>)</SPAN></SAMP>&#8217;.</P>
<DL style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">
<DT><CODE>#pragma push_macro(</CODE><VAR>"macro_name"</VAR><CODE>)</CODE></DT>
<DD><A name=index-pragma_002c-push_005fmacro-3774></A>This pragma saves the value of the macro named as<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>macro_name</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>to the top of the stack for this macro.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>#pragma pop_macro(</CODE><VAR>"macro_name"</VAR><CODE>)</CODE></DT>
<DD><A name=index-pragma_002c-pop_005fmacro-3775></A>This pragma sets the value of the macro named as<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>macro_name</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>to the value on top of the stack for this macro. If the stack for<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>macro_name</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>is empty, the value of the macro remains unchanged.</DD></DL>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">For example:</P><PRE style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: smaller; FONT-WEIGHT: normal; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=smallexample>     #define X  1
     #pragma push_macro("X")
     #undef X
     #define X -1
     #pragma pop_macro("X")
     int x [X];
</PRE>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=noindent>In this example, the definition of X as 1 is saved by<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>#pragma push_macro</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and restored by<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>#pragma pop_macro</CODE>.