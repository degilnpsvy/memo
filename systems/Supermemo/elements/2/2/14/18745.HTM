&#23545;&#20110;&#20869;&#23884;&#27719;&#32534;&#65292;&#20197;&#28304;&#30721;&#20013;&#30340;inb&#20989;&#25968;&#20026;&#20363;<BR style="WORD-WRAP: break-word">&nbsp;&nbsp;<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR style="WORD-WRAP: break-word">
<TABLE style="BORDER-COLLAPSE: collapse; WORD-WRAP: break-word" border=1 cellSpacing=0 borderColor=#999999 cellPadding=0 width="95%" bgColor=#f1f1f1>
<TBODY style="WORD-WRAP: break-word">
<TR style="WORD-WRAP: break-word">
<TD style="PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; WORD-WRAP: break-word; PADDING-TOP: 0px">
<P style="PADDING-BOTTOM: 0px; LINE-HEIGHT: 24px; MARGIN: 5px; PADDING-LEFT: 0px; PADDING-RIGHT: 0px; WORD-WRAP: break-word; PADDING-TOP: 0px"><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)">inb<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,255)">int</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>port<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)</SPAN><BR style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">{</SPAN><BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,0)">uint8_t</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>data<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">;</SPAN><BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp;&nbsp;__asm __volatile<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"inb %w1,%0"</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">:</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"=a"</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN>data<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">:</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"d"</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN>port<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">;</SPAN><BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp;&nbsp;<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,255)">return</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN>data<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">;</SPAN><BR style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">}</SPAN></SPAN></CODE></P></TD></TR></TBODY></TABLE>&nbsp;&nbsp;&nbsp; <FONT class=extract>"__asm__"&#34920;&#31034;&#21518;&#38754;&#30340;&#20195;&#30721;&#20026;&#20869;&#23884;&#27719;&#32534;</FONT>&#65292; "asm"&#26159;"__asm__" &#30340;&#21035;&#21517;&#12290; <FONT class=extract>"__volatile__"&#34920;&#31034;&#32534;&#35793;&#22120;&#19981;&#35201;&#20248;&#21270;&#20195;&#30721;&#65292;&#21518;&#38754;&#30340;&#25351;&#20196;&#20445;&#30041;&#21407;&#26679;</FONT>&#65292; "volatile"&#26159;&#23427;&#30340;&#21035;&#21517;&#12290;&#25324;&#21495;&#37324;&#38754;&#26159;&#27719;&#32534;&#25351;&#20196;&#12290;<BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp; <FONT class=extract>&#20869;&#23884;&#27719;&#32534;&#30340;&#27169;&#26495;&#26102;&#65306;<BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp; __asm__(&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;: &#36755;&#20986;&#37096;&#20998;: &#36755;&#20837;&#37096;&#20998;: &#30772;&#22351;&#25551;&#36848;&#37096;&#20998;)<BR style="WORD-WRAP: break-word"></FONT>&nbsp;&nbsp;&nbsp; &#20849;&#22235;&#20010;&#37096;&#20998;&#65306;&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#65292;&#36755;&#20986;&#37096;&#20998;&#65292;&#36755;&#20837;&#37096;&#20998;&#65292;&#30772;&#22351;&#25551;&#36848;&#37096;&#20998;&#65292;&#21508;&#37096;&#20998;&#20351;&#29992;":"&#26684;&#24320;&#65292;&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#24517;&#19981;&#21487;&#23569;&#65292; &#20854;&#20182;&#19977;&#37096;&#20998;&#21487;&#36873;&#65292;&#22914;&#26524;&#20351;&#29992;&#20102;&#21518;&#38754;&#30340;&#37096;&#20998;&#65292;&#32780;&#21069;&#38754;&#37096;&#20998;&#20026;&#31354;&#65292;&#20063;&#38656;&#35201;&#29992;":"&#26684;&#24320;&#65292;&#30456;&#24212;&#37096;&#20998;&#20869;&#23481;&#20026;&#31354;&#12290;&#22914;&#19978;&#38754;&#31243;&#24207;&#21017;&#21482;&#26159;&#29992;&#20102;&#21069;&#19977;&#37096;&#20998;&#12290;<BR style="WORD-WRAP: break-word"><BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp;<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"inb %w1,%0"<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#34920;&#31034;&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#65292;</SPAN></SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"=a"</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN>data<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#26159;&#36755;&#20986;&#37096;&#20998;&#65292;</SPAN></SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"d"</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN>port<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#26159;&#36755;&#20837;&#37096;&#20998;<BR style="WORD-WRAP: break-word"><BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp; (1)<FONT class=extract>&#27719;&#32534;&#35821;&#21477;&#27169;&#26495;&#30001;&#27719;&#32534;&#35821;&#21477;&#24207;&#21015;&#32452;&#25104;&#65292;&#35821;&#21477;&#20043;&#38388;&#20351;&#29992;&#8220;;&#8221; &#12289;&#8220;\n&#8221;&#25110;&#8220;\n\t&#8221;&#20998;&#24320;&#12290;</FONT><FONT class=extract>&#25351;&#20196;&#20013;&#30340;&#25805;&#20316;&#25968;&#21487;&#20197;&#20351;&#29992;&#21344;&#20301;&#31526;&#24341;&#29992;C&#35821;&#35328;&#21464;&#37327;&#65292; &#25805;&#20316;&#25968;&#21344;&#20301;&#31526;&#26368;&#22810;10&#20010;&#65292; &#21517;&#31216;&#22914;&#19979;&#65306; %0&#65292; %1&#65292; &#8230;&#65292;%9<FONT class=extract>&#12290;</FONT></FONT><FONT class=extract>&#25351;&#20196;&#20013;&#20351;&#29992;&#21344;&#20301;&#31526;&#34920;&#31034;&#30340;&#25805;&#20316;&#25968;&#65292;&#24635;&#34987;&#35270;&#20026;long&#22411;&#65288;4&#20010;&#23383;&#33410;&#65289; &#65292;&#20294;&#23545;&#20854;&#26045;&#21152;&#30340;&#25805;&#20316;&#26681;&#25454;&#25351;&#20196;&#21487;&#20197;&#26159;&#23383;&#25110;&#32773;&#23383;&#33410;&#65292;&#24403;&#25226;&#25805;&#20316;&#25968;&#24403;&#20316;&#23383;&#25110;&#32773;&#23383;&#33410;&#20351;&#29992;&#26102;&#65292;&#40664;&#35748;&#20026;&#20302;&#23383;&#25110;&#32773;&#20302;&#23383;&#33410;&#12290;</FONT><FONT class=extract>&#23545;&#23383;&#33410;&#25805;&#20316;&#21487;&#20197;&#26174;&#24335;&#30340;&#25351;&#26126;&#26159;&#20302;&#23383;&#33410;&#36824;&#26159;&#27425;&#23383;&#33410;&#12290;&#26041;&#27861;&#26159;&#22312;%&#21644;&#24207;&#21495;&#20043;&#38388;&#25554;&#20837;&#19968;&#20010;&#23383;&#27597;&#65292; &#8220;b&#8221;&#20195;&#34920;&#20302;&#23383;&#33410;&#65292; &#8220;h&#8221;&#20195;&#34920;&#39640;&#23383;&#33410;&#65292;&#20363;&#22914;&#65306;%h1,&#19978;&#38754;%w1&#34920;&#31034;2&#20010;&#23383;&#33410;</FONT><BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp; (2)&#36755;&#20986;&#37096;&#20998;&#25551;&#36848;&#36755;&#20986;&#25805;&#20316;&#25968;&#65292;<FONT class=extract>&#19981;&#21516;&#30340;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#20043;&#38388;&#29992;&#36887;&#21495;&#26684;&#24320;</FONT>&#65292;<FONT class=extract>&#27599;&#20010;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#30001;&#38480;&#23450;&#23383;&#31526;&#20018;&#21644; C &#35821;&#35328;&#21464;&#37327;&#32452;&#25104;&#12290;</FONT><FONT class=extract>&#27599;&#20010;&#36755;&#20986;&#25805;&#20316;&#25968;&#30340;&#38480;&#23450;&#23383;&#31526;&#20018;&#24517;&#39035;&#21253;&#21547;&#8220;=&#8221;&#34920;&#31034;&#20182;&#26159;&#19968;&#20010;&#36755;&#20986;&#25805;&#20316;&#25968;&#12290;</FONT>&#20363;&#22914;</SPAN></SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"=a"</SPAN><SPAN class=Apple-converted-space>&nbsp;</SPAN><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">(</SPAN>data<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)">)<SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#23601;&#26159;&#19968;&#20010;&#36755;&#20986;&#25805;&#20316;&#25968;&#65292;&#20854;</SPAN></SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#38480;&#23450;&#23383;&#31526;&#20018;&#20026;</SPAN></SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"=a"</SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#65292;(data)&#23601;&#26159;C&#35821;&#35328;&#21464;&#37327;&#12290;<BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp; (3)&#36755;&#20837;&#37096;&#20998;&#25551;&#36848;&#36755;&#20837;&#25805;&#20316;&#25968;&#65292;&#19981;&#21516;&#30340;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#20043;&#38388;&#20351;&#29992;&#36887;&#21495;&#26684;&#24320;&#65292;&#27599;&#20010;&#25805;&#20316;&#25968;&#25551;&#36848;&#31526;&#30001;&#38480;&#23450;&#23383;&#31526;&#20018;&#21644; C&#35821;&#35328;&#34920;&#36798;&#24335;&#25110;&#32773;C&#35821;&#35328;&#21464;&#37327;&#32452;&#25104;&#12290;<BR style="WORD-WRAP: break-word">&nbsp;&nbsp;&nbsp; (4)</SPAN></SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(255,0,255)">"inb %w1,%0"</SPAN></SPAN></CODE><CODE style="WORD-WRAP: break-word"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,0)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,0,204)"><SPAN style="WORD-WRAP: break-word; COLOR: rgb(0,1,2)">&#26159;&#25351;&#20196;&#27169;&#26495;&#65307;&#8220;%0&#8221;&#21644;&#8220;%w1&#8221;&#20195;&#34920;&#25351;&#20196;&#30340;&#25805;&#20316;&#25968;&#65292;&#31216;&#20026;&#21344;&#20301;&#31526;&#65292;&#20869;&#23884;&#27719;&#32534;&#38752;&#23427;&#20204;&#23558;C&#35821;&#35328;&#34920;&#36798;&#24335;&#19982;&#25351;&#20196;&#25805;&#20316;&#25968;&#30456;&#23545;&#24212;&#12290; "%w1"&#20013;&#8220;w&#8221;&#26159;&#38480;&#23450;&#23383;&#31526;&#12290;&#25351;&#20196;&#27169;&#26495;&#21518;&#38754;&#29992;&#23567;&#25324;&#21495;&#25324;&#36215;&#26469;&#30340;&#26159;C&#35821;&#35328;&#34920;&#36798;&#24335;&#65292; &#26412;&#20363;&#20013;&#21482;&#26377;&#20004;&#20010;&#65306;&#8220;data&#8221; &#21644;&#8220;port&#8221; &#65292; &#20182;&#20204;&#25353;&#29031;&#20986;&#29616;&#30340;&#39034;&#24207;&#20998;&#21035;&#19982;&#25351;&#20196;&#25805;&#20316;&#25968; &#8220;%0&#8221;,&#8220;%1&#8221;&#23545;&#24212;&#65307;&#27880;&#24847;&#23545;&#24212;&#39034;&#24207;&#65306;&#31532;&#19968;&#20010;C&#34920;&#36798;&#24335;&#23545;&#24212;&#8220;%0&#8221;&#65307;&#31532;&#20108;&#20010;&#34920;&#36798;&#24335;&#23545;&#24212;&#8220;%1&#8221; &#65292;&#20381;&#27425;&#31867;&#25512;&#65292;&#25805;&#20316;&#25968;&#33267;&#22810;&#26377; 10 &#20010;&#65292;&#20998;&#21035;&#29992;&#8220;%0&#8221;,&#8220;%1&#8221;&#8230;.&#8220;%9&#8221;&#34920;&#31034;&#12290;&#22312;&#27599;&#20010;&#25805;&#20316;&#25968;&#21069;&#38754;&#26377;&#19968;&#20010;&#29992;&#24341;&#21495;&#25324;&#36215;&#26469;&#30340;&#23383;&#31526;&#20018;&#65292;&#23383;&#31526;&#20018;&#30340;&#20869;&#23481;&#26159;&#23545;&#35813;&#25805;&#20316;&#25968;&#30340;&#38480;&#21046;&#25110;&#32773;&#35828;&#35201;&#27714;.</SPAN></SPAN></SPAN></CODE>