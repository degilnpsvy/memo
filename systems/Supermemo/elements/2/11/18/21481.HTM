###<BR># Cleaning is done on three levels.<BR># make clean&nbsp;&nbsp;&nbsp;&nbsp; Delete most generated files<BR>#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Leave enough to build external modules<BR># make mrproper&nbsp; Delete the current configuration, and all generated files<BR># make distclean Remove editor backup files, patch leftover files and the like</P>
<P># Directories &amp; files removed with 'make clean'<BR>CLEAN_DIRS&nbsp; += $(MODVERDIR)</P>
<P># Directories &amp; files removed with 'make mrproper'<BR>MRPROPER_DIRS&nbsp; += include/config usr/include include/generated&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \<BR>&nbsp;&nbsp;&nbsp; arch/*/include/generated .tmp_objdiff<BR>MRPROPER_FILES += .config .config.old .version .old_version \<BR>&nbsp;&nbsp;&nbsp; Module.symvers tags TAGS cscope* GPATH GTAGS GRTAGS GSYMS \<BR>&nbsp;&nbsp;&nbsp; signing_key.priv signing_key.x509 x509.genkey&nbsp;&nbsp;\<BR>&nbsp;&nbsp;&nbsp; extra_certificates signing_key.x509.keyid&nbsp;&nbsp;\<BR>&nbsp;&nbsp;&nbsp; signing_key.x509.signer vmlinux-gdb.py</P>
<P># clean - Delete most, but leave enough to build external modules<BR>#<BR>clean: rm-dirs&nbsp; := $(CLEAN_DIRS)<BR>clean: rm-files := $(CLEAN_FILES)<BR>clean-dirs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; := $(addprefix _clean_, . $(vmlinux-alldirs) Documentation samples)</P>
<P>PHONY += $(clean-dirs) clean archclean vmlinuxclean<BR>$(clean-dirs):<BR>&nbsp;$(Q)$(MAKE) $(clean)=$(patsubst _clean_%,%,$@)</P>
<P>vmlinuxclean:<BR>&nbsp;$(Q)$(CONFIG_SHELL) $(srctree)/scripts/link-vmlinux.sh clean</P>
<P>clean: archclean vmlinuxclean</P>
<P># mrproper - Delete all generated files, including .config<BR>#<BR>mrproper: rm-dirs&nbsp; := $(wildcard $(MRPROPER_DIRS))<BR>mrproper: rm-files := $(wildcard $(MRPROPER_FILES))<BR>mrproper-dirs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; := $(addprefix _mrproper_,Documentation/DocBook scripts)</P>
<P>PHONY += $(mrproper-dirs) mrproper archmrproper<BR>$(mrproper-dirs):<BR>&nbsp;$(Q)$(MAKE) $(clean)=$(patsubst _mrproper_%,%,$@)</P>
<P>mrproper: clean archmrproper $(mrproper-dirs)<BR>&nbsp;$(call cmd,rmdirs)<BR>&nbsp;$(call cmd,rmfiles)</P>
<P># distclean<BR>#<BR>PHONY += distclean</P>
<P>distclean: mrproper<BR>&nbsp;@find $(srctree) $(RCS_FIND_IGNORE) \<BR>&nbsp;&nbsp;\( -name '*.orig' -o -name '*.rej' -o -name '*~' \<BR>&nbsp;&nbsp;-o -name '*.bak' -o -name '#*#' -o -name '.*.orig' \<BR>&nbsp;&nbsp;-o -name '.*.rej' -o -name '*%'&nbsp; -o -name 'core' \) \<BR>&nbsp;&nbsp;-type f -print | xargs rm -f