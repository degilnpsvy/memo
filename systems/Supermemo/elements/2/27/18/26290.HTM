<I><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: Birka-Italic; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka-Italic; mso-font-kerning: 0pt">free_irq</SPAN></I><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: Birka; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka; mso-font-kerning: 0pt">. Here the </SPAN><SPAN lang=EN-US style="FONT-SIZE: 12pt; FONT-FAMILY: TheSansMonoCondensed-SemiLight; mso-bidi-font-size: 9.0pt; mso-bidi-font-family: TheSansMonoCondensed-SemiLight; mso-font-kerning: 0pt">dev_id </SPAN><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: Birka; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka; mso-font-kerning: 0pt">argument is used to select the correct handler to release from the list of shared handlers for the interrupt. That</SPAN><SPAN lang=EN-US style="FONT-SIZE: 14pt; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka; mso-font-kerning: 0pt; mso-fareast-font-family: Birka; mso-ascii-font-family: Birka">&#8217;</SPAN><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: Birka; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka; mso-font-kerning: 0pt">s why the </SPAN><SPAN lang=EN-US style="FONT-SIZE: 12pt; FONT-FAMILY: TheSansMonoCondensed-SemiLight; mso-bidi-font-size: 9.0pt; mso-bidi-font-family: TheSansMonoCondensed-SemiLight; mso-font-kerning: 0pt">dev_id </SPAN><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: Birka; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka; mso-font-kerning: 0pt">pointer must be unique.</SPAN> 
<P></P><SPAN lang=EN-US style="FONT-SIZE: 14pt; FONT-FAMILY: Birka; mso-bidi-font-size: 10.0pt; mso-bidi-font-family: Birka; mso-font-kerning: 0pt"><PRE><A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1455" name=1455>1455</A><SPAN class=c>/**
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1456" name=1456>1456</A> *	free_irq - free an interrupt allocated with request_irq
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1457" name=1457>1457</A> *	@irq: Interrupt line to free
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1458" name=1458>1458</A> *	@dev_id: Device identity to free
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1459" name=1459>1459</A> *
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1460" name=1460>1460</A> *	Remove an interrupt handler. The handler is removed and if the
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1461" name=1461>1461</A> *	interrupt line is no longer in use by any driver it is disabled.
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1462" name=1462>1462</A> *	On a shared IRQ the caller must ensure the interrupt is disabled
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1463" name=1463>1463</A> *	on the card it drives before calling this function. The function
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1464" name=1464>1464</A> *	does not return until any executing interrupts for this IRQ
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1465" name=1465>1465</A> *	have completed.
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1466" name=1466>1466</A> *
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1467" name=1467>1467</A> *	This function must not be called from interrupt context.
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1468" name=1468>1468</A> */</SPAN>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1469" name=1469>1469</A><B>void</B> <A class=xf name=free_irq></A><A class=xf href="http://172.21.12.145:8080/source/s?refs=free_irq&amp;project=linux-4.3">free_irq</A>(<B>unsigned</B> <B>int</B> <A class=xa name=irq></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=irq&amp;project=linux-4.3">irq</A>, <B>void</B> *<A class=xa name=dev_id></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=dev_id&amp;project=linux-4.3">dev_id</A>)
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1470" name=1470>1470</A>{
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1471" name=1471>1471</A>	<B>struct</B> <A href="http://172.21.12.145:8080/source/s?defs=irq_desc&amp;project=linux-4.3">irq_desc</A> *<A class=xl name=desc></A><A class=xl href="http://172.21.12.145:8080/source/s?refs=desc&amp;project=linux-4.3">desc</A> = <A href="http://172.21.12.145:8080/source/s?defs=irq_to_desc&amp;project=linux-4.3">irq_to_desc</A>(<A href="http://172.21.12.145:8080/source/s?defs=irq&amp;project=linux-4.3">irq</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1472" name=1472>1472</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1473" name=1473>1473</A>	<B>if</B> (!<A href="http://172.21.12.145:8080/source/s?defs=desc&amp;project=linux-4.3">desc</A> || <A href="http://172.21.12.145:8080/source/s?defs=WARN_ON&amp;project=linux-4.3">WARN_ON</A>(<A href="http://172.21.12.145:8080/source/s?defs=irq_settings_is_per_cpu_devid&amp;project=linux-4.3">irq_settings_is_per_cpu_devid</A>(<A href="http://172.21.12.145:8080/source/s?defs=desc&amp;project=linux-4.3">desc</A>)))
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1474" name=1474>1474</A>		<B>return</B>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1475" name=1475>1475</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1476" name=1476>1476</A>#<B>ifdef</B> <A href="http://172.21.12.145:8080/source/s?defs=CONFIG_SMP&amp;project=linux-4.3">CONFIG_SMP</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1477" name=1477>1477</A>	<B>if</B> (<A href="http://172.21.12.145:8080/source/s?defs=WARN_ON&amp;project=linux-4.3">WARN_ON</A>(<A href="http://172.21.12.145:8080/source/s?defs=desc&amp;project=linux-4.3">desc</A>-&gt;<A href="http://172.21.12.145:8080/source/s?defs=affinity_notify&amp;project=linux-4.3">affinity_notify</A>))
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1478" name=1478>1478</A>		<A href="http://172.21.12.145:8080/source/s?defs=desc&amp;project=linux-4.3">desc</A>-&gt;<A href="http://172.21.12.145:8080/source/s?defs=affinity_notify&amp;project=linux-4.3">affinity_notify</A> = <A href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.3">NULL</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1479" name=1479>1479</A>#<B>endif</B>
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1480" name=1480>1480</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1481" name=1481>1481</A>	<A href="http://172.21.12.145:8080/source/s?defs=chip_bus_lock&amp;project=linux-4.3">chip_bus_lock</A>(<A href="http://172.21.12.145:8080/source/s?defs=desc&amp;project=linux-4.3">desc</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1482" name=1482>1482</A>	<A href="http://172.21.12.145:8080/source/s?defs=kfree&amp;project=linux-4.3">kfree</A>(<A class=d href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#__free_irq">__free_irq</A>(<A href="http://172.21.12.145:8080/source/s?defs=irq&amp;project=linux-4.3">irq</A>, <A href="http://172.21.12.145:8080/source/s?defs=dev_id&amp;project=linux-4.3">dev_id</A>));
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1483" name=1483>1483</A>	<A href="http://172.21.12.145:8080/source/s?defs=chip_bus_sync_unlock&amp;project=linux-4.3">chip_bus_sync_unlock</A>(<A href="http://172.21.12.145:8080/source/s?defs=desc&amp;project=linux-4.3">desc</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1484" name=1484>1484</A>}
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.3/kernel/irq/manage.c#1485" name=1485>1485</A><A href="http://172.21.12.145:8080/source/s?defs=EXPORT_SYMBOL&amp;project=linux-4.3">EXPORT_SYMBOL</A>(<A class=xv name=free_irq></A><A class=xv href="http://172.21.12.145:8080/source/s?refs=free_irq&amp;project=linux-4.3">free_irq</A>);</PRE></SPAN>