<H1 style="FONT-FAMILY: serif; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Emacs Lisp: Writing Command to Accept universal-argument</H1><SECTION class=buy-book style="BORDER-TOP: silver thin solid; BORDER-RIGHT: silver thin solid; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: silver thin solid; TEXT-TRANSFORM: none; FLOAT: right; COLOR: rgb(0,0,0); PADDING-TOP: 0px; FONT: medium sans-serif; PADDING-LEFT: 0px; MARGIN-LEFT: 0px; BORDER-LEFT: silver thin solid; MARGIN-TOP: 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(210,254,185); MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; border-radius: 1rem">Buy<SPAN class=Apple-converted-space>&nbsp;</SPAN><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs/buy_xah_emacs_tutorial.html">Xah Emacs Tutorial</A>. Master emacs benefits for life.
</SECTION>
<DIV class=byline style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<ADDRESS class=author style="FONT-STYLE: normal; DISPLAY: inline"><A style="TEXT-DECORATION: none" href="mailto:xahlee@gmail.com" rel=author>Xah Lee</A></ADDRESS>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><TIME style="FONT-FAMILY: monospace; WHITE-SPACE: nowrap">2012-05-27</TIME>, &#8230;,<SPAN class=Apple-converted-space>&nbsp;</SPAN><TIME style="FONT-FAMILY: monospace; WHITE-SPACE: nowrap">2015-01-14</TIME></DIV>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">This page shows you how to make your emacs lisp command accept<CODE class=elisp-&#402; style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: nowrap; COLOR: rgb(178,34,34); BACKGROUND-COLOR: transparent">universal-argument</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD>&#12305; given by user.</P>
<H2 style="BORDER-TOP: gray thin solid; FONT-FAMILY: serif; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Problem</H2>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">You have written a emacs command. You want the command's behavior to be different if user presses &#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD>&#12305; before calling your command.</P>
<H3 style="FONT-FAMILY: serif; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Detail</H3>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Emacs has a mechanism for a command to have variant behavior if user calls<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE class=elisp-&#402; style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: nowrap; COLOR: rgb(178,34,34); BACKGROUND-COLOR: transparent">universal-argument</CODE>&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD>&#12305;.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The universal argument has many uses. It can let user repeat a command n times. For example, type &#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">20</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">-</KBD>&#12305; and it'll type out<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">--------------------</CODE>.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">For some commands, the universal argument is useful for variant behavior of the command. For example, in dired, typing<SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">w</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>will copy the file name (<CODE class=elisp-&#402; style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: nowrap; COLOR: rgb(178,34,34); BACKGROUND-COLOR: transparent">dired-copy-filename-as-kill</CODE>), but if you type &#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">0</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">w</KBD>&#12305;, the copied name will be file full path.</P>
<H2 style="BORDER-TOP: gray thin solid; FONT-FAMILY: serif; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Solution</H2>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">To make your command aware of universal argument, there are 3 simple ways:</P>
<UL style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<LI style="FONT-FAMILY: sans-serif">&#9312; the global variable<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR class=elisp style="WHITE-SPACE: nowrap; COLOR: green">current-prefix-arg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>holds the value of universal argument.</LI>
<LI style="FONT-FAMILY: sans-serif">&#9313; Add<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">(interactive "P")</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to your function. It will pass the value of<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR class=elisp style="WHITE-SPACE: nowrap; COLOR: green">current-prefix-arg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>to your function's first argument.</LI>
<LI style="FONT-FAMILY: sans-serif">&#9314; Add<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">(interactive "p")</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to your function. It will pass converted numerical value of<VAR class=elisp style="WHITE-SPACE: nowrap; COLOR: green">current-prefix-arg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>to your function's first argument.</LI></UL>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Example:</P><PRE class=emacs-lisp style="BORDER-TOP: gray thin solid; BORDER-RIGHT: gray thin solid; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MIN-WIDTH: 44%; BORDER-BOTTOM: gray thin solid; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); PADDING-TOP: 0px; FONT: medium 'DejaVu Sans Mono', monospace; PADDING-LEFT: 0px; MARGIN-LEFT: 0px; BORDER-LEFT: gray thin solid; MARGIN-TOP: 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(245,255,245); MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">(<SPAN class=keyword style="COLOR: rgb(160,32,240)">defun</SPAN> f (x)
  <SPAN class=string style="COLOR: rgb(139,34,82)">"print argument received"</SPAN>
  (<SPAN class=function-name style="COLOR: rgb(0,0,255)">interactive</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"P"</SPAN>)
  (<SPAN class=keyword style="COLOR: rgb(160,32,240)">message</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"%s"</SPAN> x)
  <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">;; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">value of x is from universal argument, or nil if universal-argument isn't called
</SPAN>)</PRE>
<H3 style="FONT-FAMILY: serif; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Possible Values of Universal Argument</H3>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The following table shows the possible values of<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR class=elisp style="WHITE-SPACE: nowrap; COLOR: green">current-prefix-arg</VAR>.</P>
<TABLE class=nrm style="WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-COLLAPSE: collapse; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium sans-serif; MARGIN-LEFT: 0px; MARGIN-TOP: 0px; LETTER-SPACING: normal; MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">
<TBODY>
<TR>
<TH style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(215,228,242)">Key Input</TH>
<TH style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(215,228,242)">Value of current-prefix-arg</TH>
<TH style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(215,228,242)">Numerical Value</TH></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">No universal arg called.</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px"><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">nil</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">1</TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">-</KBD>&#12305;</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">Symbol<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">-</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">-1</TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">-</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">2</KBD>&#12305;</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">Number<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">-2</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">-2</TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">1</KBD>&#12305;</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">Number<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">1</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">1</TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">4</KBD>&#12305;</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">Number<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">4</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">4</TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD>&#12305;</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">List<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">'(4)</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">4</TD></TR>
<TR>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">&#12304;<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN><KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Ctrl</KBD>+<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">u</KBD>&#12305;</TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">List<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">'(16)</CODE></TD>
<TD style="BORDER-TOP: rgb(128,128,128) thin solid; BORDER-RIGHT: rgb(128,128,128) thin solid; BORDER-BOTTOM: rgb(128,128,128) thin solid; PADDING-TOP: 0px; PADDING-LEFT: 0px; BORDER-LEFT: rgb(128,128,128) thin solid; PADDING-RIGHT: 0px">16</TD></TR></TBODY></TABLE>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px"><SPAN class=ref style="FONT-FAMILY: monospace; BACKGROUND-COLOR: rgb(232,255,255)"><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs_manual/elisp/Prefix-Command-Arguments.html">(info "(elisp) Prefix Command Arguments")</A></SPAN></P>
<H2 style="BORDER-TOP: gray thin solid; FONT-FAMILY: serif; FONT-VARIANT: normal; WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT-STYLE: normal; LETTER-SPACING: normal; LINE-HEIGHT: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Complex Example</H2>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Sometimes you do not want your function's parameter spec to explicitly contain universal argument, because it is not relevant to the function. So,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">(interactive "P")</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not appropriate. For example, suppose you are writing this command:</P><PRE class=emacs-lisp style="BORDER-TOP: gray thin solid; BORDER-RIGHT: gray thin solid; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MIN-WIDTH: 44%; BORDER-BOTTOM: gray thin solid; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); PADDING-TOP: 0px; FONT: medium 'DejaVu Sans Mono', monospace; PADDING-LEFT: 0px; MARGIN-LEFT: 0px; BORDER-LEFT: gray thin solid; MARGIN-TOP: 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(245,255,245); MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">(<SPAN class=keyword style="COLOR: rgb(160,32,240)">defun</SPAN> wrap-html-tag (tagName <SPAN class=type style="COLOR: rgb(34,139,34)">&amp;optional</SPAN> className id)
  <SPAN class=string style="COLOR: rgb(139,34,82)">"Add a HTML tag to beginning and ending of current word or text selection."</SPAN>
)</PRE>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Your command will create a HTML tag like this:</P><PRE class=html style="BORDER-TOP: gray thin solid; BORDER-RIGHT: gray thin solid; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MIN-WIDTH: 44%; BORDER-BOTTOM: gray thin solid; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); PADDING-TOP: 0px; FONT: medium 'DejaVu Sans Mono', monospace; PADDING-LEFT: 0px; MARGIN-LEFT: 0px; BORDER-LEFT: gray thin solid; MARGIN-TOP: 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(243,230,217); MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">cat
   &#8595;
&lt;<SPAN class=function-name style="COLOR: rgb(0,0,255)">div</SPAN>&gt;cat&lt;/<SPAN class=function-name style="COLOR: rgb(0,0,255)">div</SPAN>&gt;
or
&lt;<SPAN class=function-name style="COLOR: rgb(0,0,255)">div</SPAN> <SPAN class=variable-name style="COLOR: rgb(159,81,45)">class</SPAN>=<SPAN class=string style="COLOR: rgb(139,34,82)">"xyz"</SPAN>&gt;cat&lt;/<SPAN class=function-name style="COLOR: rgb(0,0,255)">div</SPAN>&gt;
or
&lt;<SPAN class=function-name style="COLOR: rgb(0,0,255)">div</SPAN> <SPAN class=variable-name style="COLOR: rgb(159,81,45)">id</SPAN>=<SPAN class=string style="COLOR: rgb(139,34,82)">"id8295"</SPAN> <SPAN class=variable-name style="COLOR: rgb(159,81,45)">class</SPAN>=<SPAN class=string style="COLOR: rgb(139,34,82)">"xyz"</SPAN>&gt;cat&lt;/<SPAN class=function-name style="COLOR: rgb(0,0,255)">div</SPAN>&gt;</PRE>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">When called interactively, it can prompt user to enter &#8220;class&#8221; and &#8220;id&#8221; values. If user just press<KBD style="BORDER-TOP: rgb(194,194,194) 1px solid; FONT-FAMILY: sans-serif; BORDER-RIGHT: rgb(194,194,194) 1px solid; BORDER-BOTTOM: rgb(194,194,194) 1px solid; BORDER-LEFT: rgb(194,194,194) 1px solid; BACKGROUND-COLOR: rgb(240,240,240); border-radius: 4px; box-shadow: silver 1px 1px">Enter&nbsp;&#8629;</KBD><SPAN class=Apple-converted-space>&nbsp;</SPAN>without giving them any value, then don't add these attributes to the tag.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">However, often, the prompting for &#8220;class&#8221; and &#8220;id&#8221; are annoying, because, in practice, many tags don't need them. &#8278; {<CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">&lt;b&gt;bold&lt;/b&gt;</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">&lt;i&gt;italic&lt;/i&gt;</CODE>}.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">So, you want your command to do extra prompt only when preceded by<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE class=elisp-&#402; style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: nowrap; COLOR: rgb(178,34,34); BACKGROUND-COLOR: transparent">universal-argument</CODE>.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">Here's solution:</P><PRE class=emacs-lisp style="BORDER-TOP: gray thin solid; BORDER-RIGHT: gray thin solid; WHITE-SPACE: pre-wrap; WORD-SPACING: 0px; MIN-WIDTH: 44%; BORDER-BOTTOM: gray thin solid; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); PADDING-TOP: 0px; FONT: medium 'DejaVu Sans Mono', monospace; PADDING-LEFT: 0px; MARGIN-LEFT: 0px; BORDER-LEFT: gray thin solid; MARGIN-TOP: 0px; LETTER-SPACING: normal; PADDING-RIGHT: 0px; BACKGROUND-COLOR: rgb(245,255,245); MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">(<SPAN class=keyword style="COLOR: rgb(160,32,240)">defun</SPAN> wrap-html-tag (tagName <SPAN class=type style="COLOR: rgb(34,139,34)">&amp;optional</SPAN> className &#958;id)
  <SPAN class=string style="COLOR: rgb(139,34,82)">"Add a HTML tag to beginning and ending of current word or text selection.

When preceded with `universal-argument',
no arg = prompt for tag, class.
2 = prompt for tag, id.
any = prompt for tag, id, class.

When called interactively,
Default id value is &#12300;id&#8249;random number&#8250;&#12301;.
Default class value is &#12300;xyz&#12301;.

When called in lisp program, if className is nil or empty string, don't add the attribute. Same for &#958;id."</SPAN>
  (<SPAN class=function-name style="COLOR: rgb(0,0,255)">interactive</SPAN>
   (<SPAN class=keyword style="COLOR: rgb(160,32,240)">cond</SPAN>
    ((<SPAN class=keyword style="COLOR: rgb(160,32,240)">equal</SPAN> current-prefix-arg <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN>)     <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">universal-argument not called
</SPAN>     (<SPAN class=keyword style="COLOR: rgb(160,32,240)">list</SPAN>
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"Tag (span):"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"span"</SPAN>) ))
    ((<SPAN class=keyword style="COLOR: rgb(160,32,240)">equal</SPAN> current-prefix-arg '(4))    <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">C-u
</SPAN>     (<SPAN class=keyword style="COLOR: rgb(160,32,240)">list</SPAN>
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"Tag (span):"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"span"</SPAN>)
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"Class (xyz):"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"xyz"</SPAN>) ))
    ((<SPAN class=keyword style="COLOR: rgb(160,32,240)">equal</SPAN> current-prefix-arg 2)       <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">C-u 2
</SPAN>     (<SPAN class=keyword style="COLOR: rgb(160,32,240)">list</SPAN>
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"Tag (span):"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"span"</SPAN>)
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"id:"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> (<SPAN class=keyword style="COLOR: rgb(160,32,240)">format</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"id%d"</SPAN> (<SPAN class=keyword style="COLOR: rgb(160,32,240)">random</SPAN> (<SPAN class=keyword style="COLOR: rgb(160,32,240)">expt</SPAN> 2 28 ))))
      ))
    (<SPAN class=keyword style="COLOR: rgb(160,32,240)">t</SPAN>                                  <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">all other cases
</SPAN>     (<SPAN class=keyword style="COLOR: rgb(160,32,240)">list</SPAN>
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"Tag (span):"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"span"</SPAN>)
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"Class (xyz):"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"xyz"</SPAN>)
      (<SPAN class=function-name style="COLOR: rgb(0,0,255)">read-string</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"id:"</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> <SPAN class=keyword style="COLOR: rgb(160,32,240)">nil</SPAN> (<SPAN class=keyword style="COLOR: rgb(160,32,240)">format</SPAN> <SPAN class=string style="COLOR: rgb(139,34,82)">"id%d"</SPAN> (<SPAN class=keyword style="COLOR: rgb(160,32,240)">random</SPAN> (<SPAN class=keyword style="COLOR: rgb(160,32,240)">expt</SPAN> 2 28 )))) )) ) )

  <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">;; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">now, all the parameters of your function is filled.
</SPAN>  <SPAN class=comment-delimiter style="COLOR: rgb(178,34,34)">;; </SPAN><SPAN class=comment style="COLOR: rgb(178,34,34)">code body here
</SPAN>  )</PRE>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">(interactive &#8230;)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is used to fill out the parameters, when your function is called by user interactively (as opposed to from a lisp program).</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">One way to use the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE class=elisp-&#402; style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: nowrap; COLOR: rgb(178,34,34); BACKGROUND-COLOR: transparent">interactive</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>function is for it to return a list. This list's element will be fed to the function as arguments.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">In our code, we use a conditional<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: pre-wrap; COLOR: maroon">(cond &#8230;)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to check the values of<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR class=elisp style="WHITE-SPACE: nowrap; COLOR: green">current-prefix-arg</VAR>. If it's<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR class=elisp style="WHITE-SPACE: nowrap; COLOR: green">nil</VAR>, then that means<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE class=elisp-&#402; style="FONT-FAMILY: 'DejaVu Sans Mono', monospace; WHITE-SPACE: nowrap; COLOR: rgb(178,34,34); BACKGROUND-COLOR: transparent">universal-argument</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not called. So, we simply prompt for the tag name. But if the value is other, then we prompt for more.</P>
<P style="WHITE-SPACE: normal; WORD-SPACING: 0px; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); FONT: medium/1.5 sans-serif; LETTER-SPACING: normal; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px">The weird &#958; you see in my elisp code is Greek x. I use Unicode char in symbol name for easy distinction from builtin symbols. You can just ignore it. &#12308;&#10148;&nbsp;<A style="TEXT-DECORATION: none; box-shadow: 0px 1px" href="http://xahlee.info/comp/programing_variable_naming.html">Programing Style: Variable Naming: English Words Considered Harmful</A>&#12309;</P>
<DIV class=rltd style="BORDER-TOP: silver thin solid; BORDER-RIGHT: silver thin solid; WHITE-SPACE: normal; WORD-SPACING: 0px; BORDER-BOTTOM: silver thin solid; TEXT-TRANSFORM: none; COLOR: rgb(0,0,0); PADDING-TOP: 0px; FONT: medium sans-serif; PADDING-LEFT: 0px; MARGIN-LEFT: 0px; BORDER-LEFT: silver thin solid; MARGIN-TOP: 0px; DISPLAY: table; LETTER-SPACING: normal; PADDING-RIGHT: 0px; MARGIN-RIGHT: 0px; TEXT-INDENT: 0px; -webkit-text-stroke-width: 0px; border-radius: 0.5rem">
<UL style="MARGIN: 0px">
<LI style="FONT-FAMILY: sans-serif"><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs/elisp_optional_params.html">Emacs Lisp Functions Optional Parameters</A></LI>
<LI style="FONT-FAMILY: sans-serif"><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs/inline_doc.html">Emacs Function's Inline Doc String Markups</A></LI>
<LI style="FONT-FAMILY: sans-serif"><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs/elisp_examples.html">Emacs Lisp Examples</A></LI>
<LI style="FONT-FAMILY: sans-serif"><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs/elisp_common_functions.html">Common Emacs Lisp Functions</A></LI>
<LI style="FONT-FAMILY: sans-serif"><A style="TEXT-DECORATION: none" href="http://ergoemacs.org/emacs/elisp_idioms.html">Emacs Lisp Idioms for Writing Interactive Commands</A></LI></UL></DIV><BR class=Apple-interchange-newline>