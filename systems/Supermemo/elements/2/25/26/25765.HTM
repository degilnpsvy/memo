struct class_attribute {<BR>&nbsp;struct attribute attr;<BR>&nbsp;ssize_t (*show)(struct class *class, struct class_attribute *attr,<BR>&nbsp;&nbsp;&nbsp;char *buf);<BR>&nbsp;ssize_t (*store)(struct class *class, struct class_attribute *attr,<BR>&nbsp;&nbsp;&nbsp;const char *buf, size_t count);<BR>};
<P></P>
<P>#define CLASS_ATTR(_name, _mode, _show, _store) \<BR>&nbsp;struct class_attribute class_attr_##_name = __ATTR(_name, _mode, _show, _store)<BR>#define CLASS_ATTR_RW(_name) \<BR>&nbsp;struct class_attribute class_attr_##_name = __ATTR_RW(_name)<BR>#define CLASS_ATTR_RO(_name) \<BR>&nbsp;struct class_attribute class_attr_##_name = __ATTR_RO(_name)</P>
<P>extern int __must_check class_create_file_ns(struct class *class,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const struct class_attribute *attr,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const void *ns);<BR>extern void class_remove_file_ns(struct class *class,<BR>&nbsp;&nbsp;&nbsp;&nbsp; const struct class_attribute *attr,<BR>&nbsp;&nbsp;&nbsp;&nbsp; const void *ns);</P>
<P>static inline int __must_check class_create_file(struct class *class,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const struct class_attribute *attr)<BR>{<BR>&nbsp;return class_create_file_ns(class, attr, NULL);<BR>}</P>
<P>static inline void class_remove_file(struct class *class,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; const struct class_attribute *attr)<BR>{<BR>&nbsp;return class_remove_file_ns(class, attr, NULL);<BR>}