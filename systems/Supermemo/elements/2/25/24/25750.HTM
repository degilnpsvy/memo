return !list_empty(head) &amp;&amp; (head-&gt;next == head-&gt;prev);