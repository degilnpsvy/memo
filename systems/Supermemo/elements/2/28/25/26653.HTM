D1.2.140 ITM_TCR, ITM Trace Control Register 
<P></P>
<P>The ITM_TCR characteristics are:<BR>Purpose Configures and controls transfers through the ITM interface.<BR>Usage constraints If the Main Extension is implemented, both privileged and unprivileged accesses are<BR>permitted, but unprivileged writes are ignored.<BR>If the Main Extension is not implemented, unprivileged accesses generate a BusFault.<BR>This register is word accessible only. Halfword and byte accesses are UNPREDICTABLE.<BR>Configurations Present only if the ITM is implemented.<BR>This register is RES0 if the ITM is not implemented.<BR>If the Main Extension is not implemented then the ITM is not implemented.<BR>Attributes 32-bit read/write register located at 0xE0000E80.<BR>This register is not banked between Security states.<BR>Field descriptions<BR>The ITM_TCR bit assignments are:<BR>Bits [31:24]<BR>Reserved, RES0.<BR>BUSY, bit [23]<BR>ITM busy. Indicates whether the ITM is currently processing events.<BR>The possible values of this bit are:<BR>0 ITM is not processing any events.<BR>1 Events present and being drained.<BR>Events means the ITM is generating or processing any of:<BR>&#8226; Packets generated by the ITM from writes to Stimulus Ports.<BR>&#8226; Other packets generated by the ITM itself.<BR>&#8226; Packets generated by the DWT.<BR>This bit is read-only.<BR>TraceBusID, bits [22:16]<BR>Trace bus identity. Identifier for multi-source trace stream formatting. If multi-source trace is in use,<BR>the debugger must write a unique non-zero trace ID value to this field.<BR>The possible values of this field are:<BR>0x00 Multi-source trace not in use.<BR>0x01-0x6F Unique trace ID value to be used for ITM trace packets.<BR>All other values are reserved. If the ITM is the only trace source in the system, this field might be<BR>RAZ.<BR>This field resets to an UNKNOWN value on a Cold reset.<BR>Bits [15:12]<BR>Reserved, RES0.<BR>GTSFREQ, bits [11:10]<BR>Global timestamp frequency. Defines how often the ITM generates a global timestamp, based on the<BR>global timestamp clock frequency, or disables generation of global timestamps.<BR>The possible values of this field are:<BR>0b00 Disable generation of Global Timestamp packets.<BR>0b01 Generate timestamp request whenever the ITM detects a change in global timestamp<BR>counter bits [47:7]. This is approximately every 128 cycles.<BR>0b10 Generate timestamp request whenever the ITM detects a change in global timestamp<BR>counter bits [47:13]. This is approximately every 8192 cycles.<BR>0b11 Generate a timestamp after every packet, if the output FIFO is empty.<BR>If the implementation does not support global timestamping then these bits are reserved, RAZ/WI.<BR>This field resets to zero on a Cold reset.<BR>TSPrescale, bits [9:8]<BR>Timestamp prescale. Local timestamp prescaler, used with the trace packet reference clock.<BR>The possible values of this field are:<BR>0b00 No prescaling.<BR>0b01 Divide by 4.<BR>0b10 Divide by 16.<BR>0b11 Divide by 64.<BR>If the processor does not implement the timestamp prescaler then these bits are reserved, RAZ/WI.<BR>This field resets to zero on a Cold reset.<BR>Bits [7:6]<BR>Reserved, RES0.<BR>STALLENA, bit [5]<BR>Stall enable. Stall the PE to guarantee delivery of Data Trace packets.<BR>The possible values of this bit are:<BR>0 Drop Hardware Source packets and generate an Overflow packet if the ITM output is<BR>stalled.<BR>1 Stall the PE to guarantee delivery of Data Trace packets.<BR>If stalling is not implemented, this bit is RAZ/WI.<BR>SWOENA, bit [4]<BR>SWO enable. Enables asynchronous clocking of the timestamp counter.<BR>The possible values of this bit are:<BR>0 Timestamp counter uses the processor system clock.<BR>1 Timestamp counter uses asynchronous clock from the TPIU interface. The timestamp<BR>counter is held in reset while the output line is idle.<BR>Which clocking modes are implemented is IMPLEMENTATION DEFINED. If the implementation does<BR>not support both modes this bit is either RAZ or RAO, to indicate the implemented mode.<BR>This bit resets to an UNKNOWN value on a Cold reset.<BR>TXENA, bit [3]<BR>Transmit enable. Enables forwarding of hardware event packet from the DWT unit to the ITM for<BR>output to the TPIU.<BR>The possible values of this bit are:<BR>0 Disabled.<BR>1 Enabled.<BR>It is IMPLEMENTATION DEFINED whether the DWT discards packets that it cannot forward to the<BR>ITM.<BR>This bit resets to zero on a Cold reset.<BR>Note<BR>If a debugger changes this bit from 0 to 1, the DWT might forward a hardware event packet that it<BR>has previously generated.<BR>SYNCENA, bit [2]<BR>Synchronization enable. Enables Synchronization packet transmission for a synchronous TPIU.<BR>The possible values of this bit are:<BR>0 Disabled.<BR>1 Enabled.<BR>This bit resets to zero on a Cold reset.<BR>Note<BR>If a debugger sets this bit to 1 it must also configure DWT_CTRL.SYNCTAP for the correct<BR>synchronization speed.<BR>TSENA, bit [1]<BR>Timestamp enable. Enables Local timestamp generation.<BR>The possible values of this bit are:<BR>0 Disabled.<BR>1 Enabled.<BR>This bit resets to zero on a Cold reset.<BR>ITMENA, bit [0]<BR>ITM enable. Enables the ITM.<BR>The possible values of this bit are:<BR>0 Disabled.<BR>1 Enabled.<BR>This is the master enable for the ITM unit. A debugger must set this bit to 1 to permit writes to all<BR>Stimulus Port registers.<BR>This bit resets to zero on a Cold reset.