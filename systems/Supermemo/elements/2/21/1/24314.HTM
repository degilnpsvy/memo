/* Statically declare a mutex. To dynamically create a mutex, use mutex_init() */ 
<P></P>
<P>static DEFINE_MUTEX(mymutex); </P>
<P>/* Acquire the mutex. This is inexpensive if there * is no one inside the critical section. In the face of * contention, mutex_lock() puts the calling thread to sleep. */ </P>
<P>mutex_lock(&amp;mymutex); </P>
<P>/* ... Critical Section code ... */ </P>
<P>mutex_unlock(&amp;mymutex); </P>
<P>/* Release the mutex */