<SPAN class=docEmphStrong>User-Defined Notifier Chain</SPAN></TD> <TD class=docTableCell vAlign="top" align="left"><A class=docLink href="http://www.embeddedlinux.org.cn/EssentialLinuxDeviceDrivers/final/ch03lev1sec2.html#ch03ex06">Listing 3.6</A> also implements a user-defined notifier chain, <TT>my_noti_chain</TT><A name="whenever a"></A>. Assume that you want an event to be generated whenever a user reads from a particular file in the process filesystem. Add the following in the associated procfs <TT>read</TT> routine: 
<DIV class=docText><PRE>blocking_notifier_call_chain(&amp;my_noti_chain, 100, NULL);</PRE></DIV><BR>
<P class=docText>This results in the invocation of <TT>my_event_handler()</TT> whenever you read from the corresponding <SPAN class=docEmphasis>/proc</SPAN> file and results in the following message: 
<DIV class=docText><PRE>my_event_handler: Val=100</PRE></DIV><BR>
<P></P><TT>Val</TT><A name="which is"></A> contains the identity of the generated event, which is <TT>100</TT> for this example. The function argument is left unused.</TD>