It's a good idea to enable <FONT class=clozed>SMP (<TT>CONFIG_SMP</TT>) and preemption (<TT>CONFIG_PREEMPT</TT></FONT><A name="is going"></A><FONT class=clozed>)</FONT> while compiling and testing your code, even if your production kernel is going to run on a UP machine with preemption disabled.