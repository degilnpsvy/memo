<P class=docText>Many applications need the concept of absolute time or <SPAN class=docEmphasis>wall time.</SPAN> Because <TT>jiffies</TT><A name="relative to"></A> is relative to the time when the system booted, it does not contain wall time. The kernel maintains wall time in a variable called <FONT class=clozed><TT>xtime</TT>. During boot, <TT>xtime</TT></FONT><A name="When the"></A><FONT class=clozed> is initialized to the current wall time by reading the RTC. When the system halts, the wall time is written back to the RTC. You can use <TT>do_gettimeofday()</TT></FONT><A name="to read"></A><FONT class=clozed> to read wall time with the highest resolution supported by the hardware:</FONT></P>
<DIV class=docText><PRE><FONT class=clozed>#include <LINUX time.h="">
static struct timeval curr_time;
do_gettimeofday(&amp;curr_time);
my_timestamp = cpu_to_le32(curr_time.tv_sec); /* Record timestamp */</FONT></PRE></DIV>