spinlock_t mylock = SPIN_LOCK_UNLOCKED; !!!Nothing like this now!
<P></P>
<P>/* Initialize */ </P>
<P>/* Acquire the spinlock. This is inexpensive if there </P>
<P>* is no one inside the critical section. In the face of </P>
<P>* contention, spinlock() has to busy-wait. </P>
<P>*/ </P>
<P>spin_lock(&amp;mylock); </P>
<P>/* ... Critical Section code ... */ </P>
<P>spin_unlock(&amp;mylock); </P>
<P>/* Release the lock */