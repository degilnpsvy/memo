<P class=docText><TT>xtime</TT>. During boot, <TT>xtime</TT><A name="When the"></A> is initialized to the current wall time by reading the RTC. When the system halts, the wall time is written back to the RTC. You can use <TT>do_gettimeofday()</TT><A name="to read"></A> to read wall time with the highest resolution supported by the hardware:</P>
<DIV class=docText><PRE>#include &lt;linux/timekeeping.h&gt;<LINUX time.h="">
static struct timeval curr_time;
do_gettimeofday(&amp;curr_time);
my_timestamp = cpu_to_le32(curr_time.tv_sec); /* Record timestamp */</PRE></DIV>