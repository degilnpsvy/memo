void __vma_link_list(struct mm_struct *mm, struct vm_area_struct *vma,<BR>&nbsp;&nbsp;struct vm_area_struct *prev, struct rb_node *rb_parent)<BR>{<BR>&nbsp;struct vm_area_struct *next;</P>
<P>&nbsp;vma-&gt;vm_prev = prev;<BR>&nbsp;if (prev) {<BR>&nbsp;&nbsp;next = prev-&gt;vm_next;<BR>&nbsp;&nbsp;prev-&gt;vm_next = vma;<BR>&nbsp;} else {<BR>&nbsp;&nbsp;mm-&gt;mmap = vma;<BR>&nbsp;&nbsp;if (rb_parent)<BR>&nbsp;&nbsp;&nbsp;next = rb_entry(rb_parent,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct vm_area_struct, vm_rb);<BR>&nbsp;&nbsp;else<BR>&nbsp;&nbsp;&nbsp;next = NULL;<BR>&nbsp;}<BR>&nbsp;vma-&gt;vm_next = next;<BR>&nbsp;if (next)<BR>&nbsp;&nbsp;next-&gt;vm_prev = vma;<BR>}