/**<BR>&nbsp;* <FONT class=clozed>kstrdup_const</FONT> - conditionally duplicate an existing const string<BR>&nbsp;* @s: the string to duplicate<BR>&nbsp;* @gfp: the GFP mask used in the kmalloc() call when allocating memory<BR>&nbsp;*<BR>&nbsp;* Function returns source string if it is in .rodata section otherwise it<BR>&nbsp;* fallbacks to kstrdup.<BR>&nbsp;* Strings allocated by kstrdup_const should be freed by kfree_const.<BR>&nbsp;*/<BR>const char *kstrdup_const(const char *s, gfp_t gfp)<BR>{<BR>&nbsp;if (is_kernel_rodata((unsigned long)s))<BR>&nbsp;&nbsp;return s; 
<P></P>
<P>&nbsp;return kstrdup(s, gfp);<BR>}<BR>EXPORT_SYMBOL(kstrdup_const);