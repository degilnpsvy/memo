static inline int is_kernel_rodata(unsigned long addr)<BR>{<BR>&nbsp;return addr &gt;= (unsigned long)__start_rodata &amp;&amp;<BR>&nbsp;&nbsp;addr &lt; (unsigned long)__end_rodata;<BR>}
<P></P>
<P>/**<BR>&nbsp;* kfree_const - conditionally free memory<BR>&nbsp;* @x: pointer to the memory<BR>&nbsp;*<BR>&nbsp;* Function calls kfree only if @x is not in .rodata section.<BR>&nbsp;*/<BR>void kfree_const(const void *x)<BR>{<BR>&nbsp;if (!is_kernel_rodata((unsigned long)x))<BR>&nbsp;&nbsp;kfree(x);<BR>}<BR>EXPORT_SYMBOL(kfree_const);