struct user;
<P></P>
<P>&nbsp;</P>
<P>In arch/arm/include/asm/user.h</P>
<P>/* When the kernel dumps core, it starts by dumping the user struct -<BR>&nbsp;&nbsp; this will be used by gdb to figure out where the data and stack segments<BR>&nbsp;&nbsp; are within the file, and what virtual addresses to use. */<BR>struct user{<BR>/* We start with the registers, to mimic the way that "memory" is returned<BR>&nbsp;&nbsp; from the ptrace(3,...) function.&nbsp; */<BR>&nbsp; struct pt_regs regs;&nbsp;&nbsp;/* Where the registers are actually stored */<BR>/* ptrace does not yet supply these.&nbsp; Someday.... */<BR>&nbsp; int u_fpvalid;&nbsp;&nbsp;/* True if math co-processor being used. */<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* for this mess. Not yet used. */<BR>/* The rest of this junk is to help gdb figure out what goes where */<BR>&nbsp; unsigned long int u_tsize;&nbsp;/* Text segment size (pages). */<BR>&nbsp; unsigned long int u_dsize;&nbsp;/* Data segment size (pages). */<BR>&nbsp; unsigned long int u_ssize;&nbsp;/* Stack segment size (pages). */<BR>&nbsp; unsigned long start_code;&nbsp;&nbsp;&nbsp;&nbsp; /* Starting virtual address of text. */<BR>&nbsp; unsigned long start_stack;&nbsp;/* Starting virtual address of stack area.<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This is actually the bottom of the stack,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; the top of the stack is always found in the<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; esp register.&nbsp; */<BR>&nbsp; long int signal;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;/* Signal that caused the core dump. */<BR>&nbsp; int reserved;&nbsp;&nbsp;&nbsp;/* No longer used */<BR>&nbsp; unsigned long u_ar0;&nbsp;&nbsp;/* Used by gdb to help find the values for */<BR>&nbsp;&nbsp;&nbsp;&nbsp;/* the registers. */<BR>&nbsp; unsigned long magic;&nbsp;&nbsp;/* To uniquely identify a core file */<BR>&nbsp; char u_comm[32];&nbsp;&nbsp;/* User command that was responsible */<BR>&nbsp; int u_debugreg[8];&nbsp;&nbsp;/* No longer used */<BR>&nbsp; struct user_fp u_fp;&nbsp;&nbsp;/* FP state */<BR>&nbsp; struct user_fp_struct * u_fp0;/* Used by gdb to help find the values for */<BR>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;/* the FP registers. */<BR>};