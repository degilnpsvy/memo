device&#30340;&#27880;&#20876;&#26368;&#32456;&#26159;&#30001;<FONT class=clozed>device_add</FONT>&#25509;&#21475;&#65288;drivers/base/core.c&#65289;&#23454;&#29616;&#20102;&#65292;&#35813;&#25509;&#21475;&#20013;&#21644;class&#26377;&#20851;&#30340;&#21160;&#20316;&#21253;&#25324;&#65306; 
<P></P>
<UL>
<LI>&#35843;&#29992;device_add_class_symlinks&#25509;&#21475;&#65292;&#21019;&#24314;3.1&#23567;&#33410;&#25551;&#36848;&#30340;&#21508;&#31181;&#31526;&#21495;&#38142;&#25509;&#65292;&#21363;&#65306;&#22312;&#23545;&#24212;class&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;&#25351;&#21521;device&#30340;&#31526;&#21495;&#38142;&#25509;&#65307;&#22312;device&#30340;&#30446;&#24405;&#19979;&#65292;&#21019;&#24314;&#21517;&#31216;&#20026;subsystem&#12289;&#25351;&#21521;&#23545;&#24212;class&#30446;&#24405;&#30340;&#31526;&#21495;&#38142;&#25509; 
<LI>&#35843;&#29992;device_add_attrs&#65292;&#28155;&#21152;&#30001;class&#25351;&#23450;&#30340;attributes&#65288;class-&gt;dev_attrs&#65289; 
<LI>&#22914;&#26524;&#23384;&#22312;&#23545;&#24212;&#35813;class&#30340;add_dev&#22238;&#35843;&#20989;&#25968;&#65292;&#35843;&#29992;&#35813;&#22238;&#35843;&#20989;&#25968; </LI></UL><PRE class="prettyprint lang-c"><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L954" name=L954><SPAN class=lit><FONT size=4>954</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><B><I><SPAN class=com>/**</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L955" name=L955><SPAN class=com><FONT size=4>955</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * device_add - add device to device hierarchy.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L956" name=L956><SPAN class=com><FONT size=4>956</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * @dev: device.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L957" name=L957><SPAN class=com><FONT size=4>957</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> *</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L958" name=L958><SPAN class=com><FONT size=4>958</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * This is part 2 of device_register(), though may be called</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L959" name=L959><SPAN class=com><FONT size=4>959</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * separately _iff_ device_initialize() has been called separately.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L960" name=L960><SPAN class=com><FONT size=4>960</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> *</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L961" name=L961><SPAN class=com><FONT size=4>961</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * This adds @dev to the kobject hierarchy via kobject_add(), adds it</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L962" name=L962><SPAN class=com><FONT size=4>962</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * to the global and sibling lists for the device, then</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L963" name=L963><SPAN class=com><FONT size=4>963</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * adds it to the other relevant subsystems of the driver model.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L964" name=L964><SPAN class=com><FONT size=4>964</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> *</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L965" name=L965><SPAN class=com><FONT size=4>965</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * Do not call this routine or device_register() more than once for</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L966" name=L966><SPAN class=com><FONT size=4>966</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * any device structure.  The driver model core is not designed to work</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L967" name=L967><SPAN class=com><FONT size=4>967</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * with devices that get unregistered and then spring back to life.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L968" name=L968><SPAN class=com><FONT size=4>968</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * (Among other things, it's very hard to guarantee that all references</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L969" name=L969><SPAN class=com><FONT size=4>969</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * to the previous incarnation of @dev have been dropped.)  Allocate</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L970" name=L970><SPAN class=com><FONT size=4>970</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * and register a fresh new struct device instead.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L971" name=L971><SPAN class=com><FONT size=4>971</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> *</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L972" name=L972><SPAN class=com><FONT size=4>972</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * NOTE: _Never_ directly free @dev after calling this function, even</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L973" name=L973><SPAN class=com><FONT size=4>973</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * if it returned an error! Always use put_device() to give up your</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L974" name=L974><SPAN class=com><FONT size=4>974</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> * reference instead.</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L975" name=L975><SPAN class=com><FONT size=4>975</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com> */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L976" name=L976><SPAN class=lit><FONT size=4>976</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=typ>int</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_add"><SPAN class=pln><FONT size=4>device_add</FONT></SPAN></A><FONT size=4><SPAN class=pun>(</SPAN><SPAN class=kwd>struct</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device"><SPAN class=pln><FONT size=4>device</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>*</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L977" name=L977><SPAN class=lit><FONT size=4>977</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L978" name=L978><SPAN class=lit><FONT size=4>978</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>struct</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device"><SPAN class=pln><FONT size=4>device</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>*</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=NULL"><SPAN class=pln><FONT size=4>NULL</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L979" name=L979><SPAN class=lit><FONT size=4>979</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>struct</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=kobject"><SPAN class=pln><FONT size=4>kobject</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>*</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L980" name=L980><SPAN class=lit><FONT size=4>980</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>struct</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=class_interface"><SPAN class=pln><FONT size=4>class_interface</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>*</SPAN><SPAN class=pln>class_intf</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L981" name=L981><SPAN class=lit><FONT size=4>981</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=typ>int</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>-</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=EINVAL"><SPAN class=pln><FONT size=4>EINVAL</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L982" name=L982><SPAN class=lit><FONT size=4>982</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L983" name=L983><SPAN class=lit><FONT size=4>983</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=get_device"><SPAN class=pln><FONT size=4>get_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L984" name=L984><SPAN class=lit><FONT size=4>984</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(!</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L985" name=L985><SPAN class=lit><FONT size=4>985</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=done"><SPAN class=pln><FONT size=4>done</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L986" name=L986><SPAN class=lit><FONT size=4>986</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L987" name=L987><SPAN class=lit><FONT size=4>987</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(!</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><FONT size=4><SPAN class=pun>)</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L988" name=L988><SPAN class=lit><FONT size=4>988</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_private_init"><SPAN class=pln><FONT size=4>device_private_init</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L989" name=L989><SPAN class=lit><FONT size=4>989</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L990" name=L990><SPAN class=lit><FONT size=4>990</FONT></SPAN></A><FONT size=4><SPAN class=pln>                         </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=done"><SPAN class=pln><FONT size=4>done</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L991" name=L991><SPAN class=lit><FONT size=4>991</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=pun>}</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L992" name=L992><SPAN class=lit><FONT size=4>992</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L993" name=L993><SPAN class=lit><FONT size=4>993</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/*</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L994" name=L994><SPAN class=com><FONT size=4>994</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com>         * for statically allocated devices, which should all be converted</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L995" name=L995><SPAN class=com><FONT size=4>995</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com>         * some day, we need to initialize the name. We prevent reading back</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L996" name=L996><SPAN class=com><FONT size=4>996</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com>         * the name, and force the use of dev_name()</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L997" name=L997><SPAN class=com><FONT size=4>997</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com>         */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L998" name=L998><SPAN class=lit><FONT size=4>998</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>init_name</SPAN><SPAN class=pun>)</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L999" name=L999><SPAN class=lit><FONT size=4>999</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev_set_name"><SPAN class=pln><FONT size=4>dev_set_name</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN><I><SPAN class=str>"%s"</SPAN></I><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>init_name</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1000" name=L1000><SPAN class=lit><FONT size=4>1000</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>init_name </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=NULL"><SPAN class=pln><FONT size=4>NULL</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1001" name=L1001><SPAN class=lit><FONT size=4>1001</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=pun>}</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1002" name=L1002><SPAN class=lit><FONT size=4>1002</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1003" name=L1003><SPAN class=lit><FONT size=4>1003</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/* subsystems can specify simple device enumeration */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1004" name=L1004><SPAN class=lit><FONT size=4>1004</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(!</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev_name"><SPAN class=pln><FONT size=4>dev_name</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>)</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>&amp;&amp;</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus"><SPAN class=pln><FONT size=4>bus</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>&amp;&amp;</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus"><SPAN class=pln><FONT size=4>bus</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev_name"><SPAN class=pln><FONT size=4>dev_name</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1005" name=L1005><SPAN class=lit><FONT size=4>1005</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev_set_name"><SPAN class=pln><FONT size=4>dev_set_name</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN><I><SPAN class=str>"%s%u"</SPAN></I><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus"><SPAN class=pln><FONT size=4>bus</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev_name"><SPAN class=pln><FONT size=4>dev_name</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=id"><SPAN class=pln><FONT size=4>id</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1006" name=L1006><SPAN class=lit><FONT size=4>1006</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1007" name=L1007><SPAN class=lit><FONT size=4>1007</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(!</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev_name"><SPAN class=pln><FONT size=4>dev_name</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>))</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1008" name=L1008><SPAN class=lit><FONT size=4>1008</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>-</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=EINVAL"><SPAN class=pln><FONT size=4>EINVAL</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1009" name=L1009><SPAN class=lit><FONT size=4>1009</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> name_error</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1010" name=L1010><SPAN class=lit><FONT size=4>1010</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=pun>}</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1011" name=L1011><SPAN class=lit><FONT size=4>1011</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1012" name=L1012><SPAN class=lit><FONT size=4>1012</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=pr_debug"><SPAN class=pln><FONT size=4>pr_debug</FONT></SPAN></A><FONT size=4><SPAN class=pun>(</SPAN><I><SPAN class=str>"device: '%s': %s\n"</SPAN></I><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev_name"><SPAN class=pln><FONT size=4>dev_name</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>),</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=__func__"><SPAN class=pln><FONT size=4>__func__</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1013" name=L1013><SPAN class=lit><FONT size=4>1013</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1014" name=L1014><SPAN class=lit><FONT size=4>1014</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=get_device"><SPAN class=pln><FONT size=4>get_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1015" name=L1015><SPAN class=lit><FONT size=4>1015</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=get_device_parent"><SPAN class=pln><FONT size=4>get_device_parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1016" name=L1016><SPAN class=lit><FONT size=4>1016</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1017" name=L1017><SPAN class=lit><FONT size=4>1017</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><SPAN class=pun><FONT size=4>.</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1018" name=L1018><SPAN class=lit><FONT size=4>1018</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1019" name=L1019><SPAN class=lit><FONT size=4>1019</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/* use parent numa_node */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1020" name=L1020><SPAN class=lit><FONT size=4>1020</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1021" name=L1021><SPAN class=lit><FONT size=4>1021</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=set_dev_node"><FONT size=4><SPAN class=typ>set</SPAN><SPAN class=pln>_dev_node</SPAN></FONT></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev_to_node"><SPAN class=pln><FONT size=4>dev_to_node</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>));</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1022" name=L1022><SPAN class=lit><FONT size=4>1022</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1023" name=L1023><SPAN class=lit><FONT size=4>1023</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/* first, register with generic layer. */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1024" name=L1024><SPAN class=lit><FONT size=4>1024</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/* we require the name to be set before, and pass NULL */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1025" name=L1025><SPAN class=lit><FONT size=4>1025</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=kobject_add"><SPAN class=pln><FONT size=4>kobject_add</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><SPAN class=pun><FONT size=4>.</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=NULL"><SPAN class=pln><FONT size=4>NULL</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1026" name=L1026><SPAN class=lit><FONT size=4>1026</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1027" name=L1027><SPAN class=lit><FONT size=4>1027</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>Error</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1028" name=L1028><SPAN class=lit><FONT size=4>1028</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1029" name=L1029><SPAN class=lit><FONT size=4>1029</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/* notify platform of device entry */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1030" name=L1030><SPAN class=lit><FONT size=4>1030</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=platform_notify"><SPAN class=pln><FONT size=4>platform_notify</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1031" name=L1031><SPAN class=lit><FONT size=4>1031</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=platform_notify"><SPAN class=pln><FONT size=4>platform_notify</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1032" name=L1032><SPAN class=lit><FONT size=4>1032</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1033" name=L1033><SPAN class=lit><FONT size=4>1033</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_create_file"><SPAN class=pln><FONT size=4>device_create_file</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>&amp;</SPAN><SPAN class=pln>dev_attr_uevent</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1034" name=L1034><SPAN class=lit><FONT size=4>1034</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1035" name=L1035><SPAN class=lit><FONT size=4>1035</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> attrError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1036" name=L1036><SPAN class=lit><FONT size=4>1036</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1037" name=L1037><SPAN class=lit><FONT size=4>1037</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_add_class_symlinks"><SPAN class=pln><FONT size=4>device_add_class_symlinks</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1038" name=L1038><SPAN class=lit><FONT size=4>1038</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1039" name=L1039><SPAN class=lit><FONT size=4>1039</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>SymlinkError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1040" name=L1040><SPAN class=lit><FONT size=4>1040</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_add_attrs"><SPAN class=pln><FONT size=4>device_add_attrs</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1041" name=L1041><SPAN class=lit><FONT size=4>1041</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1042" name=L1042><SPAN class=lit><FONT size=4>1042</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>AttrsError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1043" name=L1043><SPAN class=lit><FONT size=4>1043</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=bus_add_device"><SPAN class=pln><FONT size=4>bus_add_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1044" name=L1044><SPAN class=lit><FONT size=4>1044</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1045" name=L1045><SPAN class=lit><FONT size=4>1045</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>BusError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1046" name=L1046><SPAN class=lit><FONT size=4>1046</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dpm_sysfs_add"><SPAN class=pln><FONT size=4>dpm_sysfs_add</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1047" name=L1047><SPAN class=lit><FONT size=4>1047</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1048" name=L1048><SPAN class=lit><FONT size=4>1048</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>DPMError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1049" name=L1049><SPAN class=lit><FONT size=4>1049</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_pm_add"><SPAN class=pln><FONT size=4>device_pm_add</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1050" name=L1050><SPAN class=lit><FONT size=4>1050</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1051" name=L1051><SPAN class=lit><FONT size=4>1051</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=MAJOR"><SPAN class=pln><FONT size=4>MAJOR</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>devt</SPAN><SPAN class=pun>))</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1052" name=L1052><SPAN class=lit><FONT size=4>1052</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_create_file"><SPAN class=pln><FONT size=4>device_create_file</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>&amp;</SPAN><SPAN class=pln>dev_attr_dev</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1053" name=L1053><SPAN class=lit><FONT size=4>1053</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1054" name=L1054><SPAN class=lit><FONT size=4>1054</FONT></SPAN></A><FONT size=4><SPAN class=pln>                         </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>DevAttrError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1055" name=L1055><SPAN class=lit><FONT size=4>1055</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1056" name=L1056><SPAN class=lit><FONT size=4>1056</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=device_create_sys_dev_entry"><SPAN class=pln><FONT size=4>device_create_sys_dev_entry</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1057" name=L1057><SPAN class=lit><FONT size=4>1057</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1058" name=L1058><SPAN class=lit><FONT size=4>1058</FONT></SPAN></A><FONT size=4><SPAN class=pln>                         </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN><SPAN class=typ>SysEntryError</SPAN><SPAN class=pun>;</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1059" name=L1059><SPAN class=lit><FONT size=4>1059</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1060" name=L1060><SPAN class=lit><FONT size=4>1060</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=devtmpfs_create_node"><SPAN class=pln><FONT size=4>devtmpfs_create_node</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1061" name=L1061><SPAN class=lit><FONT size=4>1061</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=pun>}</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1062" name=L1062><SPAN class=lit><FONT size=4>1062</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1063" name=L1063><SPAN class=lit><FONT size=4>1063</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><B><I><SPAN class=com>/* Notify clients of device addition.  This call must come</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1064" name=L1064><SPAN class=com><FONT size=4>1064</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com>         * after dpm_sysfs_add() and before kobject_uevent().</SPAN></I></B></FONT><SPAN class=com>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1065" name=L1065><SPAN class=com><FONT size=4>1065</FONT></SPAN></A><FONT size=4><SPAN class=com> </SPAN><B><I><SPAN class=com>         */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1066" name=L1066><SPAN class=lit><FONT size=4>1066</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus"><SPAN class=pln><FONT size=4>bus</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1067" name=L1067><SPAN class=lit><FONT size=4>1067</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=blocking_notifier_call_chain"><SPAN class=pln><FONT size=4>blocking_notifier_call_chain</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus"><SPAN class=pln><FONT size=4>bus</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>bus_notifier</SPAN><SPAN class=pun>,</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1068" name=L1068><SPAN class=lit><FONT size=4>1068</FONT></SPAN></A><SPAN class=pln><FONT size=4>                                              </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=BUS_NOTIFY_ADD_DEVICE"><SPAN class=pln><FONT size=4>BUS_NOTIFY_ADD_DEVICE</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1069" name=L1069><SPAN class=lit><FONT size=4>1069</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1070" name=L1070><SPAN class=lit><FONT size=4>1070</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobject_uevent"><SPAN class=pln><FONT size=4>kobject_uevent</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> KOBJ_ADD</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1071" name=L1071><SPAN class=lit><FONT size=4>1071</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus_probe_device"><SPAN class=pln><FONT size=4>bus_probe_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1072" name=L1072><SPAN class=lit><FONT size=4>1072</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1073" name=L1073><SPAN class=lit><FONT size=4>1073</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=klist_add_tail"><SPAN class=pln><FONT size=4>klist_add_tail</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>knode_parent</SPAN><SPAN class=pun>,</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1074" name=L1074><SPAN class=lit><FONT size=4>1074</FONT></SPAN></A><FONT size=4><SPAN class=pln>                                </SPAN><SPAN class=pun>&amp;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>klist_children</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1075" name=L1075><SPAN class=lit><FONT size=4>1075</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1076" name=L1076><SPAN class=lit><FONT size=4>1076</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=kwd>class</SPAN><SPAN class=pun>)</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>{</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1077" name=L1077><SPAN class=lit><FONT size=4>1077</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=mutex_lock"><SPAN class=pln><FONT size=4>mutex_lock</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=kwd>class</SPAN><SPAN class=pun>-&gt;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=mutex"><SPAN class=pln><FONT size=4>mutex</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1078" name=L1078><SPAN class=lit><FONT size=4>1078</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><B><I><SPAN class=com>/* tie the class to the device */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1079" name=L1079><SPAN class=lit><FONT size=4>1079</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=klist_add_tail"><SPAN class=pln><FONT size=4>klist_add_tail</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>knode_class</SPAN><SPAN class=pun>,</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1080" name=L1080><SPAN class=lit><FONT size=4>1080</FONT></SPAN></A><FONT size=4><SPAN class=pln>                                </SPAN><SPAN class=pun>&amp;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=kwd>class</SPAN><SPAN class=pun>-&gt;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>klist_devices</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1081" name=L1081><SPAN class=lit><FONT size=4>1081</FONT></SPAN></A><SPAN class=pln><FONT size=4> 
</FONT></SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1082" name=L1082><SPAN class=lit><FONT size=4>1082</FONT></SPAN></A><FONT size=4><SPAN class=pln>                 </SPAN><B><I><SPAN class=com>/* notify any interfaces that the device is here */</SPAN></I></B></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1083" name=L1083><SPAN class=lit><FONT size=4>1083</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=list_for_each_entry"><FONT size=4><SPAN class=typ>list</SPAN><SPAN class=pln>_for_each_entry</SPAN></FONT></A><FONT size=4><SPAN class=pun>(</SPAN><SPAN class=pln>class_intf</SPAN><SPAN class=pun>,</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1084" name=L1084><SPAN class=lit><FONT size=4>1084</FONT></SPAN></A><FONT size=4><SPAN class=pln>                                     </SPAN><SPAN class=pun>&amp;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=kwd>class</SPAN><SPAN class=pun>-&gt;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=interfaces"><FONT size=4><SPAN class=typ>int</SPAN><SPAN class=pln>erfaces</SPAN></FONT></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=node"><SPAN class=pln><FONT size=4>node</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1085" name=L1085><SPAN class=lit><FONT size=4>1085</FONT></SPAN></A><FONT size=4><SPAN class=pln>                         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN><SPAN class=pln>class_intf</SPAN><SPAN class=pun>-&gt;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=add_dev"><SPAN class=pln><FONT size=4>add_dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>)</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1086" name=L1086><SPAN class=lit><FONT size=4>1086</FONT></SPAN></A><FONT size=4><SPAN class=pln>                                 class_intf</SPAN><SPAN class=pun>-&gt;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=add_dev"><SPAN class=pln><FONT size=4>add_dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> class_intf</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1087" name=L1087><SPAN class=lit><FONT size=4>1087</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=mutex_unlock"><SPAN class=pln><FONT size=4>mutex_unlock</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=kwd>class</SPAN><SPAN class=pun>-&gt;</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=mutex"><SPAN class=pln><FONT size=4>mutex</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1088" name=L1088><SPAN class=lit><FONT size=4>1088</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=pun>}</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1089" name=L1089><SPAN class=lit><FONT size=4>1089</FONT></SPAN></A><SPAN class=pln><FONT size=4> </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=done"><SPAN class=pln><FONT size=4>done</FONT></SPAN></A><SPAN class=pun><FONT size=4>:</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1090" name=L1090><SPAN class=lit><FONT size=4>1090</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=put_device"><SPAN class=pln><FONT size=4>put_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1091" name=L1091><SPAN class=lit><FONT size=4>1091</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>return</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=error"><SPAN class=pln><FONT size=4>error</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1092" name=L1092><SPAN class=lit><FONT size=4>1092</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>SysEntryError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1093" name=L1093><SPAN class=lit><FONT size=4>1093</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>if</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>(</SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=MAJOR"><SPAN class=pln><FONT size=4>MAJOR</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>-&gt;</SPAN><SPAN class=pln>devt</SPAN><SPAN class=pun>))</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1094" name=L1094><SPAN class=lit><FONT size=4>1094</FONT></SPAN></A><SPAN class=pln><FONT size=4>                 </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_remove_file"><SPAN class=pln><FONT size=4>device_remove_file</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>&amp;</SPAN><SPAN class=pln>dev_attr_dev</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1095" name=L1095><SPAN class=lit><FONT size=4>1095</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>DevAttrError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1096" name=L1096><SPAN class=lit><FONT size=4>1096</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_pm_remove"><SPAN class=pln><FONT size=4>device_pm_remove</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1097" name=L1097><SPAN class=lit><FONT size=4>1097</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dpm_sysfs_remove"><SPAN class=pln><FONT size=4>dpm_sysfs_remove</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1098" name=L1098><SPAN class=lit><FONT size=4>1098</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>DPMError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1099" name=L1099><SPAN class=lit><FONT size=4>1099</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=bus_remove_device"><SPAN class=pln><FONT size=4>bus_remove_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1100" name=L1100><SPAN class=lit><FONT size=4>1100</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>BusError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1101" name=L1101><SPAN class=lit><FONT size=4>1101</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_remove_attrs"><SPAN class=pln><FONT size=4>device_remove_attrs</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1102" name=L1102><SPAN class=lit><FONT size=4>1102</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>AttrsError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1103" name=L1103><SPAN class=lit><FONT size=4>1103</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_remove_class_symlinks"><SPAN class=pln><FONT size=4>device_remove_class_symlinks</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1104" name=L1104><SPAN class=lit><FONT size=4>1104</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>SymlinkError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1105" name=L1105><SPAN class=lit><FONT size=4>1105</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_remove_file"><SPAN class=pln><FONT size=4>device_remove_file</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> </SPAN><SPAN class=pun>&amp;</SPAN><SPAN class=pln>dev_attr_uevent</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1106" name=L1106><SPAN class=lit><FONT size=4>1106</FONT></SPAN></A><FONT size=4><SPAN class=pln>  attrError</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1107" name=L1107><SPAN class=lit><FONT size=4>1107</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobject_uevent"><SPAN class=pln><FONT size=4>kobject_uevent</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><FONT size=4><SPAN class=pun>,</SPAN><SPAN class=pln> KOBJ_REMOVE</SPAN><SPAN class=pun>);</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1108" name=L1108><SPAN class=lit><FONT size=4>1108</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobject_del"><SPAN class=pln><FONT size=4>kobject_del</FONT></SPAN></A><SPAN class=pun><FONT size=4>(&amp;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kobj"><SPAN class=pln><FONT size=4>kobj</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1109" name=L1109><SPAN class=lit><FONT size=4>1109</FONT></SPAN></A><FONT size=4><SPAN class=pln>  </SPAN><SPAN class=typ>Error</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1110" name=L1110><SPAN class=lit><FONT size=4>1110</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=cleanup_device_parent"><SPAN class=pln><FONT size=4>cleanup_device_parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1111" name=L1111><SPAN class=lit><FONT size=4>1111</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=put_device"><SPAN class=pln><FONT size=4>put_device</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=parent"><SPAN class=pln><FONT size=4>parent</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1112" name=L1112><SPAN class=lit><FONT size=4>1112</FONT></SPAN></A><FONT size=4><SPAN class=pln> name_error</SPAN><SPAN class=pun>:</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1113" name=L1113><SPAN class=lit><FONT size=4>1113</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=kfree"><SPAN class=pln><FONT size=4>kfree</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1114" name=L1114><SPAN class=lit><FONT size=4>1114</FONT></SPAN></A><SPAN class=pln><FONT size=4>         </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=dev"><SPAN class=pln><FONT size=4>dev</FONT></SPAN></A><SPAN class=pun><FONT size=4>-&gt;</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=p"><SPAN class=pln><FONT size=4>p</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>=</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=NULL"><SPAN class=pln><FONT size=4>NULL</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1115" name=L1115><SPAN class=lit><FONT size=4>1115</FONT></SPAN></A><FONT size=4><SPAN class=pln>         </SPAN><SPAN class=kwd>goto</SPAN><SPAN class=pln> </SPAN></FONT><A href="http://lxr.oss.org.cn/ident?i=done"><SPAN class=pln><FONT size=4>done</FONT></SPAN></A><SPAN class=pun><FONT size=4>;</FONT></SPAN><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1116" name=L1116><SPAN class=lit><FONT size=4>1116</FONT></SPAN></A><FONT size=4><SPAN class=pln> </SPAN><SPAN class=pun>}</SPAN></FONT><SPAN class=pln>
</SPAN><A href="http://lxr.oss.org.cn/source/drivers/base/core.c#L1117" name=L1117><SPAN class=lit><FONT size=4>1117</FONT></SPAN></A><SPAN class=pln><FONT size=4> </FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=EXPORT_SYMBOL_GPL"><SPAN class=pln><FONT size=4>EXPORT_SYMBOL_GPL</FONT></SPAN></A><SPAN class=pun><FONT size=4>(</FONT></SPAN><A href="http://lxr.oss.org.cn/ident?i=device_add"><SPAN class=pln><FONT size=4>device_add</FONT></SPAN></A><SPAN class=pun><FONT size=4>);</FONT></SPAN><SPAN class=pln></SPAN></PRE>