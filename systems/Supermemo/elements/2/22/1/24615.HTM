<SPAN class=docEmphasis>include/linux/kmod.h</SPAN> <SPAN class=docEmphasis>kernel/kmod.c</SPAN> 
<P></P><SPAN class=docEmphasis><PRE><A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#603" name=603>603</A><SPAN class=c>/**
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#604" name=604>604</A> * call_usermodehelper() - prepare and start a usermode application
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#605" name=605>605</A> * @path: path to usermode executable
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#606" name=606>606</A> * @argv: arg vector for process
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#607" name=607>607</A> * @envp: environment for process
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#608" name=608>608</A> * @wait: wait for the application to finish and return status.
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#609" name=609>609</A> *        when UMH_NO_WAIT don't wait at all, but you get no useful error back
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#610" name=610>610</A> *        when the program couldn't be exec'ed. This makes it safe to call
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#611" name=611>611</A> *        from interrupt context.
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#612" name=612>612</A> *
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#613" name=613>613</A> * This function is the equivalent to use call_usermodehelper_setup() and
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#614" name=614>614</A> * call_usermodehelper_exec().
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#615" name=615>615</A> */</SPAN>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#616" name=616>616</A><B>int</B> <A class=xf name=call_usermodehelper></A><A class=xf href="http://172.21.12.145:8080/source/s?refs=call_usermodehelper&amp;project=linux-4.5">call_usermodehelper</A>(<B>char</B> *<A class=xa name=path></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=path&amp;project=linux-4.5">path</A>, <B>char</B> **<A class=xa name=argv></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=argv&amp;project=linux-4.5">argv</A>, <B>char</B> **<A class=xa name=envp></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=envp&amp;project=linux-4.5">envp</A>, <B>int</B> <A class=xa name=wait></A><A class=xa href="http://172.21.12.145:8080/source/s?refs=wait&amp;project=linux-4.5">wait</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#617" name=617>617</A>{
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#618" name=618>618</A>	<B>struct</B> <A href="http://172.21.12.145:8080/source/s?defs=subprocess_info&amp;project=linux-4.5">subprocess_info</A> *<A class=xl name=info></A><A class=xl href="http://172.21.12.145:8080/source/s?refs=info&amp;project=linux-4.5">info</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#619" name=619>619</A>	<A href="http://172.21.12.145:8080/source/s?defs=gfp_t&amp;project=linux-4.5">gfp_t</A> <A class=xl name=gfp_mask></A><A class=xl href="http://172.21.12.145:8080/source/s?refs=gfp_mask&amp;project=linux-4.5">gfp_mask</A> = (<A href="http://172.21.12.145:8080/source/s?defs=wait&amp;project=linux-4.5">wait</A> == <A href="http://172.21.12.145:8080/source/s?defs=UMH_NO_WAIT&amp;project=linux-4.5">UMH_NO_WAIT</A>) ? <A href="http://172.21.12.145:8080/source/s?defs=GFP_ATOMIC&amp;project=linux-4.5">GFP_ATOMIC</A> : <A href="http://172.21.12.145:8080/source/s?defs=GFP_KERNEL&amp;project=linux-4.5">GFP_KERNEL</A>;
<A class=hl href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#620" name=620>620</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#621" name=621>621</A>	<A href="http://172.21.12.145:8080/source/s?defs=info&amp;project=linux-4.5">info</A> = <A href="http://172.21.12.145:8080/source/s?defs=call_usermodehelper_setup&amp;project=linux-4.5">call_usermodehelper_setup</A>(<A href="http://172.21.12.145:8080/source/s?defs=path&amp;project=linux-4.5">path</A>, <A href="http://172.21.12.145:8080/source/s?defs=argv&amp;project=linux-4.5">argv</A>, <A href="http://172.21.12.145:8080/source/s?defs=envp&amp;project=linux-4.5">envp</A>, <A href="http://172.21.12.145:8080/source/s?defs=gfp_mask&amp;project=linux-4.5">gfp_mask</A>,
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#622" name=622>622</A>					 <A href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.5">NULL</A>, <A href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.5">NULL</A>, <A href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.5">NULL</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#623" name=623>623</A>	<B>if</B> (<A href="http://172.21.12.145:8080/source/s?defs=info&amp;project=linux-4.5">info</A> == <A href="http://172.21.12.145:8080/source/s?defs=NULL&amp;project=linux-4.5">NULL</A>)
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#624" name=624>624</A>		<B>return</B> -<A href="http://172.21.12.145:8080/source/s?defs=ENOMEM&amp;project=linux-4.5">ENOMEM</A>;
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#625" name=625>625</A>
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#626" name=626>626</A>	<B>return</B> <A href="http://172.21.12.145:8080/source/s?defs=call_usermodehelper_exec&amp;project=linux-4.5">call_usermodehelper_exec</A>(<A href="http://172.21.12.145:8080/source/s?defs=info&amp;project=linux-4.5">info</A>, <A href="http://172.21.12.145:8080/source/s?defs=wait&amp;project=linux-4.5">wait</A>);
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#627" name=627>627</A>}
<A class=l href="http://172.21.12.145:8080/source/xref/linux-4.5/kernel/kmod.c#628" name=628>628</A><A href="http://172.21.12.145:8080/source/s?defs=EXPORT_SYMBOL&amp;project=linux-4.5">EXPORT_SYMBOL</A>(<A class=xv name=call_usermodehelper></A><A class=xv href="http://172.21.12.145:8080/source/s?refs=call_usermodehelper&amp;project=linux-4.5">call_usermodehelper</A>);</PRE></SPAN>