There is a helper function to both initialize and add the kobject to the<BR>kernel at the same time, called surprisingly enough <FONT class=clozed>kobject_init_and_add(): </FONT>
<P></P>
<P><FONT class=clozed>&nbsp;&nbsp;&nbsp; int kobject_init_and_add(struct kobject *kobj, struct kobj_type *ktype,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; struct kobject *parent, const char *fmt, ...</FONT>);</P>
<P>The arguments are the same as the individual kobject_init() and<BR>kobject_add() functions described above.