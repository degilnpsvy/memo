<H3 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=section>3.18 Options for Code Generation Conventions</H3>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><A name=index-code-generation-conventions-2565></A><A name=index-options_002c-code-generation-2566></A><A name=index-run-time-options-2567></A>These machine-independent options control the interface conventions used in code generation.</P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Most of them have both positive and negative forms; the negative form of<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-ffoo</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fno-foo</SPAN></SAMP>. In the table below, only one of the forms is listed&#8212;the one that is not the default. You can figure out the other form by either removing &#8216;<SAMP><SPAN class=samp>no-</SPAN></SAMP>&#8217; or adding it.</P>
<DL style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">
<DT><CODE>-fbounds-check</CODE></DT>
<DD><A name=index-fbounds-check-2568></A>For front ends that support it, generate additional code to check that indices used to access arrays are within the declared range. This is currently only supported by the Java and Fortran front ends, where this option defaults to true and false respectively.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fstack-reuse=</CODE><VAR>reuse-level</VAR></DT>
<DD><A name=index-fstack_005freuse-2569></A>This option controls stack space reuse for user declared local/auto variables and compiler generated temporaries.<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reuse_level</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>can be &#8216;<SAMP><SPAN class=samp>all</SPAN></SAMP>&#8217;, &#8216;<SAMP><SPAN class=samp>named_vars</SPAN></SAMP>&#8217;, or &#8216;<SAMP><SPAN class=samp>none</SPAN></SAMP>&#8217;. &#8216;<SAMP><SPAN class=samp>all</SPAN></SAMP>&#8217; enables stack reuse for all local variables and temporaries, &#8216;<SAMP><SPAN class=samp>named_vars</SPAN></SAMP>&#8217; enables the reuse only for user defined local variables with names, and &#8216;<SAMP><SPAN class=samp>none</SPAN></SAMP>&#8217; disables stack reuse completely. The default value is &#8216;<SAMP><SPAN class=samp>all</SPAN></SAMP>&#8217;. The option is needed when the program extends the lifetime of a scoped local variable or a compiler generated temporary beyond the end point defined by the language. When a lifetime of a variable ends, and if the variable lives in memory, the optimizing compiler has the freedom to reuse its stack space with other temporaries or scoped local variables whose live range does not overlap with it. Legacy code extending local lifetime will likely to break with the stack reuse optimization.
<P>For example,</P><PRE style="FONT-SIZE: smaller" class=smallexample>             int *p;
             {
               int local1;
          
               p = &amp;local1;
               local1 = 10;
               ....
             }
             {
                int local2;
                local2 = 20;
                ...
             }
          
             if (*p == 10)  // out of scope use of local1
               {
          
               }
</PRE>
<P>Another example:</P><PRE style="FONT-SIZE: smaller" class=smallexample>          
             struct A
             {
                 A(int k) : i(k), j(k) { }
                 int i;
                 int j;
             };
          
             A *ap;
          
             void foo(const A&amp; ar)
             {
                ap = &amp;ar;
             }
          
             void bar()
             {
                foo(A(10)); // temp object's lifetime ends when foo returns
          
                {
                  A a(20);
                  ....
                }
                ap-&gt;i+= 10;  // ap references out of scope temp whose space
                             // is reused with a. What is the value of ap-&gt;i?
             }
          
</PRE>
<P>The lifetime of a compiler generated temporary is well defined by the C++ standard. When a lifetime of a temporary ends, and if the temporary lives in memory, the optimizing compiler has the freedom to reuse its stack space with other temporaries or scoped local variables whose live range does not overlap with it. However some of the legacy code relies on the behavior of older compilers in which temporaries' stack space is not reused, the aggressive stack reuse can lead to runtime errors. This option is used to control the temporary stack reuse optimization.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-ftrapv</CODE></DT>
<DD><A name=index-ftrapv-2570></A>This option generates traps for signed overflow on addition, subtraction, multiplication operations.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fwrapv</CODE></DT>
<DD><A name=index-fwrapv-2571></A>This option instructs the compiler to assume that signed arithmetic overflow of addition, subtraction and multiplication wraps around using twos-complement representation. This flag enables some optimizations and disables others. This option is enabled by default for the Java front end, as required by the Java language specification.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fexceptions</CODE></DT>
<DD><A name=index-fexceptions-2572></A>Enable exception handling. Generates extra code needed to propagate exceptions. For some targets, this implies GCC generates frame unwind information for all functions, which can produce significant data size overhead, although it does not affect execution. If you do not specify this option, GCC enables it by default for languages like C++ that normally require exception handling, and disables it for languages like C that do not normally require it. However, you may need to enable this option when compiling C code that needs to interoperate properly with exception handlers written in C++. You may also wish to disable this option if you are compiling older C++ programs that don't use exception handling.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fnon-call-exceptions</CODE></DT>
<DD><A name=index-fnon-call-exceptions-2573></A>Generate code that allows trapping instructions to throw exceptions. Note that this requires platform-specific runtime support that does not exist everywhere. Moreover, it only allows<SPAN class=Apple-converted-space>&nbsp;</SPAN><EM>trapping</EM><SPAN class=Apple-converted-space>&nbsp;</SPAN>instructions to throw exceptions, i.e. memory references or floating-point instructions. It does not allow exceptions to be thrown from arbitrary signal handlers such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>SIGALRM</CODE>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fdelete-dead-exceptions</CODE></DT>
<DD><A name=index-fdelete-dead-exceptions-2574></A>Consider that instructions that may throw exceptions but don't otherwise contribute to the execution of the program can be optimized away. This option is enabled by default for the Ada front end, as permitted by the Ada language specification. Optimization passes that cause dead exceptions to be removed are enabled independently at different optimization levels.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-funwind-tables</CODE></DT>
<DD><A name=index-funwind-tables-2575></A>Similar to<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fexceptions</SPAN></SAMP>, except that it just generates any needed static data, but does not affect the generated code in any other way. You normally do not need to enable this option; instead, a language processor that needs this handling enables it on your behalf.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fasynchronous-unwind-tables</CODE></DT>
<DD><A name=index-fasynchronous-unwind-tables-2576></A>Generate unwind table in DWARF 2 format, if supported by target machine. The table is exact at each instruction boundary, so it can be used for stack unwinding from asynchronous events (such as debugger or garbage collector).<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fno-gnu-unique</CODE></DT>
<DD><A name=index-fno-gnu-unique-2577></A>On systems with recent GNU assembler and C library, the C++ compiler uses the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>STB_GNU_UNIQUE</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>binding to make sure that definitions of template static data members and static local variables in inline functions are unique even in the presence of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>RTLD_LOCAL</CODE>; this is necessary to avoid problems with a library used by two different<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>RTLD_LOCAL</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>plugins depending on a definition in one of them and therefore disagreeing with the other one about the binding of the symbol. But this causes<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>dlclose</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to be ignored for affected DSOs; if your program relies on reinitialization of a DSO via<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>dlclose</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>dlopen</CODE>, you can use<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fno-gnu-unique</SPAN></SAMP>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fpcc-struct-return</CODE></DT>
<DD><A name=index-fpcc-struct-return-2578></A>Return &#8220;short&#8221;<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>struct</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>union</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>values in memory like longer ones, rather than in registers. This convention is less efficient, but it has the advantage of allowing intercallability between GCC-compiled files and files compiled with other compilers, particularly the Portable C Compiler (pcc).
<P>The precise convention for returning structures in memory depends on the target configuration macros.</P>
<P>Short structures and unions are those whose size and alignment match that of some integer type.</P>
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>code compiled with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpcc-struct-return</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch is not binary compatible with code compiled with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-freg-struct-return</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch. Use it to conform to a non-default application binary interface.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-freg-struct-return</CODE></DT>
<DD><A name=index-freg-struct-return-2579></A>Return<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>struct</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>union</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>values in registers when possible. This is more efficient for small structures than<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpcc-struct-return</SPAN></SAMP>.
<P>If you specify neither<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpcc-struct-return</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>nor<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-freg-struct-return</SPAN></SAMP>, GCC defaults to whichever convention is standard for the target. If there is no standard convention, GCC defaults to<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpcc-struct-return</SPAN></SAMP>, except on targets where GCC is the principal compiler. In those cases, we can choose the standard, and we chose the more efficient register return alternative.</P>
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>code compiled with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-freg-struct-return</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch is not binary compatible with code compiled with the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpcc-struct-return</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch. Use it to conform to a non-default application binary interface.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fshort-enums</CODE></DT>
<DD><A name=index-fshort-enums-2580></A>Allocate to an<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>enum</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>type only as many bytes as it needs for the declared range of possible values. Specifically, the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>enum</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>type is equivalent to the smallest integer type that has enough room.
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fshort-enums</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch causes GCC to generate code that is not binary compatible with code generated without that switch. Use it to conform to a non-default application binary interface.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fshort-double</CODE></DT>
<DD><A name=index-fshort-double-2581></A>Use the same size for<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>double</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>as for<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>float</CODE>.
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fshort-double</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch causes GCC to generate code that is not binary compatible with code generated without that switch. Use it to conform to a non-default application binary interface.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fshort-wchar</CODE></DT>
<DD><A name=index-fshort-wchar-2582></A>Override the underlying type for &#8216;<SAMP><SPAN class=samp>wchar_t</SPAN></SAMP>&#8217; to be &#8216;<SAMP><SPAN class=samp>short unsigned int</SPAN></SAMP>&#8217; instead of the default for the target. This option is useful for building programs to run under WINE.
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fshort-wchar</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch causes GCC to generate code that is not binary compatible with code generated without that switch. Use it to conform to a non-default application binary interface.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fno-common</CODE></DT>
<DD><A name=index-fno-common-2583></A>In C code, controls the placement of uninitialized global variables. Unix C compilers have traditionally permitted multiple definitions of such variables in different compilation units by placing the variables in a common block. This is the behavior specified by<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fcommon</SPAN></SAMP>, and is the default for GCC on most targets. On the other hand, this behavior is not required by ISO C, and on some targets may carry a speed or code size penalty on variable references. The<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fno-common</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>option specifies that the compiler should place uninitialized global variables in the data section of the object file, rather than generating them as common blocks. This has the effect that if the same variable is declared (without<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>extern</CODE>) in two different compilations, you get a multiple-definition error when you link them. In this case, you must compile with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fcommon</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>instead. Compiling with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fno-common</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is useful on targets for which it provides better performance, or if you wish to verify that the program will work on other systems that always treat uninitialized variable declarations this way.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fno-ident</CODE></DT>
<DD><A name=index-fno-ident-2584></A>Ignore the &#8216;<SAMP><SPAN class=samp>#ident</SPAN></SAMP>&#8217; directive.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-finhibit-size-directive</CODE></DT>
<DD><A name=index-finhibit-size-directive-2585></A>Don't output a<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>.size</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>assembler directive, or anything else that would cause trouble if the function is split in the middle, and the two halves are placed at locations far apart in memory. This option is used when compiling<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=file>crtstuff.c</SPAN></SAMP>; you should not need to use it for anything else.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fverbose-asm</CODE></DT>
<DD><A name=index-fverbose-asm-2586></A>Put extra commentary information in the generated assembly code to make it more readable. This option is generally only of use to those who actually need to read the generated assembly code (perhaps while debugging the compiler itself).
<P><SAMP><SPAN class=option>-fno-verbose-asm</SPAN></SAMP>, the default, causes the extra information to be omitted and is useful when comparing two assembler files.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-frecord-gcc-switches</CODE></DT>
<DD><A name=index-frecord-gcc-switches-2587></A>This switch causes the command line used to invoke the compiler to be recorded into the object file that is being created. This switch is only implemented on some targets and the exact format of the recording is target and binary file format dependent, but it usually takes the form of a section containing ASCII text. This switch is related to the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fverbose-asm</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch, but that switch only records information in the assembler output file as comments, so it never reaches the object file. See also<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-grecord-gcc-switches</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>for another way of storing compiler options into the object file.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fpic</CODE></DT>
<DD><A name=index-fpic-2588></A><A name=index-global-offset-table-2589></A><A name=index-PIC-2590></A>Generate position-independent code (PIC) suitable for use in a shared library, if supported for the target machine. Such code accesses all constant addresses through a global offset table (GOT). The dynamic loader resolves the GOT entries when the program starts (the dynamic loader is not part of GCC; it is part of the operating system). If the GOT size for the linked executable exceeds a machine-specific maximum size, you get an error message from the linker indicating that<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>does not work; in that case, recompile with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fPIC</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>instead. (These maximums are 8k on the SPARC and 32k on the m68k and RS/6000. The 386 has no such limit.)
<P>Position-independent code requires special support, and therefore works only on certain machines. For the 386, GCC supports PIC for System V but not for the Sun 386i. Code generated for the IBM RS/6000 is always position-independent.</P>
<P>When this flag is set, the macros<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__pic__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__PIC__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>are defined to 1.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fPIC</CODE></DT>
<DD><A name=index-fPIC-2591></A>If supported for the target machine, emit position-independent code, suitable for dynamic linking and avoiding any limit on the size of the global offset table. This option makes a difference on the m68k, PowerPC and SPARC.
<P>Position-independent code requires special support, and therefore works only on certain machines.</P>
<P>When this flag is set, the macros<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__pic__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__PIC__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>are defined to 2.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fpie</CODE></DT>
<DT><CODE>-fPIE</CODE></DT>
<DD><A name=index-fpie-2592></A><A name=index-fPIE-2593></A>These options are similar to<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fPIC</SPAN></SAMP>, but generated position independent code can be only linked into executables. Usually these options are used when<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-pie</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>GCC option is used during linking.
<P><SAMP><SPAN class=option>-fpie</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fPIE</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>both define the macros<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__pie__</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__PIE__</CODE>. The macros have the value 1 for<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpie</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>and 2 for<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fPIE</SPAN></SAMP>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fno-jump-tables</CODE></DT>
<DD><A name=index-fno-jump-tables-2594></A>Do not use jump tables for switch statements even where it would be more efficient than other code generation strategies. This option is of use in conjunction with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fPIC</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>for building code that forms part of a dynamic linker and cannot reference the address of a jump table. On some targets, jump tables do not require a GOT and this option is not needed.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-ffixed-</CODE><VAR>reg</VAR></DT>
<DD><A name=index-ffixed-2595></A>Treat the register named<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>as a fixed register; generated code should never refer to it (except perhaps as a stack pointer, frame pointer or in some other fixed role).
<P><VAR>reg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>must be the name of a register. The register names accepted are machine-specific and are defined in the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>REGISTER_NAMES</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>macro in the machine description macro file.</P>
<P>This flag does not have a negative form, because it specifies a three-way choice.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fcall-used-</CODE><VAR>reg</VAR></DT>
<DD><A name=index-fcall-used-2596></A>Treat the register named<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>as an allocable register that is clobbered by function calls. It may be allocated for temporaries or variables that do not live across a call. Functions compiled this way do not save and restore the register<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reg</VAR>.
<P>It is an error to use this flag with the frame pointer or stack pointer. Use of this flag for other registers that have fixed pervasive roles in the machine's execution model produces disastrous results.</P>
<P>This flag does not have a negative form, because it specifies a three-way choice.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fcall-saved-</CODE><VAR>reg</VAR></DT>
<DD><A name=index-fcall-saved-2597></A>Treat the register named<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>as an allocable register saved by functions. It may be allocated even for temporaries or variables that live across a call. Functions compiled this way save and restore the register<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>reg</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>if they use it.
<P>It is an error to use this flag with the frame pointer or stack pointer. Use of this flag for other registers that have fixed pervasive roles in the machine's execution model produces disastrous results.</P>
<P>A different sort of disaster results from the use of this flag for a register in which function values may be returned.</P>
<P>This flag does not have a negative form, because it specifies a three-way choice.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fpack-struct[=</CODE><VAR>n</VAR><CODE>]</CODE></DT>
<DD><A name=index-fpack-struct-2598></A>Without a value specified, pack all structure members together without holes. When a value is specified (which must be a small power of two), pack structure members according to this value, representing the maximum alignment (that is, objects with default alignment requirements larger than this are output potentially unaligned at the next fitting location.
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpack-struct</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch causes GCC to generate code that is not binary compatible with code generated without that switch. Additionally, it makes the code suboptimal. Use it to conform to a non-default application binary interface.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-finstrument-functions</CODE></DT>
<DD><A name=index-finstrument-functions-2599></A>Generate instrumentation calls for entry and exit to functions. Just after function entry and just before function exit, the following profiling functions are called with the address of the current function and its call site. (On some platforms,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__builtin_return_address</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>does not work beyond the current function, so the call site information may not be available to the profiling functions otherwise.)<PRE style="FONT-SIZE: smaller" class=smallexample>          void __cyg_profile_func_enter (void *this_fn,
                                         void *call_site);
          void __cyg_profile_func_exit  (void *this_fn,
                                         void *call_site);
</PRE>
<P>The first argument is the address of the start of the current function, which may be looked up exactly in the symbol table.</P>
<P>This instrumentation is also done for functions expanded inline in other functions. The profiling calls indicate where, conceptually, the inline function is entered and exited. This means that addressable versions of such functions must be available. If all your uses of a function are expanded inline, this may mean an additional expansion of code size. If you use &#8216;<SAMP><SPAN class=samp>extern inline</SPAN></SAMP>&#8217; in your C code, an addressable version of such functions must be provided. (This is normally the case anyway, but if you get lucky and the optimizer always expands the functions inline, you might have gotten away without providing static copies.)</P>
<P>A function may be given the attribute<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>no_instrument_function</CODE>, in which case this instrumentation is not done. This can be used, for example, for the profiling functions listed above, high-priority interrupt routines, and any functions from which the profiling functions cannot safely be called (perhaps signal handlers, if the profiling routines generate output or allocate memory).<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-finstrument-functions-exclude-file-list=</CODE><VAR>file</VAR><CODE>,</CODE><VAR>file</VAR><CODE>,...</CODE></DT>
<DD><A name=index-finstrument-functions-exclude-file-list-2600></A>Set the list of functions that are excluded from instrumentation (see the description of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>-finstrument-functions</CODE>). If the file that contains a function definition matches with one of<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>file</VAR>, then that function is not instrumented. The match is done on substrings: if the<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>file</VAR>parameter is a substring of the file name, it is considered to be a match.
<P>For example:</P><PRE style="FONT-SIZE: smaller" class=smallexample>          -finstrument-functions-exclude-file-list=/bits/stl,include/sys
</PRE>
<P class=noindent>excludes any inline function defined in files whose pathnames contain<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>/bits/stl</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>include/sys</CODE>.</P>
<P>If, for some reason, you want to include letter<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>','</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>in one of<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>sym</VAR>, write<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>'\,'</CODE>. For example,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>-finstrument-functions-exclude-file-list='\,\,tmp'</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(note the single quote surrounding the option).<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-finstrument-functions-exclude-function-list=</CODE><VAR>sym</VAR><CODE>,</CODE><VAR>sym</VAR><CODE>,...</CODE></DT>
<DD><A name=index-finstrument-functions-exclude-function-list-2601></A>This is similar to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>-finstrument-functions-exclude-file-list</CODE>, but this option sets the list of function names to be excluded from instrumentation. The function name to be matched is its user-visible name, such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>vector&lt;int&gt; blah(const vector&lt;int&gt; &amp;)</CODE>, not the internal mangled name (e.g.,<CODE>_Z4blahRSt6vectorIiSaIiEE</CODE>). The match is done on substrings: if the<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>sym</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>parameter is a substring of the function name, it is considered to be a match. For C99 and C++ extended identifiers, the function name must be given in UTF-8, not using universal character names.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></DD>
<DT><CODE>-fstack-check</CODE></DT>
<DD><A name=index-fstack-check-2602></A>Generate code to verify that you do not go beyond the boundary of the stack. You should specify this flag if you are running in an environment with multiple threads, but you only rarely need to specify it in a single-threaded environment since stack overflow is automatically detected on nearly all systems if there is only one stack.
<P>Note that this switch does not actually cause checking to be done; the operating system or the language runtime must do that. The switch causes generation of code to ensure that they see the stack being extended.</P>
<P>You can additionally specify a string parameter:<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>no</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>means no checking,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>generic</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>means force the use of old-style checking,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>specific</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>means use the best checking method and is equivalent to bare<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fstack-check</SPAN></SAMP>.</P>
<P>Old-style checking is a generic mechanism that requires no specific target support in the compiler but comes with the following drawbacks:</P>
<OL type=1>
<LI>Modified allocation strategy for large objects: they are always allocated dynamically if their size exceeds a fixed threshold.</LI>
<LI>Fixed limit on the size of the static frame of functions: when it is topped by a particular function, stack checking is not reliable and a warning is issued by the compiler.</LI>
<LI>Inefficiency: because of both the modified allocation strategy and the generic implementation, code performance is hampered.</LI></OL>
<P>Note that old-style stack checking is also the fallback method for<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>specific</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>if no target support has been added in the compiler.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fstack-limit-register=</CODE><VAR>reg</VAR></DT>
<DT><CODE>-fstack-limit-symbol=</CODE><VAR>sym</VAR></DT>
<DT><CODE>-fno-stack-limit</CODE></DT>
<DD><A name=index-fstack-limit-register-2603></A><A name=index-fstack-limit-symbol-2604></A><A name=index-fno-stack-limit-2605></A>Generate code to ensure that the stack does not grow beyond a certain value, either the value of a register or the address of a symbol. If a larger stack is required, a signal is raised at run time. For most targets, the signal is raised before the stack overruns the boundary, so it is possible to catch the signal without taking special precautions.
<P>For instance, if the stack starts at absolute address &#8216;<SAMP><SPAN class=samp>0x80000000</SPAN></SAMP>&#8217; and grows downwards, you can use the flags<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fstack-limit-symbol=__stack_limit</SPAN></SAMP>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-Wl,--defsym,__stack_limit=0x7ffe0000</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>to enforce a stack limit of 128KB. Note that this may only work with the GNU linker.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fsplit-stack</CODE></DT>
<DD><A name=index-fsplit-stack-2606></A>Generate code to automatically split the stack before it overflows. The resulting program has a discontiguous stack which can only overflow if the program is unable to allocate any more memory. This is most useful when running threaded programs, as it is no longer necessary to calculate a good stack size to use for each thread. This is currently only implemented for the i386 and x86_64 back ends running GNU/Linux.
<P>When code compiled with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fsplit-stack</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>calls code compiled without<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fsplit-stack</SPAN></SAMP>, there may not be much stack space available for the latter code to run. If compiling all code, including library code, with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fsplit-stack</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not an option, then the linker can fix up these calls so that the code compiled without<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fsplit-stack</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>always has a large stack. Support for this is implemented in the gold linker in GNU binutils release 2.21 and later.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fleading-underscore</CODE></DT>
<DD><A name=index-fleading-underscore-2607></A>This option and its counterpart,<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fno-leading-underscore</SPAN></SAMP>, forcibly change the way C symbols are represented in the object file. One use is to help link with legacy assembly code.
<P><STRONG>Warning:</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fleading-underscore</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>switch causes GCC to generate code that is not binary compatible with code generated without that switch. Use it to conform to a non-default application binary interface. Not all targets provide complete support for this switch.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-ftls-model=</CODE><VAR>model</VAR></DT>
<DD><A name=index-ftls-model-2608></A>Alter the thread-local storage model to be used (see<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="https://gcc.gnu.org/onlinedocs/gcc-4.9.1/gcc/Thread-Local.html#Thread-Local">Thread-Local</A>). The<SPAN class=Apple-converted-space>&nbsp;</SPAN><VAR>model</VAR><SPAN class=Apple-converted-space>&nbsp;</SPAN>argument should be one of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>global-dynamic</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>local-dynamic</CODE>,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>initial-exec</CODE>or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>local-exec</CODE>. Note that the choice is subject to optimization: the compiler may use a more efficient model for symbols not visible outside of the translation unit, or if<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is not given on the command line.
<P>The default without<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>is<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>initial-exec</CODE>; with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fpic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>the default is<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>global-dynamic</CODE>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fvisibility=</CODE><VAR>default|internal|hidden|protected</VAR></DT>
<DD><A name=index-fvisibility-2609></A>Set the default ELF image symbol visibility to the specified option&#8212;all symbols are marked with this unless overridden within the code. Using this feature can very substantially improve linking and load times of shared object libraries, produce more optimized code, provide near-perfect API export and prevent symbol clashes. It is<SPAN class=Apple-converted-space>&nbsp;</SPAN><STRONG>strongly</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>recommended that you use this in any shared objects you distribute.
<P>Despite the nomenclature,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>default</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>always means public; i.e., available to be linked against from outside the shared object.<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>protected</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<CODE>internal</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>are pretty useless in real-world usage so the only other commonly used option is<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>hidden</CODE>. The default if<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fvisibility</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>isn't specified is<CODE>default</CODE>, i.e., make every symbol public&#8212;this causes the same behavior as previous versions of GCC.</P>
<P>A good explanation of the benefits offered by ensuring ELF symbols have the correct visibility is given by &#8220;How To Write Shared Libraries&#8221; by Ulrich Drepper (which can be found at<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://people.redhat.com/~drepper/">http://people.redhat.com/~drepper/</A>)&#8212;however a superior solution made possible by this option to marking things hidden when the default is public is to make the default hidden and mark things public. This is the norm with DLLs on Windows and with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fvisibility=hidden</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__attribute__ ((visibility("default")))</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>instead of<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__declspec(dllexport)</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>you get almost identical semantics with identical syntax. This is a great boon to those working with cross-platform projects.</P>
<P>For those adding visibility support to existing code, you may find &#8216;<SAMP><SPAN class=samp>#pragma GCC visibility</SPAN></SAMP>&#8217; of use. This works by you enclosing the declarations you wish to set visibility for with (for example) &#8216;<SAMP><SPAN class=samp>#pragma GCC visibility push(hidden)</SPAN></SAMP>&#8217; and &#8216;<SAMP><SPAN class=samp>#pragma GCC visibility pop</SPAN></SAMP>&#8217;. Bear in mind that symbol visibility should be viewed<SPAN class=Apple-converted-space>&nbsp;</SPAN><STRONG>as part of the API interface contract</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>and thus all new code should always specify visibility when it is not the default; i.e., declarations only for use within the local DSO should<SPAN class=Apple-converted-space>&nbsp;</SPAN><STRONG>always</STRONG><SPAN class=Apple-converted-space>&nbsp;</SPAN>be marked explicitly as hidden as so to avoid PLT indirection overheads&#8212;making this abundantly clear also aids readability and self-documentation of the code. Note that due to ISO C++ specification requirements,<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>operator new</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>operator delete</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>must always be of default visibility.</P>
<P>Be aware that headers from outside your project, in particular system headers and headers from any other library you use, may not be expecting to be compiled with visibility other than the default. You may need to explicitly say &#8216;<SAMP><SPAN class=samp>#pragma GCC visibility push(default)</SPAN></SAMP>&#8217; before including any such headers.</P>
<P>&#8216;<SAMP><SPAN class=samp>extern</SPAN></SAMP>&#8217; declarations are not affected by<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fvisibility</SPAN></SAMP>, so a lot of code can be recompiled with<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fvisibility=hidden</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>with no modifications. However, this means that calls to<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>extern</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>functions with no explicit visibility use the PLT, so it is more effective to use<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__attribute ((visibility))</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>and/or<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>#pragma GCC visibility</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>to tell the compiler which<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>extern</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>declarations should be treated as hidden.</P>
<P>Note that<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fvisibility</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>does affect C++ vague linkage entities. This means that, for instance, an exception class that is be thrown between DSOs must be explicitly marked with default visibility so that the &#8216;<SAMP><SPAN class=samp>type_info</SPAN></SAMP>&#8217; nodes are unified between the DSOs.</P>
<P>An overview of these techniques, their benefits and how to use them is at<SPAN class=Apple-converted-space>&nbsp;</SPAN><A href="http://gcc.gnu.org/wiki/Visibility">http://gcc.gnu.org/wiki/Visibility</A>.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fstrict-volatile-bitfields</CODE></DT>
<DD><A name=index-fstrict-volatile-bitfields-2610></A>This option should be used if accesses to volatile bit-fields (or other structure fields, although the compiler usually honors those types anyway) should use a single access of the width of the field's type, aligned to a natural alignment if possible. For example, targets with memory-mapped peripheral registers might require all such accesses to be 16 bits wide; with this flag you can declare all peripheral bit-fields as<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>unsigned short</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>(assuming short is 16 bits on these targets) to force GCC to use 16-bit accesses instead of, perhaps, a more efficient 32-bit access.
<P>If this option is disabled, the compiler uses the most efficient instruction. In the previous example, that might be a 32-bit load instruction, even though that accesses bytes that do not contain any portion of the bit-field, or memory-mapped registers unrelated to the one being updated.</P>
<P>In some cases, such as when the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>packed</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>attribute is applied to a structure field, it may not be possible to access the field with a single read or write that is correctly aligned for the target machine. In this case GCC falls back to generating multiple accesses rather than code that will fault or truncate the result at run time.</P>
<P>Note: Due to restrictions of the C/C++11 memory model, write accesses are not allowed to touch non bit-field members. It is therefore recommended to define all bits of the field's type as bit-field members.</P>
<P>The default value of this option is determined by the application binary interface for the target processor.<SPAN class=Apple-converted-space>&nbsp;</SPAN><BR></P></DD>
<DT><CODE>-fsync-libcalls</CODE></DT>
<DD><A name=index-fsync-libcalls-2611></A>This option controls whether any out-of-line instance of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__sync</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>family of functions may be used to implement the C++11<SPAN class=Apple-converted-space>&nbsp;</SPAN><CODE>__atomic</CODE><SPAN class=Apple-converted-space>&nbsp;</SPAN>family of functions.
<P>The default value of this option is enabled, thus the only useful form of the option is<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=option>-fno-sync-libcalls</SPAN></SAMP>. This option is used in the implementation of the<SPAN class=Apple-converted-space>&nbsp;</SPAN><SAMP><SPAN class=file>libatomic</SPAN></SAMP><SPAN class=Apple-converted-space>&nbsp;</SPAN>runtime library.</P></DD></DL>