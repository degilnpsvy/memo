<H4 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: medium; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" class=subsection>6.42.2 Multiple Alternative Constraints</H4>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><A name=index-multiple-alternative-constraints-3114></A>Sometimes a single instruction has multiple alternative sets of possible operands. For example, on the 68000, a logical-or instruction can combine register or an immediate value into memory, or it can combine any kind of operand into a register; but it cannot combine one memory location into another.</P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">These constraints are represented as multiple alternatives. An alternative can be described by a series of letters for each operand. The overall constraint for an operand is made from the letters for this operand from the first alternative, a comma, the letters for this operand from the second alternative, a comma, and so on until the last alternative.</P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">If all the operands fit any one alternative, the instruction is valid. Otherwise, for each alternative, the compiler counts how many instructions must be added to copy the operands so that that alternative applies. The alternative requiring the least copying is chosen. If two alternatives need the same amount of copying, the one that comes first is chosen. These choices can be altered with the &#8216;<SAMP><SPAN class=samp>?</SPAN></SAMP>&#8217; and &#8216;<SAMP><SPAN class=samp>!</SPAN></SAMP>&#8217; characters:<A name=index-g_t_0040samp_007b_003f_007d-in-constraint-3115></A><A name=index-question-mark-3116></A></P>
<DL style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium Simsun; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">
<DT><CODE>?</CODE></DT>
<DD>Disparage slightly the alternative that the &#8216;<SAMP><SPAN class=samp>?</SPAN></SAMP>&#8217; appears in, as a choice when no alternative applies exactly. The compiler regards this alternative as one unit more costly for each &#8216;<SAMP><SPAN class=samp>?</SPAN></SAMP>&#8217; that appears in it.
<P><A name=index-g_t_0040samp_007b_0021_007d-in-constraint-3117></A><A name=index-exclamation-point-3118></A><BR></P></DD>
<DT><CODE>!</CODE></DT>
<DD>Disparage severely the alternative that the &#8216;<SAMP><SPAN class=samp>!</SPAN></SAMP>&#8217; appears in. This alternative can still be used if it fits without reloading, but if reloading is needed, some other alternative will be used.</DD></DL>