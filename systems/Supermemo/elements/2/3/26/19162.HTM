<H1 style="BORDER-BOTTOM: rgb(102,0,0) 2px solid; TEXT-ALIGN: left; LINE-HEIGHT: 30px; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; MARGIN-TOP: 0px; TEXT-INDENT: 0px; FONT-FAMILY: arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: 1.5em; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">pts(4) - Linux man page</H1>
<H2 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: 1.25em; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Name</H2><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">ptmx, pts - pseudoterminal master and slave</SPAN> 
<H2 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: 1.25em; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Description</H2>
<DIV style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; MARGIN: 0px 131px 0.5em 1em; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: right; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px" id=adright><INS style="WIDTH: 336px; DISPLAY: inline-block; HEIGHT: 280px" class=adsbygoogle data-ad-client="ca-pub-5823754184406795" data-ad-slot="7130739364" data-adsbygoogle-status="done"><INS style="BORDER-BOTTOM: medium none; POSITION: relative; BORDER-LEFT: medium none; PADDING-BOTTOM: 0px; BACKGROUND-COLOR: transparent; MARGIN: 0px; PADDING-LEFT: 0px; WIDTH: 336px; PADDING-RIGHT: 0px; DISPLAY: inline-table; HEIGHT: 280px; VISIBILITY: visible; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0px" id=aswift_0_expand><INS style="BORDER-BOTTOM: medium none; POSITION: relative; BORDER-LEFT: medium none; PADDING-BOTTOM: 0px; BACKGROUND-COLOR: transparent; MARGIN: 0px; PADDING-LEFT: 0px; WIDTH: 336px; PADDING-RIGHT: 0px; DISPLAY: block; HEIGHT: 280px; VISIBILITY: visible; BORDER-TOP: medium none; BORDER-RIGHT: medium none; PADDING-TOP: 0px" id=aswift_0_anchor></INS></INS></INS></DIV><FONT class=extract><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">The file<SPAN class=Apple-converted-space>&nbsp;</SPAN></SPAN><I style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: italic medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">/dev/ptmx</I><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><SPAN class=Apple-converted-space>&nbsp;</SPAN>is a character file with major number 5 and minor number 2, usually of mode 0666 and owner.group of root.root. It is used to create a pseudoterminal master and slave pair.</SPAN></FONT> 
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><FONT class=extract>When a process opens<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic">/dev/ptmx</I>, it gets a file descriptor for a pseudoterminal master (PTM), and a pseudoterminal slave (PTS) device is created in the<I style="FONT-STYLE: italic">/dev/pts</I><SPAN class=Apple-converted-space>&nbsp;</SPAN>directory. Each file descriptor obtained by opening<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic">/dev/ptmx</I><SPAN class=Apple-converted-space>&nbsp;</SPAN>is an independent PTM with its own associated PTS, whose path can be found by passing the descriptor to<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/3/ptsname">ptsname</A></B>(3)</I>.</FONT></P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Before opening the pseudoterminal slave, you must pass the master's file descriptor to<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/3/grantpt">grantpt</A></B>(3)</I><SPAN class=Apple-converted-space>&nbsp;</SPAN>and<I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/3/unlockpt">unlockpt</A></B>(3)</I>.</P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><FONT class=extract>Once both the pseudoterminal master and slave are open, the slave provides processes with an interface that is identical to that of a real terminal.</FONT></P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><FONT class=extract>Data written to the slave is presented on the master descriptor as input. Data written to the master is presented to the slave as input.</FONT></P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><FONT class=extract>In practice, pseudoterminals are used for implementing terminal emulators such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/1/xterm">xterm</A></B>(1)</I>, in which data read from the pseudoterminal master is interpreted by the application in the same way a real terminal would interpret the data, and for implementing remote-login programs such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/8/sshd">sshd</A></B>(8)</I>, in which data read from the pseudoterminal master is sent across the network to a client program that is connected to a terminal or terminal emulator.</FONT></P>
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Pseudoterminals can also be used to send input to programs that normally refuse to read input from pipes (such as<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/1/su">su</A></B>(1)</I>, and<I style="FONT-STYLE: italic"><B style="FONT-WEIGHT: bold"><A style="COLOR: rgb(102,0,0)" href="http://linux.die.net/man/1/passwd">passwd</A></B>(1)</I>).</P>
<H2 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: 1.25em; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Files</H2><I style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: italic medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">/dev/ptmx</I><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">,<SPAN class=Apple-converted-space>&nbsp;</SPAN></SPAN><I style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: italic medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">/dev/pts/*</I><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"></SPAN> 
<H2 style="LINE-HEIGHT: normal; TEXT-TRANSFORM: none; FONT-VARIANT: normal; FONT-STYLE: normal; TEXT-INDENT: 0px; FONT-FAMILY: arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); FONT-SIZE: 1.25em; WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Notes</H2><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">The Linux support for the above (known as UNIX 98 pseudoterminal naming) is done using the<SPAN class=Apple-converted-space>&nbsp;</SPAN></SPAN><I style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: italic medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">devpts</I><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px"><SPAN class=Apple-converted-space>&nbsp;</SPAN>file system, that should be mounted on<SPAN class=Apple-converted-space>&nbsp;</SPAN></SPAN><I style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: italic medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">/dev/pts</I><SPAN style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; DISPLAY: inline !important; FONT: medium arial, sans-serif; WHITE-SPACE: normal; FLOAT: none; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">.</SPAN> 
<P style="TEXT-TRANSFORM: none; TEXT-INDENT: 0px; FONT: medium arial, sans-serif; WHITE-SPACE: normal; LETTER-SPACING: normal; COLOR: rgb(0,0,0); WORD-SPACING: 0px; -webkit-text-stroke-width: 0px">Before this UNIX 98 scheme, master pseudoterminals were called<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic">/dev/ptyp0</I>, ... and slave pseudoterminals<SPAN class=Apple-converted-space>&nbsp;</SPAN><I style="FONT-STYLE: italic">/dev/ttyp0</I>, ... and one needed lots of preallocated device nodes.