<H3 class=docSection1Title>4.2. Working with Multiple Buffers</H3>
<P class=docText><FONT class=extract>If you want to create a </FONT><A name=gnu3-CHP-4-ITERM-1998></A><A name=gnu3-CHP-4-ITERM-1999></A><FONT class=extract>buffer that contains a file, simply type <SPAN class=docEmphBold>C-x C-f</SPAN> to find the file. Emacs automatically creates a second buffer and moves you there. If you already have a copy of the file in a buffer, <SPAN class=docEmphBold>C-x C-f</SPAN> just moves you to the existing buffer.</FONT> This move is sensible and probably really what you want anyhow; if <SPAN class=docEmphBold>C-x C-f</SPAN> read the file from disk every time, you could end up with many versions of the same file that were each slightly different. If the filename you give <SPAN class=docEmphBold>C-x C-f</SPAN> doesn't exist, Emacs assumes you want to create a new file by that name and moves you to a blank buffer.</P><A name=gnu3-CHP-4-SECT-2.1></A>
<H4 class=docSection2Title>4.2.1 Switching Buffers</H4>
<P class=docText><FONT class=extract><SPAN class=docEmphBold>C-x C-f</SPAN> is always followed by a </FONT><A name=gnu3-CHP-4-ITERM-2000></A><A name=gnu3-CHP-4-ITERM-2001></A><FONT class=extract>filename. The command for moving between buffers, <SPAN class=docEmphBold>C-x b</SPAN>, is followed by a buffer name.</FONT> Did you realize that the mode line doesn't display filenames but only buffer names? Some versions of Emacs show both, but GNU Emacs shows only the buffer name. The buffer name and the filename, if any, are the same unless you change them (see the section "Renaming Buffers," later in this chapter).</P>
<P class=docText>To move between the buffers, type <SPAN class=docEmphBold>C-x b</SPAN>. Emacs shows you a default buffer name. Press <SPAN class=docEmphBold>Enter</SPAN> if that's the buffer you want, or type the first few characters of the correct buffer name and press <SPAN class=docEmphBold>Tab</SPAN>. Emacs fills in the rest of the name. Now press <SPAN class=docEmphBold>Enter</SPAN> to move to the buffer.</P>
<P class=docText>You can do the following with <SPAN class=docEmphBold>C-x b</SPAN>:</P><A name=ch04-2-fm2xml></A>
<TABLE cellSpacing=0 cellPadding=4 rules=all width="100%" border=1>
<COLGROUP>
<COL>
<COL></COLGROUP>
<THEAD>
<TR>
<TH class=thead scope=col>
<P class=docText><SPAN class=docEmphBold>If you type C-x b followed by</SPAN>:</P></TH>
<TH class=thead scope=col>
<P class=docText><SPAN class=docEmphBold>Emacs</SPAN>:</P></TH></TR></THEAD>
<TBODY>
<TR>
<TD class=docTableCell>
<P class=docText>A new buffer name</P></TD>
<TD class=docTableCell>
<P class=docText>Creates a new buffer that isn't connected with a file and moves there.</P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText>The name of an existing buffer</P></TD>
<TD class=docTableCell>
<P class=docText>Moves you to the buffer (it doesn't matter whether the buffer is connected with a file or not).</P></TD></TR></TBODY></TABLE><BR>
<P class=docText>If you want to create a second (or third or fourth, etc.) empty buffer, type <SPAN class=docEmphBold>C-x b</SPAN>. Emacs asks for a buffer name. You can use any name, for example, <SPAN class=docEmphBold>practice</SPAN>, and press <SPAN class=docEmphBold>Enter</SPAN>. Emacs creates the buffer and moves you there. For example, assume you've been working on your tried-and-true <TT>dickens</TT> buffer. But you'd like something new, so you start a new buffer to play with some prose from James Joyce.</P><A name=ch04-3-fm2xml></A>
<TABLE cellSpacing=0 cellPadding=4 rules=all width="100%" border=1>
<COLGROUP>
<COL></COLGROUP>
<TBODY>
<TR>
<TD class=docTableCell>
<P class=docText>Type: <SPAN class=docEmphBold>C-x b joyce</SPAN></P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText><IMG height=199 alt="" src="file:///D:/&#25105;&#30340;&#37239;&#30424;/&#24037;&#20316;&#30446;&#24405;/Now/learning-gnu-emacs-3rd/0596006489/images/0596006489/figs/ge3_ch04scrn01.gif" width=425 border=0> </P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText>You typed a new buffer name.</P></TD></TR></TBODY></TABLE><BR><A name=ch04-4-fm2xml></A>
<TABLE cellSpacing=0 cellPadding=4 rules=all width="100%" border=1>
<COLGROUP>
<COL></COLGROUP>
<TBODY>
<TR>
<TD class=docTableCell>
<P class=docText>Type: <SPAN class=docEmphBold>Enter</SPAN></P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText><IMG height=130 alt="" src="file:///D:/&#25105;&#30340;&#37239;&#30424;/&#24037;&#20316;&#30446;&#24405;/Now/learning-gnu-emacs-3rd/0596006489/images/0596006489/figs/ge3_ch04scrn02.gif" width=425 border=0> </P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText>Now you have a new buffer named <TT>joyce</TT> to type in.</P></TD></TR></TBODY></TABLE><BR>
<P class=docText>This procedure isn't all that different from using <SPAN class=docEmphBold>C-x C-f</SPAN>; about the only difference is that the new buffer, <TT>joyce</TT>, isn't yet associated with a file. Therefore, if you quit Emacs, the editor won't ask you whether or not you want to save it.</P>
<P class=docText><SPAN class=docEmphBold>C-x b</SPAN> is especially useful if you don't know the name of the file you are working with. Assume you're working with some obscure file with an unusual name such as <SPAN class=docEmphasis>.saves-5175-pcp832913pcs.nrockv01.ky.roadrunner.com</SPAN>. Now assume that you accidentally do something that makes this buffer disappear from your screen. How do you get <SPAN class=docEmphasis>.saves-5175-pcp832913pcs.nrockv01.ky.roadrunner.com</SPAN> back onto the screen? Do you need to remember the entire name or even a part of it? No. Before doing anything else, just type <SPAN class=docEmphBold>C-x b</SPAN>. The default buffer is the buffer that most recently disappeared; type <SPAN class=docEmphBold>Enter</SPAN> and you'll see it again.</P>
<P class=docText>Alternatively, the Buffer Menu popup <A name=gnu3-CHP-4-ITERM-2002></A><A name=gnu3-CHP-4-ITERM-2003></A><A name=gnu3-CHP-4-ITERM-2004></A>lists buffers by major mode, and you can choose one. Hold down <SPAN class=docEmphBold>Ctrl</SPAN> and click the left mouse button to see a pop-up menu of your current buffers. (The Buffers menu at the top of the screen also shows all current buffers.)</P><A name=ch04-5-fm2xml></A>
<TABLE cellSpacing=0 cellPadding=4 rules=all width="100%" border=1>
<COLGROUP>
<COL></COLGROUP>
<TBODY>
<TR>
<TD class=docTableCell>
<P class=docText>Hold down <SPAN class=docEmphBold>Ctrl</SPAN> and click the left mouse button.</P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText><IMG height=274 alt="" src="file:///D:/&#25105;&#30340;&#37239;&#30424;/&#24037;&#20316;&#30446;&#24405;/Now/learning-gnu-emacs-3rd/0596006489/images/0596006489/figs/ge3_ch04scrn03.gif" width=425 border=0> </P></TD></TR>
<TR>
<TD class=docTableCell>
<P class=docText>Emacs displays a pop-up menu of current buffers by mode (Mac OS X).</P></TD></TR></TBODY></TABLE><BR>
<P class=docText>To cycle through all the buffers you <A name=gnu3-CHP-4-ITERM-2005></A><A name=gnu3-CHP-4-ITERM-2006></A>have, type <SPAN class=docEmphBold>C-x</SPAN> <IMG src="file:///D:/&#25105;&#30340;&#37239;&#30424;/&#24037;&#20316;&#30446;&#24405;/Now/learning-gnu-emacs-3rd/0596006489/images/ent/u2192.gif" border=0> to go to the next buffer (in the buffer list) or <SPAN class=docEmphBold>C-x</SPAN> to go to the previous buffer. (Don't hold down Ctrl while you press the arrow key or Emacs beeps unhappily.)</P><A name=gnu3-CHP-4-SECT-2.2></A>
<H4 class=docSection2Title>4.2.2 Deleting Buffers</H4>
<P class=docText>It's easy to create buffers, and just <A name=gnu3-CHP-4-ITERM-2007></A><A name=gnu3-CHP-4-ITERM-2008></A>as easy to delete them when you want to. You may want to delete buffers if you feel your Emacs session is getting cluttered with too many buffers. Perhaps you started out working on a set of five buffers and now want to do something with another five. Getting rid of the first set of buffers makes it a bit easier to keep things straight. Deleting a buffer can also be a useful emergency escape. For example, some replacement operation may have had disastrous results. You can kill the buffer and choose not to save the changes, then read the file again.</P>
<P class=docText>Deleting a buffer doesn't delete the underlying file nor is it the same as not displaying a buffer. Buffers that are not displayed are still active whereas deleted buffers are no longer part of your Emacs session. Using the analogy of a stack of pages, deleting a buffer is like taking a page out of the current stack of buffers you are editing and filing it away.</P>
<P class=docText>Deleting buffers doesn't put you at risk of losing changes, either. If you've changed the buffer (and the buffer is associated with a file), Emacs asks if you want to save your changes before the buffer is deleted. You will lose changes to any buffers that aren't connected to files, but you probably don't care about these buffers.</P>
<P class=docText>Deleting a buffer is such a basic operation that it is on the Emacs toolbar, the X symbol. Now let's learn how to do it from the keyboard to increase your fluency in Emacs.</P>
<P class=docText><FONT class=extract>To delete a buffer, type <SPAN class=docEmphBold>C-x k</SPAN> (for <SPAN class=docEmphBold>kill-buffer</SPAN>).</FONT> Emacs shows the name of the buffer currently displayed; press <SPAN class=docEmphBold>Enter</SPAN> to delete it or type another buffer name if the one being displayed is not the one you want to delete, then press <SPAN class=docEmphBold>Enter</SPAN>. If you've made changes that you haven't yet saved, Emacs displays the following message:</P><PRE>Buffer <TT><I>buffer name </I></TT> modified. Kill anyway? (yes or no).
</PRE><BR>
<P class=docText>To ditch your changes, type <SPAN class=docEmphBold>yes</SPAN>, and Emacs kills the buffer. To stop the buffer deletion process, type <SPAN class=docEmphBold>no</SPAN>. You can then type <SPAN class=docEmphBold>C-x C-s</SPAN> to save the buffer, followed by <SPAN class=docEmphBold>C-x k</SPAN> to kill it.</P>
<P class=docText>You can also have Emacs ask you about deleting each buffer, and you can decide whether to kill each one individually. <FONT class=extract>Type <SPAN class=docEmphBold>M-x kill-some-buffers</SPAN> to weed out unneeded buffers this way. Emacs displays the name of each buffer and whether or not it was modified, then asks whether you want to kill it.</FONT> Emacs offers to kill each and every buffer, including the buffers it creates automatically, like <TT>*scratch*</TT> and <TT>*Messages*</TT>. If you kill all the buffers in your session, Emacs creates a new <TT>*scratch*</TT> buffer; after all, something has to display on the screen!